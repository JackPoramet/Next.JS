# ğŸŒŸ IoT Electric Energy Management System

> à¸£à¸°à¸šà¸šà¸ˆà¸±à¸”à¸à¸²à¸£à¸à¸¥à¸±à¸‡à¸‡à¸²à¸™à¹„à¸Ÿà¸Ÿà¹‰à¸² IoT à¹à¸šà¸š Full-Stack à¸”à¹‰à¸§à¸¢ Next.js 15, TypeScript à¹à¸¥à¸° PostgreSQL  
> **à¸ªà¸–à¸²à¸™à¸°**: Production Ready âœ… | **à¸­à¸±à¸à¹€à¸”à¸—à¸¥à¹ˆà¸²à¸ªà¸¸à¸”**: 29 à¸ªà¸´à¸‡à¸«à¸²à¸„à¸¡ 2025

[![Next.js](https://img.shields.io/badge/Next.js-15.5.0-000000?logo=next.js)](https://nextjs.org/)
[![React](https://img.shields.io/badge/React-19.1.0-61DAFB?logo=react)](https://reactjs.org/)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.8.3-3178C6?logo=typescript)](https://www.typescriptlang.org/)
[![PostgreSQL](https://img.shields.io/badge/PostgreSQL-16+-336791?logo=postgresql)](https://www.postgresql.org/)
[![Tailwind CSS](https://img.shields.io/badge/Tailwind_CSS-4.1.11-38B2AC?logo=tailwind-css)](https://tailwindcss.com/)
[![SSE](https://img.shields.io/badge/SSE-Real--time-orange?logo=firefox)](https://developer.mozilla.org/en-US/docs/Web/API/Server-sent_events)
[![MQTT](https://img.shields.io/badge/MQTT-IoT_Protocol-green?logo=mqtt)](https://mqtt.org/)

## ğŸ†• à¸­à¸±à¸à¹€à¸”à¸—à¸¥à¹ˆà¸²à¸ªà¸¸à¸” (29 à¸ªà¸´à¸‡à¸«à¸²à¸„à¸¡ 2025)

### âœ… Production Ready Features

#### ğŸ—ï¸ Build & Deployment Success
- **Build Status**: âœ… Production build à¸ªà¸³à¹€à¸£à¹‡à¸ˆ (29.2s compilation time)
- **Type Safety**: âœ… TypeScript compilation à¸œà¹ˆà¸²à¸™à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”
- **Code Quality**: âš ï¸ Minor linting warnings (non-blocking)
- **Bundle Optimization**: âœ… Route-based code splitting à¸à¸£à¹‰à¸­à¸¡

#### ğŸ”” IoT Device Discovery & Notification System 
- **Database-driven Notifications**: à¹à¸ˆà¹‰à¸‡à¹€à¸•à¸·à¸­à¸™à¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¹ƒà¸«à¸¡à¹ˆà¸œà¹ˆà¸²à¸™ `devices_pending` table
- **Real-time Bell Icon**: à¸à¸£à¸°à¸”à¸´à¹ˆà¸‡à¹à¸ˆà¹‰à¸‡à¹€à¸•à¸·à¸­à¸™à¹à¸ªà¸”à¸‡à¸ˆà¸³à¸™à¸§à¸™à¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¸—à¸µà¹ˆà¸£à¸­à¸à¸²à¸£à¸­à¸™à¸¸à¸¡à¸±à¸•à¸´ (polling à¸—à¸¸à¸ 10 à¸§à¸´à¸™à¸²à¸—à¸µà¸ªà¸³à¸«à¸£à¸±à¸š admin)
- **Smart Navigation**: à¸„à¸¥à¸´à¸à¸à¸£à¸°à¸”à¸´à¹ˆà¸‡à¸™à¸³à¸—à¸²à¸‡à¹„à¸› Device Approval page à¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´
- **Auto Cleanup Service**: à¸¥à¸šà¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¸—à¸µà¹ˆà¹„à¸¡à¹ˆà¸­à¸±à¸à¹€à¸”à¸—à¸¡à¸²à¸™à¸²à¸™ 60 à¸§à¸´à¸™à¸²à¸—à¸µà¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´ (à¸—à¸³à¸‡à¸²à¸™à¸—à¸¸à¸ 15 à¸§à¸´à¸™à¸²à¸—à¸µ)

#### ğŸ“¡ Advanced MQTT & Real-time Integration
- **MQTT Broker**: à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­à¸ªà¸³à¹€à¸£à¹‡à¸ˆà¸à¸±à¸š `iot666.ddns.net:1883`
- **15 MQTT Topics**: Subscribe à¸„à¸£à¸­à¸šà¸„à¸¥à¸¸à¸¡ 6 à¸„à¸“à¸° à¸à¸£à¹‰à¸­à¸¡ datas/prop/data topics
- **Virtual Device Simulator**: Python scripts à¸ˆà¸³à¸¥à¸­à¸‡à¸­à¸¸à¸›à¸à¸£à¸“à¹Œ IoT à¸ªà¹ˆà¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹à¸šà¸šà¸ˆà¸£à¸´à¸‡
- **Nested JSON Processing**: à¹à¸à¹‰à¹„à¸‚à¸à¸²à¸£à¹à¸›à¸¥à¸‡ `device_prop` object à¸ˆà¸²à¸ MQTT messages
- **SSE Broadcasting**: à¹à¸ˆà¸à¸ˆà¹ˆà¸²à¸¢à¸‚à¹‰à¸­à¸¡à¸¹à¸¥ MQTT à¹à¸šà¸š real-time à¸œà¹ˆà¸²à¸™ Server-Sent Events

#### ğŸ›ï¸ Complete Admin Dashboard
- **Device Management**: à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­à¸à¸²à¸™à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸ˆà¸£à¸´à¸‡ à¹à¸ªà¸”à¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¸„à¸£à¸šà¸–à¹‰à¸§à¸™
- **Responsible Persons**: à¸ˆà¸±à¸”à¸à¸²à¸£à¸šà¸¸à¸„à¸„à¸¥à¸£à¸±à¸šà¸œà¸´à¸”à¸Šà¸­à¸šà¸­à¸¸à¸›à¸à¸£à¸“à¹Œ
- **Manufacturer Management**: à¸ˆà¸±à¸”à¸à¸²à¸£à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸œà¸¹à¹‰à¸œà¸¥à¸´à¸•à¸­à¸¸à¸›à¸à¸£à¸“à¹Œ
- **Faculty-based Organization**: à¸ˆà¸±à¸”à¸à¸¥à¸¸à¹ˆà¸¡à¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¸•à¸²à¸¡ 6 à¸„à¸“à¸°
- **Real-time Status**: Online/Offline detection à¸•à¸²à¸¡ 60-second timeout

#### ğŸ—„ï¸ Production Database Schema
- **Device Approval Workflow**: Table `devices_pending` à¸ªà¸³à¸«à¸£à¸±à¸šà¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¹ƒà¸«à¸¡à¹ˆ
- **Complete Relationships**: JOIN queries à¸—à¸³à¸‡à¸²à¸™à¸–à¸¹à¸à¸•à¹‰à¸­à¸‡à¸à¸±à¸šà¸—à¸¸à¸ related tables
- **Auto Migration**: Database migration scripts à¸à¸£à¹‰à¸­à¸¡à¹ƒà¸Šà¹‰à¸‡à¸²à¸™
- **Data Integrity**: Foreign key constraints à¹à¸¥à¸° data validation

### ğŸš€ Performance Metrics (Production Build)

| Metric | Value | Status |
|--------|--------|---------|
| **Build Time** | 29.2s | âœ… Optimized |
| **Total Routes** | 39 routes | âœ… Complete |
| **Static Pages** | 11 pages | âœ… Pre-rendered |
| **Bundle Size** | ~105KB average | âœ… Optimized |
| **MQTT Topics** | 15 active topics | âœ… Full coverage |
| **Database Tables** | 10+ tables | âœ… Normalized |

### ğŸ“Š System Architecture (Updated 2025)

```mermaid
graph TB
    subgraph "ğŸ IoT Device Layer"
        VD[Virtual Device Simulator<br/>Python MQTT Scripts]
        RD[Real IoT Devices<br/>ESP32, Arduino, etc.]
    end
    
    subgraph "ğŸ“¡ Communication Layer"
        BROKER[MQTT Broker<br/>iot666.ddns.net:1883<br/>15 Active Topics]
        SSE[SSE Service<br/>Real-time Broadcasting<br/>Auto-reconnection]
    end
    
    subgraph "ğŸŒ Next.js Application"
        API[API Routes<br/>39 Endpoints]
        MQTT_SRV[MQTT Service<br/>Auto-subscribing]
        CLEAN[Cleanup Service<br/>15s Intervals]
    end
    
    subgraph "ğŸ’¾ Data Layer"
        PG[(PostgreSQL<br/>Production Ready<br/>Connection Pooling)]
        PENDING[(devices_pending<br/>Auto Discovery)]
        DEVICES[(devices<br/>Registered Devices)]
    end
    
    subgraph "ğŸ¨ Frontend Layer"
        DASH[Real-time Dashboard<br/>Faculty-based Filtering]
        ADMIN[Admin Panel<br/>Device Management]
        NOTIF[Notification Bell<br/>10s Polling]
    end
    
    VD --> BROKER
    RD --> BROKER
    BROKER --> MQTT_SRV
    MQTT_SRV --> SSE
    MQTT_SRV --> PENDING
    CLEAN --> PENDING
    SSE --> DASH
    API --> PG
    API --> DEVICES
    PENDING --> NOTIF
    NOTIF --> ADMIN
```

---

## ğŸ“‹ à¸ªà¸²à¸£à¸šà¸±à¸

- [ğŸš€ à¹€à¸à¸µà¹ˆà¸¢à¸§à¸à¸±à¸šà¹‚à¸›à¸£à¹€à¸ˆà¸„](#-à¹€à¸à¸µà¹ˆà¸¢à¸§à¸à¸±à¸šà¹‚à¸›à¸£à¹€à¸ˆà¸„)
- [âš¡ à¸„à¸¸à¸“à¸ªà¸¡à¸šà¸±à¸•à¸´à¸«à¸¥à¸±à¸](#-à¸„à¸¸à¸“à¸ªà¸¡à¸šà¸±à¸•à¸´à¸«à¸¥à¸±à¸)
- [ğŸ› ï¸ à¹€à¸—à¸„à¹‚à¸™à¹‚à¸¥à¸¢à¸µà¸—à¸µà¹ˆà¹ƒà¸Šà¹‰](#ï¸-à¹€à¸—à¸„à¹‚à¸™à¹‚à¸¥à¸¢à¸µà¸—à¸µà¹ˆà¹ƒà¸Šà¹‰)
- [ğŸ—ï¸ à¸ªà¸–à¸²à¸›à¸±à¸•à¸¢à¸à¸£à¸£à¸¡à¸£à¸°à¸šà¸š](#ï¸-à¸ªà¸–à¸²à¸›à¸±à¸•à¸¢à¸à¸£à¸£à¸¡à¸£à¸°à¸šà¸š)
- [ğŸ”§ à¸à¸²à¸£à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡](#-à¸à¸²à¸£à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡)
- [ğŸ“– à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™](#-à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™)
- [ğŸ” à¸£à¸°à¸šà¸š Authentication](#-à¸£à¸°à¸šà¸š-authentication)
- [ğŸ“¡ à¸£à¸°à¸šà¸š Real-time](#-à¸£à¸°à¸šà¸š-real-time)
- [ğŸ“± API Documentation](#-api-documentation)
- [ğŸ—‚ï¸ à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡à¹‚à¸›à¸£à¹€à¸ˆà¸„](#ï¸-à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡à¹‚à¸›à¸£à¹€à¸ˆà¸„)
- [ğŸ§ª à¸à¸²à¸£à¸—à¸”à¸ªà¸­à¸š](#-à¸à¸²à¸£à¸—à¸”à¸ªà¸­à¸š)
- [ğŸš€ à¸à¸²à¸£ Deploy](#-à¸à¸²à¸£-deploy)
- [ğŸ† à¸ªà¸£à¸¸à¸›à¸„à¸§à¸²à¸¡à¸ªà¸³à¹€à¸£à¹‡à¸ˆ](#-à¸ªà¸£à¸¸à¸›à¸„à¸§à¸²à¸¡à¸ªà¸³à¹€à¸£à¹‡à¸ˆà¸‚à¸­à¸‡à¹‚à¸›à¸£à¹€à¸ˆà¸„)

---

## ğŸš€ à¹€à¸à¸µà¹ˆà¸¢à¸§à¸à¸±à¸šà¹‚à¸›à¸£à¹€à¸ˆà¸„

**IoT Electric Energy Management System** à¹€à¸›à¹‡à¸™à¸£à¸°à¸šà¸šà¸ˆà¸±à¸”à¸à¸²à¸£à¸à¸¥à¸±à¸‡à¸‡à¸²à¸™à¹„à¸Ÿà¸Ÿà¹‰à¸²à¹à¸šà¸šà¸„à¸£à¸šà¸§à¸‡à¸ˆà¸£ à¸—à¸µà¹ˆà¸à¸±à¸’à¸™à¸²à¸”à¹‰à¸§à¸¢à¹€à¸—à¸„à¹‚à¸™à¹‚à¸¥à¸¢à¸µà¸—à¸µà¹ˆà¸—à¸±à¸™à¸ªà¸¡à¸±à¸¢à¸—à¸µà¹ˆà¸ªà¸¸à¸” à¹€à¸à¸·à¹ˆà¸­à¸•à¸­à¸šà¸ªà¸™à¸­à¸‡à¸„à¸§à¸²à¸¡à¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¹ƒà¸™à¸à¸²à¸£à¸•à¸´à¸”à¸•à¸²à¸¡à¹à¸¥à¸°à¸ˆà¸±à¸”à¸à¸²à¸£à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸à¸¥à¸±à¸‡à¸‡à¸²à¸™à¹„à¸Ÿà¸Ÿà¹‰à¸²à¹ƒà¸™à¸­à¸‡à¸„à¹Œà¸à¸£à¸‚à¸™à¸²à¸”à¹ƒà¸«à¸à¹ˆ

### ğŸ¯ à¸§à¸±à¸•à¸–à¸¸à¸›à¸£à¸°à¸ªà¸‡à¸„à¹Œ
- âœ… **à¸ˆà¸±à¸”à¸à¸²à¸£à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰** - à¸£à¸°à¸šà¸š CRUD à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¹à¸šà¸šà¸„à¸£à¸šà¸–à¹‰à¸§à¸™ à¸à¸£à¹‰à¸­à¸¡ Role-based Access Control
- âœ… **à¸•à¸´à¸”à¸•à¸²à¸¡à¸­à¸¸à¸›à¸à¸£à¸“à¹Œ IoT** - à¸ˆà¸±à¸”à¸à¸²à¸£à¹à¸¥à¸°à¸•à¸´à¸”à¸•à¸²à¸¡ Smart Meter à¹à¸¥à¸°à¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¸§à¸±à¸”à¸à¸¥à¸±à¸‡à¸‡à¸²à¸™
- âœ… **Dashboard à¹à¸šà¸š Real-time** - à¹à¸ªà¸”à¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸à¸¥à¸±à¸‡à¸‡à¸²à¸™à¹à¸šà¸šà¹€à¸£à¸µà¸¢à¸¥à¹„à¸—à¸¡à¹Œà¸”à¹‰à¸§à¸¢ SSE (Server-Sent Events)
- âœ… **à¸£à¸°à¸šà¸šà¸£à¸±à¸à¸©à¸²à¸„à¸§à¸²à¸¡à¸›à¸¥à¸­à¸”à¸ à¸±à¸¢** - Authentication à¹à¸¥à¸° Authorization à¸£à¸°à¸”à¸±à¸š Enterprise
- âœ… **à¸£à¸­à¸‡à¸£à¸±à¸š Multi-Faculty** - à¸ˆà¸±à¸”à¸à¸²à¸£à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹à¸šà¸šà¹à¸¢à¸à¸•à¸²à¸¡à¸«à¸™à¹ˆà¸§à¸¢à¸‡à¸²à¸™/à¸„à¸“à¸° (6 à¸„à¸“à¸°)
- âœ… **IoT Device Discovery** - à¸£à¸°à¸šà¸šà¸„à¹‰à¸™à¸à¸šà¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¹ƒà¸«à¸¡à¹ˆà¸œà¹ˆà¸²à¸™ MQTT à¹à¸¥à¸°à¹à¸ˆà¹‰à¸‡à¹€à¸•à¸·à¸­à¸™ admin à¹à¸šà¸š real-time
- âœ… **Auto Cleanup Service** - à¸£à¸°à¸šà¸šà¸ˆà¸±à¸”à¸à¸²à¸£à¸­à¸¸à¸›à¸à¸£à¸“à¹Œ offline à¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´

### ğŸ›ï¸ à¸à¸£à¸“à¸µà¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™
- **à¸¡à¸«à¸²à¸§à¸´à¸—à¸¢à¸²à¸¥à¸±à¸¢** - à¸ˆà¸±à¸”à¸à¸²à¸£à¸à¸¥à¸±à¸‡à¸‡à¸²à¸™à¹„à¸Ÿà¸Ÿà¹‰à¸²à¸‚à¸­à¸‡à¸«à¸¥à¸²à¸¢à¸„à¸“à¸°/à¸­à¸²à¸„à¸²à¸£ (Engineering, Institution, Liberal Arts, Business Administration, Architecture, Industrial Education)
- **à¹‚à¸£à¸‡à¸‡à¸²à¸™à¸­à¸¸à¸•à¸ªà¸²à¸«à¸à¸£à¸£à¸¡** - à¸•à¸´à¸”à¸•à¸²à¸¡à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸à¸¥à¸±à¸‡à¸‡à¸²à¸™à¸‚à¸­à¸‡à¸«à¸¥à¸²à¸¢à¸«à¸™à¹ˆà¸§à¸¢à¸œà¸¥à¸´à¸•
- **à¸­à¸²à¸„à¸²à¸£à¸ªà¸³à¸™à¸±à¸à¸‡à¸²à¸™** - à¸ˆà¸±à¸”à¸à¸²à¸£à¸à¸¥à¸±à¸‡à¸‡à¸²à¸™à¸‚à¸­à¸‡à¸«à¸¥à¸²à¸¢à¸Šà¸±à¹‰à¸™/à¸à¹ˆà¸²à¸¢
- **Smart City** - à¸£à¸°à¸šà¸šà¸ˆà¸±à¸”à¸à¸²à¸£à¸à¸¥à¸±à¸‡à¸‡à¸²à¸™à¹ƒà¸™à¸Šà¸¸à¸¡à¸Šà¸™

---

## âš¡ à¸„à¸¸à¸“à¸ªà¸¡à¸šà¸±à¸•à¸´à¸«à¸¥à¸±à¸

### ğŸ” à¸£à¸°à¸šà¸šà¸£à¸±à¸à¸©à¸²à¸„à¸§à¸²à¸¡à¸›à¸¥à¸­à¸”à¸ à¸±à¸¢
- **JWT Bearer Token Authentication** - à¸£à¸°à¸šà¸šà¸¢à¸·à¸™à¸¢à¸±à¸™à¸•à¸±à¸§à¸•à¸™à¸—à¸µà¹ˆà¸›à¸¥à¸­à¸”à¸ à¸±à¸¢
- **Role-based Access Control** - à¸ˆà¸±à¸”à¸à¸²à¸£à¸ªà¸´à¸—à¸˜à¸´à¹Œà¸•à¸²à¸¡ Role (Admin, Manager, User)
- **Password Hashing** - à¹€à¸‚à¹‰à¸²à¸£à¸«à¸±à¸ªà¸£à¸«à¸±à¸ªà¸œà¹ˆà¸²à¸™à¸”à¹‰à¸§à¸¢ bcrypt
- **Session Management** - à¸ˆà¸±à¸”à¸à¸²à¸£ Session à¸”à¹‰à¸§à¸¢ HttpOnly Cookies
- **Route Protection** - à¸›à¹‰à¸­à¸‡à¸à¸±à¸™à¸à¸²à¸£à¹€à¸‚à¹‰à¸²à¸–à¸¶à¸‡à¸«à¸™à¹‰à¸²à¸—à¸µà¹ˆà¸•à¹‰à¸­à¸‡à¸¢à¸·à¸™à¸¢à¸±à¸™à¸•à¸±à¸§à¸•à¸™
- **Self-deletion Prevention** - à¸›à¹‰à¸­à¸‡à¸à¸±à¸™à¸à¸²à¸£à¸¥à¸šà¸šà¸±à¸à¸Šà¸µà¸•à¸±à¸§à¹€à¸­à¸‡

### ğŸ‘¥ à¸à¸²à¸£à¸ˆà¸±à¸”à¸à¸²à¸£à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰
- **CRUD Operations** - à¹€à¸à¸´à¹ˆà¸¡ à¹à¸à¹‰à¹„à¸‚ à¸¥à¸š à¹à¸¥à¸°à¸”à¸¹à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰
- **User Roles** - Admin, Manager, User à¸à¸£à¹‰à¸­à¸¡à¸ªà¸´à¸—à¸˜à¸´à¹Œà¸—à¸µà¹ˆà¹à¸•à¸à¸•à¹ˆà¸²à¸‡à¸à¸±à¸™
- **Profile Management** - à¹à¸à¹‰à¹„à¸‚à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸ªà¹ˆà¸§à¸™à¸•à¸±à¸§
- **Login Tracking** - à¸•à¸´à¸”à¸•à¸²à¸¡à¸à¸²à¸£à¹€à¸‚à¹‰à¸²à¹ƒà¸Šà¹‰à¸‡à¸²à¸™à¸¥à¹ˆà¸²à¸ªà¸¸à¸”
- **User Statistics** - à¸ªà¸–à¸´à¸•à¸´à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™à¸‚à¸­à¸‡à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰

### ğŸ“¡ à¸£à¸°à¸šà¸š Real-time Communication
- **Server-Sent Events (SSE)** - à¸à¸²à¸£à¸ªà¸·à¹ˆà¸­à¸ªà¸²à¸£à¹à¸šà¸š Real-time à¸œà¹ˆà¸²à¸™ HTTP streaming
- **MQTT Integration** - à¸£à¸­à¸‡à¸£à¸±à¸šà¹‚à¸›à¸£à¹‚à¸•à¸„à¸­à¸¥ MQTT à¸ªà¸³à¸«à¸£à¸±à¸šà¸­à¸¸à¸›à¸à¸£à¸“à¹Œ IoT
- **15 MQTT Topics** - à¸„à¸£à¸­à¸šà¸„à¸¥à¸¸à¸¡ 6 à¸„à¸“à¸° à¸à¸£à¹‰à¸­à¸¡ datas/prop/data topics
- **Multi-device Support** - à¸£à¸­à¸‡à¸£à¸±à¸šà¸à¸²à¸£à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­à¸«à¸¥à¸²à¸¢à¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¸à¸£à¹‰à¸­à¸¡à¸à¸±à¸™
- **Auto-reconnection** - à¸£à¸°à¸šà¸šà¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­à¹ƒà¸«à¸¡à¹ˆà¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´à¹€à¸¡à¸·à¹ˆà¸­à¸‚à¸²à¸”à¸à¸²à¸£à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­
- **Connection Fallback** - à¸£à¸°à¸šà¸š Fallback à¹€à¸¡à¸·à¹ˆà¸­à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­à¸œà¸´à¸”à¸à¸¥à¸²à¸”
- **60-Second Timeout** - à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸ªà¸–à¸²à¸™à¸° Online/Offline à¸•à¸²à¸¡ timestamp

### ğŸ“Š Dashboard à¹à¸¥à¸°à¸à¸²à¸£à¹à¸ªà¸”à¸‡à¸œà¸¥
- **Real-time IoT Dashboard** - à¹à¸ªà¸”à¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¹à¸šà¸šà¹€à¸£à¸µà¸¢à¸¥à¹„à¸—à¸¡à¹Œà¸œà¹ˆà¸²à¸™ SSE
- **Faculty-based Filtering** - à¸à¸£à¸­à¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸•à¸²à¸¡à¸„à¸“à¸°/à¸«à¸™à¹ˆà¸§à¸¢à¸‡à¸²à¸™
- **Multi-section Dashboard** - à¹à¸šà¹ˆà¸‡à¸ªà¹ˆà¸§à¸™à¹à¸ªà¸”à¸‡à¸œà¸¥à¸•à¸²à¸¡ Role
- **Responsive Design** - à¸£à¸­à¸‡à¸£à¸±à¸šà¸—à¸¸à¸à¸‚à¸™à¸²à¸”à¸«à¸™à¹‰à¸²à¸ˆà¸­ (Mobile-First)
- **Interactive Navigation** - à¹€à¸¡à¸™à¸¹à¹à¸šà¸š Slide Navigation
- **Statistics Cards** - à¹à¸ªà¸”à¸‡à¸ªà¸–à¸´à¸•à¸´à¹à¸šà¸š Visual
- **Device Status Monitoring** - à¸•à¸´à¸”à¸•à¸²à¸¡à¸ªà¸–à¸²à¸™à¸°à¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¹à¸šà¸šà¹€à¸£à¸µà¸¢à¸¥à¹„à¸—à¸¡à¹Œà¸œà¹ˆà¸²à¸™ SSE

### ğŸ­ à¸à¸²à¸£à¸ˆà¸±à¸”à¸à¸²à¸£à¸­à¸¸à¸›à¸à¸£à¸“à¹Œ IoT
- **ğŸ”” IoT Device Discovery** - à¸„à¹‰à¸™à¸à¸šà¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¹ƒà¸«à¸¡à¹ˆà¸œà¹ˆà¸²à¸™ MQTT à¹à¸¥à¸°à¹à¸ˆà¹‰à¸‡à¹€à¸•à¸·à¸­à¸™ admin à¹à¸šà¸š real-time
- **ğŸ›ï¸ Admin Device Approval** - à¸«à¸™à¹‰à¸²à¸ˆà¸±à¸”à¸à¸²à¸£à¸­à¸™à¸¸à¸¡à¸±à¸•à¸´à¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¹ƒà¸«à¸¡à¹ˆà¸ªà¸³à¸«à¸£à¸±à¸š admin à¹€à¸—à¹ˆà¸²à¸™à¸±à¹‰à¸™
- **âš¡ Auto Cleanup Service** - à¸¥à¸šà¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¸—à¸µà¹ˆà¹„à¸¡à¹ˆà¸¡à¸µà¸à¸²à¸£à¸­à¸±à¸à¹€à¸”à¸—à¸¡à¸²à¸™à¸²à¸™ 60 à¸§à¸´à¸™à¸²à¸—à¸µà¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´ (à¸—à¸³à¸‡à¸²à¸™à¸—à¸¸à¸ 15 à¸§à¸´à¸™à¸²à¸—à¸µ)
- **Faculty-based Organization** - à¸ˆà¸±à¸”à¸à¸¥à¸¸à¹ˆà¸¡à¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¸•à¸²à¸¡ 6 à¸„à¸“à¸°
- **Real-time Status Monitoring** - à¸•à¸´à¸”à¸•à¸²à¸¡à¸ªà¸–à¸²à¸™à¸° Online/Offline à¸•à¸²à¸¡ timestamp
- **Energy Data Display** - à¹à¸ªà¸”à¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥ Voltage, Current, Power, Energy, Frequency, Power Factor
- **Temperature Monitoring** - à¸•à¸´à¸”à¸•à¸²à¸¡à¸­à¸¸à¸“à¸«à¸ à¸¹à¸¡à¸´à¸­à¸¸à¸›à¸à¸£à¸“à¹Œ
- **Python Device Simulators** - à¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¸ˆà¸³à¸¥à¸­à¸‡à¸ªà¸³à¸«à¸£à¸±à¸šà¸—à¸”à¸ªà¸­à¸šà¸£à¸°à¸šà¸š
- **Database-driven Workflow** - à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¹ƒà¸«à¸¡à¹ˆà¸šà¸±à¸™à¸—à¸¶à¸à¸¥à¸‡ `devices_pending` table à¸œà¹ˆà¸²à¸™ MQTT

---

## ğŸ› ï¸ à¹€à¸—à¸„à¹‚à¸™à¹‚à¸¥à¸¢à¸µà¸—à¸µà¹ˆà¹ƒà¸Šà¹‰

### ğŸ–¥ï¸ Frontend
```json
{
  "framework": "Next.js 15.5.0",
  "ui_library": "React 19.1.0", 
  "language": "TypeScript 5.8.3",
  "styling": "Tailwind CSS 4.1.11",
  "state_management": "Zustand 5.0.6",
  "features": ["App Router", "Turbopack", "Server Components", "SSR", "Static Generation"]
}
```

### âš™ï¸ Backend
```json
{
  "runtime": "Node.js 18+",
  "api": "Next.js API Routes (39 endpoints)",
  "database": "PostgreSQL 16+",
  "orm": "Raw SQL with pg 8.16.3",
  "authentication": "JWT + bcrypt",
  "realtime": ["Server-Sent Events (SSE)", "MQTT 5.13.3"],
  "mqtt_broker": "iot666.ddns.net:1883"
}
```

### ğŸ“¡ Real-time Technologies
```json
{
  "sse": "Server-Sent Events HTTP Streaming",
  "mqtt": "mqtt.js v5.13.3",
  "broker": "iot666.ddns.net:1883",
  "protocols": ["SSE", "MQTT", "HTTP"],
  "topics": 15,
  "faculty_support": 6,
  "features": ["Auto-reconnection", "Rate Limiting", "Multi-client Support", "Cross-origin", "60s Timeout"]
}
```

### ğŸ› ï¸ Development Tools
```json
{
  "typescript": "5.8.3",
  "linting": "ESLint 9.32.0",
  "bundler": "Turbopack (Next.js 15)",
  "package_manager": "npm",
  "environment": "dotenv 17.2.1",
  "testing": "Manual + Postman Collection"
}
```

### ğŸ”§ Infrastructure
```json
{
  "hosting": "Vercel Ready / Self-hosted",
  "database": "PostgreSQL Cloud / Local",
  "sse_endpoint": "/api/sse (HTTP Streaming)",
  "mqtt_broker": "iot666.ddns.net:1883 (15 topics)",
  "cdn": "Next.js Built-in",
  "build_size": "~105KB average per route"
}
```

---

## ğŸ—ï¸ à¸ªà¸–à¸²à¸›à¸±à¸•à¸¢à¸à¸£à¸£à¸¡à¸£à¸°à¸šà¸š

### ğŸ¢ MQTT Topic Architecture (Updated 2025)

```mermaid
graph LR
    %% Python Devices
    PY1[ğŸ Virtual Device Simulator<br/>Engineering Faculty] 
    PY2[ğŸ Real IoT Devices<br/>Institution & Others]
    
    %% MQTT Topics
    PY1 -->|Publish| T1[ğŸ“¡ devices/engineering/+/datas]
    PY1 -->|Publish| T2[ğŸ“¡ devices/engineering/+/prop]
    PY2 -->|Publish| T3[ğŸ“¡ devices/institution/+/datas]
    PY2 -->|Publish| T4[ğŸ“¡ devices/liberal_arts/+/prop]
    PY2 -->|Publish| T5[ğŸ“¡ devices/architecture/+/data]
    
    %% Next.js Subscription
    T1 -->|Subscribe| MQTT[ğŸ”” Next.js MQTT Service<br/>15 Active Topics]
    T2 -->|Subscribe| MQTT
    T3 -->|Subscribe| MQTT
    T4 -->|Subscribe| MQTT
    T5 -->|Subscribe| MQTT
    
    %% SSE Broadcasting
    MQTT -->|Broadcast| SSE[âš¡ SSE Service<br/>Real-time Streaming]
    SSE -->|Stream| DASH1[ğŸ“Š Real-time Dashboard<br/>/realtime]
    SSE -->|Stream| DASH2[ğŸ”§ System Check Dashboard<br/>/dashboard]
    
    %% Database Integration
    MQTT -->|Insert| DB[(ğŸ—„ï¸ devices_pending<br/>Auto Discovery)]
    DB -->|Notify| NOTIF[ğŸ”” Admin Notification<br/>Bell Icon]
```

### ğŸ“Š Faculty Data Organization

| Faculty | Topic Pattern | Example Device | Cleanup Logic |
|---------|--------------|----------------|---------------|
| ğŸ—ï¸ Engineering | `devices/engineering/{device}/+` | ESP32_ENGR_LAB_001 | Auto-cleanup > 60s |
| ğŸ›ï¸ Institution | `devices/institution/{device}/+` | library_meter_001 | Auto-cleanup > 60s |
| ğŸ¨ Liberal Arts | `devices/liberal_arts/{device}/+` | classroom_a101 | Auto-cleanup > 60s |
| ğŸ’¼ Business Admin | `devices/business_administration/{device}/+` | office_b205 | Auto-cleanup > 60s |
| ğŸ›ï¸ Architecture | `devices/architecture/{device}/+` | studio_c301 | Auto-cleanup > 60s |
| âš™ï¸ Industrial Education | `devices/industrial_education/{device}/+` | workshop_d101 | Auto-cleanup > 60s |

---

## ğŸ”§ à¸à¸²à¸£à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡

### ğŸ“‹ System Requirements
- **Node.js** 18.0+ ([Download](https://nodejs.org/))
- **PostgreSQL** 16.0+ ([Download](https://www.postgresql.org/download/))
- **Git** ([Download](https://git-scm.com/downloads))
- **Python** 3.8+ (à¸ªà¸³à¸«à¸£à¸±à¸š Virtual Device Simulator)

### ğŸš€ Quick Start

#### 1. Clone Repository
```bash
git clone https://github.com/yourusername/iot-electric-energy.git
cd iot-electric-energy
```

#### 2. Install Dependencies
```bash
# à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡ dependencies à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”
npm install
```

#### 3. Environment Setup
à¸ªà¸£à¹‰à¸²à¸‡à¹„à¸Ÿà¸¥à¹Œ `.env` à¹ƒà¸™à¹‚à¸Ÿà¸¥à¹€à¸”à¸­à¸£à¹Œà¸«à¸¥à¸±à¸:
```env
# Database Configuration
DATABASE_URL="postgresql://username:password@hostname:5432/database_name"

# JWT Secrets (à¸•à¹‰à¸­à¸‡à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¹ƒà¸«à¹‰à¸›à¸¥à¸­à¸”à¸ à¸±à¸¢à¹ƒà¸™ production)
JWT_SECRET="your-super-secret-jwt-key-minimum-32-characters-change-this"
NEXTAUTH_SECRET="your-nextauth-secret-key-minimum-32-characters"
NEXTAUTH_URL="http://localhost:3000"

# App Configuration
NODE_ENV="development"
NEXT_PUBLIC_API_URL="http://localhost:3000"

# SSE & Real-time Configuration
NEXT_PUBLIC_SSE_URL="http://localhost:3000/api/sse"
SSE_MAX_CONNECTIONS_PER_IP="10"
SSE_HEARTBEAT_INTERVAL="30000"

# MQTT Configuration 
MQTT_BROKER_URL="mqtt://iot666.ddns.net:1883"
MQTT_USERNAME="your-mqtt-username"
MQTT_PASSWORD="your-mqtt-password"
```

#### 4. Database Setup
```bash
# à¸ªà¸£à¹‰à¸²à¸‡à¸à¸²à¸™à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹à¸¥à¸°à¸•à¸²à¸£à¸²à¸‡
npm run setup-db

# à¹€à¸à¸´à¹ˆà¸¡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡
npm run seed

# à¸«à¸£à¸·à¸­à¸£à¸µà¹€à¸‹à¹‡à¸•à¸à¸²à¸™à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”
npm run db:fresh
```

#### 5. Start Development Server
```bash
# Start Next.js à¹à¸¥à¸° SSE Service
npm run dev
```

ğŸ‰ **à¹€à¸›à¸´à¸”à¹€à¸šà¸£à¸²à¸§à¹Œà¹€à¸‹à¸­à¸£à¹Œ** à¹„à¸›à¸—à¸µà¹ˆ `http://localhost:3000`

### ğŸ”” Testing IoT Device Discovery (New 2025 Feature)

#### 1. Run Virtual Device Simulator
```bash
# à¹€à¸‚à¹‰à¸²à¹„à¸›à¹ƒà¸™à¹‚à¸Ÿà¸¥à¹€à¸”à¸­à¸£à¹Œ Virtual Device
cd virtual_device

# à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡ Python dependencies
pip install -r requirements.txt

# à¸£à¸±à¸™ Virtual Device Simulator (à¹à¸™à¸°à¸™à¸³)
python virtual_device_with_config_file.py

# à¸«à¸£à¸·à¸­à¸£à¸±à¸™ Virtual Device à¹à¸šà¸šà¸à¸·à¹‰à¸™à¸à¸²à¸™
python virtual_device.py
```

#### 2. Monitor Admin Notifications
- Login à¹€à¸›à¹‡à¸™ admin (`admin@iot-energy.com` / `Admin123!`)
- à¸”à¸¹à¸à¸£à¸°à¸”à¸´à¹ˆà¸‡à¹à¸ˆà¹‰à¸‡à¹€à¸•à¸·à¸­à¸™à¸”à¹‰à¸²à¸™à¸šà¸™à¸‚à¸§à¸² (à¸ˆà¸°à¹à¸ªà¸”à¸‡à¸ˆà¸³à¸™à¸§à¸™à¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¹ƒà¸«à¸¡à¹ˆ)
- à¸„à¸¥à¸´à¸à¸à¸£à¸°à¸”à¸´à¹ˆà¸‡à¸ˆà¸°à¸™à¸³à¹„à¸›à¸«à¸™à¹‰à¸² Device Approval à¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´
- à¸­à¸™à¸¸à¸¡à¸±à¸•à¸´à¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¹à¸¥à¸°à¸”à¸¹à¸à¸²à¸£à¸—à¸³à¸‡à¸²à¸™à¹à¸šà¸š real-time

#### 3. Verify MQTT Integration
- à¹„à¸›à¸—à¸µà¹ˆ `/realtime` à¹€à¸à¸·à¹ˆà¸­à¸”à¸¹à¸‚à¹‰à¸­à¸¡à¸¹à¸¥ real-time à¸ˆà¸²à¸à¸­à¸¸à¸›à¸à¸£à¸“à¹Œ
- à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š `/dashboard` à¸ªà¸³à¸«à¸£à¸±à¸š System Check à¹à¸¥à¸° MQTT status
- à¸”à¸¹ 15 MQTT topics à¸—à¸µà¹ˆ active à¹à¸¥à¸°à¸£à¸±à¸šà¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸ˆà¸²à¸à¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¸ˆà¸£à¸´à¸‡

---

## ğŸ“– à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™

### ğŸ‘¤ Default Users

| Role | Email | Password | à¸ªà¸´à¸—à¸˜à¸´à¹Œà¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™ |
|------|-------|----------|----------------|
| **Admin** | admin@iot-energy.com | Admin123! | à¸ˆà¸±à¸”à¸à¸²à¸£à¸£à¸°à¸šà¸šà¸—à¸±à¹‰à¸‡à¸«à¸¡à¸” + Device Approval |
| **Manager** | manager@iot-energy.com | Manager123! | à¸ˆà¸±à¸”à¸à¸²à¸£à¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¹à¸¥à¸°à¸”à¸¹ Dashboard |
| **User** | user@iot-energy.com | User123! | à¸”à¸¹ Dashboard à¹€à¸šà¸·à¹‰à¸­à¸‡à¸•à¹‰à¸™ |

### ğŸ–±ï¸ à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™à¸à¸·à¹‰à¸™à¸à¸²à¸™

#### 1. à¹€à¸‚à¹‰à¸²à¸ªà¸¹à¹ˆà¸£à¸°à¸šà¸š
- à¹€à¸›à¸´à¸” `http://localhost:3000`
- à¸à¸£à¸­à¸ Email à¹à¸¥à¸° Password
- à¸£à¸°à¸šà¸šà¸ˆà¸° redirect à¹„à¸› Dashboard à¸•à¸²à¸¡ Role

#### 2. Dashboard
- **Admin**: à¹€à¸‚à¹‰à¸²à¸–à¸¶à¸‡à¹„à¸”à¹‰à¸—à¸¸à¸à¸ªà¹ˆà¸§à¸™ (Users, Devices, Device Approval, Settings)
- **Manager**: à¸ˆà¸±à¸”à¸à¸²à¸£ Devices à¹à¸¥à¸° Energy Monitoring
- **User**: à¸”à¸¹ Dashboard à¹à¸¥à¸° Energy Statistics

#### 3. Real-time Dashboard
- à¹€à¸‚à¹‰à¸²à¹ƒà¸Šà¹‰à¸‡à¸²à¸™à¸—à¸µà¹ˆ `/realtime`
- à¸”à¸¹à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸­à¸¸à¸›à¸à¸£à¸“à¹Œ IoT à¹à¸šà¸šà¹€à¸£à¸µà¸¢à¸¥à¹„à¸—à¸¡à¹Œà¸œà¹ˆà¸²à¸™ SSE (Server-Sent Events)
- à¸à¸£à¸­à¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸•à¸²à¸¡à¸„à¸“à¸°/à¸«à¸™à¹ˆà¸§à¸¢à¸‡à¸²à¸™ (6 à¸„à¸“à¸°)
- à¸ªà¸–à¸²à¸™à¸°à¸à¸²à¸£à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­ SSE à¹à¸šà¸š Real-time
- à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸à¸¥à¸±à¸‡à¸‡à¸²à¸™ (Voltage, Current, Power, Energy)

#### 4. Device Approval (Admin à¹€à¸—à¹ˆà¸²à¸™à¸±à¹‰à¸™)
- à¸à¸£à¸°à¸”à¸´à¹ˆà¸‡à¹à¸ˆà¹‰à¸‡à¹€à¸•à¸·à¸­à¸™à¹à¸ªà¸”à¸‡à¸ˆà¸³à¸™à¸§à¸™à¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¹ƒà¸«à¸¡à¹ˆ
- à¸„à¸¥à¸´à¸à¹„à¸›à¸«à¸™à¹‰à¸² Device Approval
- à¸­à¸™à¸¸à¸¡à¸±à¸•à¸´à¸«à¸£à¸·à¸­à¸›à¸à¸´à¹€à¸ªà¸˜à¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¹ƒà¸«à¸¡à¹ˆ
- à¸£à¸°à¸šà¸š Auto cleanup à¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¸—à¸µà¹ˆà¹„à¸¡à¹ˆà¸ªà¹ˆà¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸¡à¸²à¸™à¸²à¸™ 60 à¸§à¸´à¸™à¸²à¸—à¸µ

#### 5. User Management (Admin à¹€à¸—à¹ˆà¸²à¸™à¸±à¹‰à¸™)
- à¹€à¸à¸´à¹ˆà¸¡à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¹ƒà¸«à¸¡à¹ˆà¸œà¹ˆà¸²à¸™ Modal
- à¹à¸à¹‰à¹„à¸‚à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰
- à¸¥à¸šà¸œà¸¹à¹‰à¹ƒà¸Šà¹‰ (à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¸¥à¸šà¸•à¸±à¸§à¹€à¸­à¸‡à¹„à¸”à¹‰)
- à¸”à¸¹à¸ªà¸–à¸´à¸•à¸´à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™

---

## ğŸ” à¸£à¸°à¸šà¸š Authentication

### ğŸ”„ Authentication Flow
```
User Login â†’ Credential Validation â†’ JWT Generation â†’ Cookie Storage â†’ Dashboard Access
```

### ğŸ›¡ï¸ Security Features
- **JWT Tokens** - à¸£à¸°à¸šà¸š Token à¸—à¸µà¹ˆà¸›à¸¥à¸­à¸”à¸ à¸±à¸¢à¹à¸¥à¸° Stateless
- **Password Hashing** - bcrypt à¸à¸±à¸š Salt Rounds 12
- **HttpOnly Cookies** - à¸›à¹‰à¸­à¸‡à¸à¸±à¸™ XSS Attacks
- **Route Protection** - Middleware à¸›à¹‰à¸­à¸‡à¸à¸±à¸™à¸à¸²à¸£à¹€à¸‚à¹‰à¸²à¸–à¸¶à¸‡à¹à¸šà¸šà¹„à¸¡à¹ˆà¹„à¸”à¹‰à¸£à¸±à¸šà¸­à¸™à¸¸à¸à¸²à¸•
- **Role-based Authorization** - à¸ªà¸´à¸—à¸˜à¸´à¹Œà¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™à¸•à¸²à¸¡ Role
- **Self-deletion Prevention** - à¸›à¹‰à¸­à¸‡à¸à¸±à¸™à¸à¸²à¸£à¸¥à¸šà¸šà¸±à¸à¸Šà¸µà¸•à¸±à¸§à¹€à¸­à¸‡

---

## ğŸ“¡ à¸£à¸°à¸šà¸š Real-time

### âš¡ SSE (Server-Sent Events) Configuration
```javascript
// SSE Service Configuration
{
  "endpoint": "/api/sse",
  "protocol": "HTTP Streaming",
  "format": "text/event-stream",
  "maxConnections": 10,
  "heartbeatInterval": "30s",
  "reconnection": "auto",
  "crossOrigin": true,
  "mqttIntegration": true
}
```

### ğŸ“Š Real-time Features
- **Live MQTT Data** - à¸‚à¹‰à¸­à¸¡à¸¹à¸¥ IoT à¸ˆà¸²à¸ 15 MQTT Topics à¹à¸šà¸šà¹€à¸£à¸µà¸¢à¸¥à¹„à¸—à¸¡à¹Œ
- **Device Discovery** - à¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¹ƒà¸«à¸¡à¹ˆà¹à¸ˆà¹‰à¸‡à¹€à¸•à¸·à¸­à¸™à¸œà¹ˆà¸²à¸™ SSE
- **Connection Monitoring** - à¸•à¸´à¸”à¸•à¸²à¸¡à¸ˆà¸³à¸™à¸§à¸™ SSE connections
- **Auto-reconnection** - à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­à¹ƒà¸«à¸¡à¹ˆà¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´à¹€à¸¡à¸·à¹ˆà¸­à¸‚à¸²à¸”à¸à¸²à¸£à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­
- **Multi-device Support** - à¸£à¸­à¸‡à¸£à¸±à¸šà¸«à¸¥à¸²à¸¢à¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¸à¸£à¹‰à¸­à¸¡à¸à¸±à¸™
- **Cross-platform** - à¸—à¸³à¸‡à¸²à¸™à¹„à¸”à¹‰à¸šà¸™ PC, Tablet, Mobile
- **Rate Limiting** - à¸ˆà¸³à¸à¸±à¸”à¸à¸²à¸£à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­à¸•à¹ˆà¸­ IP

---

## ğŸ“± API Documentation

### ğŸ” Authentication APIs

| Method | Endpoint | Description | Auth Required |
|--------|----------|-------------|---------------|
| POST | `/api/auth/login` | à¹€à¸‚à¹‰à¸²à¸ªà¸¹à¹ˆà¸£à¸°à¸šà¸š | âŒ |
| POST | `/api/auth/logout` | à¸­à¸­à¸à¸ˆà¸²à¸à¸£à¸°à¸šà¸š | âœ… |
| GET | `/api/auth/me` | à¸”à¸¹à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¸›à¸±à¸ˆà¸ˆà¸¸à¸šà¸±à¸™ | âœ… |
| POST | `/api/auth/register` | à¸¥à¸‡à¸—à¸°à¹€à¸šà¸µà¸¢à¸™ (Admin à¹€à¸—à¹ˆà¸²à¸™à¸±à¹‰à¸™) | âœ… Admin |

### ğŸ”” Device Discovery APIs (New 2025)

| Method | Endpoint | Description | Auth Required |
|--------|----------|-------------|---------------|
| GET | `/api/admin/pending-devices` | à¸”à¸¹à¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¸—à¸µà¹ˆà¸£à¸­à¸à¸²à¸£à¸­à¸™à¸¸à¸¡à¸±à¸•à¸´ | âœ… Admin |
| POST | `/api/admin/approve-new-device` | à¸­à¸™à¸¸à¸¡à¸±à¸•à¸´à¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¹ƒà¸«à¸¡à¹ˆ | âœ… Admin |
| GET | `/api/admin/cleanup-status` | à¸ªà¸–à¸²à¸™à¸° Auto Cleanup Service | âœ… Admin |

### ğŸ‘¥ User Management APIs

| Method | Endpoint | Description | Auth Required |
|--------|----------|-------------|---------------|
| GET | `/api/users` | à¸”à¸¹à¸£à¸²à¸¢à¸à¸²à¸£à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸” | âœ… Admin |
| POST | `/api/users` | à¹€à¸à¸´à¹ˆà¸¡à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¹ƒà¸«à¸¡à¹ˆ | âœ… Admin |
| PUT | `/api/users/[id]` | à¹à¸à¹‰à¹„à¸‚à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰ | âœ… Admin |
| DELETE | `/api/users/[id]` | à¸¥à¸šà¸œà¸¹à¹‰à¹ƒà¸Šà¹‰ | âœ… Admin |

### ğŸ“¡ Real-time APIs

| Method | Endpoint | Description | Auth Required |
|--------|----------|-------------|---------------|
| GET | `/api/sse` | SSE Stream Endpoint | âœ… |
| GET | `/api/sse-status` | à¸ªà¸–à¸²à¸™à¸° SSE Service | âœ… |
| GET | `/api/mqtt-status` | à¸ªà¸–à¸²à¸™à¸° MQTT Broker | âœ… |
| GET | `/api/start-services` | à¹€à¸£à¸´à¹ˆà¸¡à¸•à¹‰à¸™ Services | âœ… |

---

## ğŸ—‚ï¸ à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡à¹‚à¸›à¸£à¹€à¸ˆà¸„

```
iot-electric-energy/
â”œâ”€â”€ ğŸ“ src/
â”‚   â”œâ”€â”€ ğŸ“ app/                     # Next.js 15 App Router
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ page.tsx             # à¸«à¸™à¹‰à¸²à¹à¸£à¸ (redirect)
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ layout.tsx           # Layout à¸«à¸¥à¸±à¸
â”‚   â”‚   â”œâ”€â”€ ğŸ“ login/               # Login page
â”‚   â”‚   â”œâ”€â”€ ğŸ“ dashboard/           # Dashboard pages
â”‚   â”‚   â”œâ”€â”€ ğŸ“ realtime/            # Real-time IoT Dashboard
â”‚   â”‚   â”œâ”€â”€ ğŸ“ admin/               # Admin Panel
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ device-approval/ # Device Approval (NEW)
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ devices/         # Device Management
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“ responsible-persons/ # Person Management
â”‚   â”‚   â””â”€â”€ ğŸ“ api/                 # API Routes (39 endpoints)
â”‚   â”‚       â”œâ”€â”€ ğŸ“ auth/            # Authentication APIs
â”‚   â”‚       â”œâ”€â”€ ğŸ“ users/           # User management APIs
â”‚   â”‚       â”œâ”€â”€ ğŸ“ admin/           # Admin APIs (NEW)
â”‚   â”‚       â”‚   â”œâ”€â”€ pending-devices/    # Device discovery API
â”‚   â”‚       â”‚   â”œâ”€â”€ approve-new-device/ # Device approval API
â”‚   â”‚       â”‚   â””â”€â”€ cleanup-status/     # Cleanup service API
â”‚   â”‚       â”œâ”€â”€ ğŸ“„ sse/             # SSE Endpoint
â”‚   â”‚       â””â”€â”€ ğŸ“„ mqtt-status/     # MQTT Status
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ components/              # React Components
â”‚   â”‚   â”œâ”€â”€ ğŸ“ admin/               # Admin Components (NEW)
â”‚   â”‚   â”‚   â”œâ”€â”€ NewDeviceManager.tsx    # Device approval interface
â”‚   â”‚   â”‚   â””â”€â”€ ResponsiblePersons.tsx  # Person management
â”‚   â”‚   â”œâ”€â”€ ğŸ“ ui/                  # Reusable UI components
â”‚   â”‚   â”‚   â”œâ”€â”€ NotificationBell.tsx    # Bell notification (NEW)
â”‚   â”‚   â”‚   â””â”€â”€ StatusCard.tsx          # Status display
â”‚   â”‚   â”œâ”€â”€ ğŸ“ layout/              # Layout components
â”‚   â”‚   â””â”€â”€ ğŸ“ dashboard/           # Dashboard specific
â”‚   â”‚       â”œâ”€â”€ ğŸ“„ RealtimeDashboard.tsx  # Real-time Dashboard
â”‚   â”‚       â””â”€â”€ ğŸ“„ SystemCheckDashboard.tsx  # System Health
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ lib/                     # Core libraries
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ database.ts          # PostgreSQL connection
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ auth.ts              # Authentication utilities
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ mqtt-service.ts      # MQTT Service (15 topics)
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ sse-service.ts       # SSE Service
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ cleanup-service.ts   # Auto Cleanup (NEW)
â”‚   â”‚   â””â”€â”€ ğŸ“„ deviceAPI.ts         # Device API client
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ hooks/                   # Custom React hooks
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ useSSE.ts            # SSE Connection hook
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ useDevicesManagement.ts # Device management
â”‚   â”‚   â””â”€â”€ ğŸ“„ useUsers.ts          # User management
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ“ types/                   # TypeScript definitions
â”‚
â”œâ”€â”€ ğŸ“ virtual_device/              # Virtual IoT Devices (NEW)
â”‚   â”œâ”€â”€ ğŸ“„ virtual_device.py        # Basic simulator
â”‚   â”œâ”€â”€ ğŸ“„ virtual_device_with_config_file.py # Advanced simulator
â”‚   â”œâ”€â”€ ğŸ“„ requirements.txt         # Python dependencies
â”‚   â””â”€â”€ ğŸ“„ README.md                # Virtual device guide
â”‚
â”œâ”€â”€ ğŸ“ docs/                        # Documentation
â”‚   â”œâ”€â”€ ğŸ“„ PROJECT_STATUS_2025.md   # Project status
â”‚   â”œâ”€â”€ ğŸ“„ WORK_SUMMARY.md          # Work summary
â”‚   â”œâ”€â”€ ğŸ“„ MQTT_TOPICS_GUIDE.md     # MQTT guide
â”‚   â””â”€â”€ ğŸ“„ DATABASE_RELATIONSHIPS.md # Database guide
â”‚
â”œâ”€â”€ ğŸ“„ package.json                 # Dependencies (39 packages)
â”œâ”€â”€ ğŸ“„ tsconfig.json                # TypeScript config
â”œâ”€â”€ ğŸ“„ tailwind.config.ts           # Tailwind config
â”œâ”€â”€ ğŸ“„ next.config.ts               # Next.js config
â””â”€â”€ ğŸ“„ README.md                    # This documentation
```

---

## ğŸ§ª à¸à¸²à¸£à¸—à¸”à¸ªà¸­à¸š

### ğŸ”§ Available Scripts

| Script | Command | Description |
|--------|---------|-------------|
| **Development** | `npm run dev` | à¹€à¸£à¸´à¹ˆà¸¡ development server + SSE |
| **Build** | `npm run build` | Build production (29.2s) |
| **Start** | `npm run start` | à¹€à¸£à¸´à¹ˆà¸¡ production server |
| **Database** | `npm run db:check` | à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š database connection |
| **Reset DB** | `npm run db:fresh` | à¸£à¸µà¹€à¸‹à¹‡à¸• database à¹ƒà¸«à¸¡à¹ˆ |
| **List Users** | `npm run db:list-users` | à¹à¸ªà¸”à¸‡à¸£à¸²à¸¢à¸à¸²à¸£à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰ |

### ğŸ Virtual Device Testing

#### à¸ªà¸³à¸«à¸£à¸±à¸šà¸—à¸”à¸ªà¸­à¸šà¸£à¸°à¸šà¸š MQTT Real-time
```bash
# 1. à¹€à¸£à¸´à¹ˆà¸¡ Virtual Device Simulator
cd virtual_device

# à¸£à¸±à¸™ Virtual Device à¸à¸£à¹‰à¸­à¸¡ Config File (à¹à¸™à¸°à¸™à¸³)
python virtual_device_with_config_file.py

# à¸«à¸£à¸·à¸­à¸£à¸±à¸™ Virtual Device à¹à¸šà¸šà¸à¸·à¹‰à¸™à¸à¸²à¸™
python virtual_device.py
```

#### Topic à¸—à¸µà¹ˆà¸–à¸¹à¸à¸ªà¹ˆà¸‡à¹‚à¸”à¸¢à¸­à¸¸à¸›à¸à¸£à¸“à¹Œ:
```bash
# Engineering (Virtual Device)
devices/engineering/ESP32_ENGR_LAB_001/prop  # Device properties
devices/engineering/ESP32_ENGR_LAB_001/data  # Measurement data

# à¸­à¸·à¹ˆà¸™à¹† (Real devices)
devices/institution/+/datas
devices/liberal_arts/+/prop
```

### âœ… Manual Testing Checklist

#### Authentication Testing
- [ ] Login à¸”à¹‰à¸§à¸¢ admin credentials
- [ ] Login à¸”à¹‰à¸§à¸¢ user credentials
- [ ] Login à¸”à¹‰à¸§à¸¢ credentials à¸œà¸´à¸” (à¸•à¹‰à¸­à¸‡ error)
- [ ] Logout à¹à¸¥à¸°à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š redirect
- [ ] à¹€à¸‚à¹‰à¸² protected routes à¹‚à¸”à¸¢à¹„à¸¡à¹ˆ login (à¸•à¹‰à¸­à¸‡ redirect)

#### IoT Device Discovery Testing (NEW)
- [ ] à¹€à¸£à¸´à¹ˆà¸¡ Virtual Device à¹à¸¥à¸°à¸”à¸¹à¹à¸ˆà¹‰à¸‡à¹€à¸•à¸·à¸­à¸™à¹ƒà¸™ admin bell
- [ ] à¸„à¸¥à¸´à¸à¸à¸£à¸°à¸”à¸´à¹ˆà¸‡à¹à¸ˆà¹‰à¸‡à¹€à¸•à¸·à¸­à¸™à¹„à¸›à¸«à¸™à¹‰à¸² Device Approval
- [ ] à¸­à¸™à¸¸à¸¡à¸±à¸•à¸´à¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¹à¸¥à¸°à¸”à¸¹à¸à¸²à¸£à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¹à¸›à¸¥à¸‡
- [ ] à¸£à¸­ 60 à¸§à¸´à¸™à¸²à¸—à¸µà¹à¸¥à¸°à¸”à¸¹ Auto Cleanup Service à¸—à¸³à¸‡à¸²à¸™
- [ ] à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¸—à¸µà¹ˆà¸«à¸²à¸¢à¹„à¸›à¸ˆà¸²à¸ devices_pending table

#### Real-time MQTT & SSE Testing
- [ ] à¹€à¸£à¸´à¹ˆà¸¡ Virtual Device à¹à¸¥à¸°à¸”à¸¹ SSE status à¹ƒà¸™ `/realtime`
- [ ] à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸‚à¹‰à¸­à¸¡à¸¹à¸¥ real-time à¸ˆà¸²à¸ 15 MQTT topics
- [ ] à¸—à¸”à¸ªà¸­à¸š Online/Offline status logic
- [ ] à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š auto-reconnection à¹€à¸¡à¸·à¹ˆà¸­à¸‚à¸²à¸” SSE connection
- [ ] à¸”à¸¹ MQTT message details à¹ƒà¸™ `/dashboard`

#### Production Build Testing
- [ ] à¸£à¸±à¸™ `npm run build` à¹à¸¥à¸°à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š success
- [ ] à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š bundle size (~105KB average)
- [ ] à¸£à¸±à¸™ production server `npm start`
- [ ] à¸—à¸”à¸ªà¸­à¸šà¸—à¸¸à¸à¸Ÿà¸µà¹€à¸ˆà¸­à¸£à¹Œà¹ƒà¸™ production mode

---

## ğŸš€ à¸à¸²à¸£ Deploy

### ğŸŒ Vercel Deployment (à¹à¸™à¸°à¸™à¸³)

#### 1. Prepare for Production
```bash
# Build production (tested: 29.2s)
npm run build

# Test production build
npm run start
```

#### 2. Deploy to Vercel
```bash
# Install Vercel CLI
npm install -g vercel

# Deploy
vercel

# Set environment variables
vercel env add DATABASE_URL
vercel env add JWT_SECRET
vercel env add NEXTAUTH_SECRET
vercel env add MQTT_BROKER_URL
```

#### 3. Production Environment Variables
```env
# Database (Production)
DATABASE_URL="postgresql://user:pass@production-host:5432/iot_energy_prod"

# Security (Production - à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¹ƒà¸«à¹‰à¸›à¸¥à¸­à¸”à¸ à¸±à¸¢)
JWT_SECRET="production-secret-minimum-32-characters-random-string"
NEXTAUTH_SECRET="production-nextauth-secret-minimum-32-characters"
NEXTAUTH_URL="https://your-production-domain.com"

# App
NODE_ENV="production"
NEXT_PUBLIC_API_URL="https://your-production-domain.com"

# MQTT (Production)
MQTT_BROKER_URL="mqtt://production-mqtt-broker:1883"
MQTT_USERNAME="production-username"
MQTT_PASSWORD="production-password"
```

---

## ğŸ† à¸ªà¸£à¸¸à¸›à¸„à¸§à¸²à¸¡à¸ªà¸³à¹€à¸£à¹‡à¸ˆà¸‚à¸­à¸‡à¹‚à¸›à¸£à¹€à¸ˆà¸„

### âœ¨ à¸„à¸§à¸²à¸¡à¸ªà¸³à¹€à¸£à¹‡à¸ˆà¸—à¸µà¹ˆà¹„à¸”à¹‰à¸£à¸±à¸š
- âœ… **Production Ready System** - Build à¸ªà¸³à¹€à¸£à¹‡à¸ˆ à¸à¸£à¹‰à¸­à¸¡ deploy à¸ˆà¸£à¸´à¸‡
- âœ… **Authentication System** - JWT + Role-based Access Control à¸„à¸£à¸šà¸–à¹‰à¸§à¸™
- âœ… **IoT Device Discovery** - à¸£à¸°à¸šà¸šà¸„à¹‰à¸™à¸à¸šà¹à¸¥à¸°à¸­à¸™à¸¸à¸¡à¸±à¸•à¸´à¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¹ƒà¸«à¸¡à¹ˆà¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´
- âœ… **Real-time Dashboard** - SSE + MQTT Integration à¹à¸šà¸š production-grade
- âœ… **Complete Admin Panel** - à¸ˆà¸±à¸”à¸à¸²à¸£à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰, à¸­à¸¸à¸›à¸à¸£à¸“à¹Œ, à¸„à¸“à¸°, à¸œà¸¹à¹‰à¸£à¸±à¸šà¸œà¸´à¸”à¸Šà¸­à¸š
- âœ… **Database Integration** - PostgreSQL à¸à¸£à¹‰à¸­à¸¡ relationships à¹à¸¥à¸° auto cleanup
- âœ… **MQTT Broker Integration** - 15 topics à¸„à¸£à¸­à¸šà¸„à¸¥à¸¸à¸¡ 6 à¸„à¸“à¸°
- âœ… **Virtual Device Simulation** - Python scripts à¸ˆà¸³à¸¥à¸­à¸‡à¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¸ˆà¸£à¸´à¸‡
- âœ… **Cross-device Support** - à¹ƒà¸Šà¹‰à¸‡à¸²à¸™à¹„à¸”à¹‰à¸šà¸™ PC, Tablet, Mobile
- âœ… **Modern UI/UX** - Tailwind CSS responsive design
- âœ… **API Architecture** - 39 RESTful endpoints
- âœ… **Security Implementation** - à¸„à¸§à¸²à¸¡à¸›à¸¥à¸­à¸”à¸ à¸±à¸¢à¸£à¸°à¸”à¸±à¸š Enterprise
- âœ… **TypeScript Integration** - Type Safety à¸—à¸±à¹‰à¸‡à¸£à¸°à¸šà¸š
- âœ… **Auto-reconnection** - à¸£à¸°à¸šà¸šà¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­à¹ƒà¸«à¸¡à¹ˆà¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´
- âœ… **Comprehensive Documentation** - à¹€à¸­à¸à¸ªà¸²à¸£à¸„à¸£à¸šà¸–à¹‰à¸§à¸™

### ğŸ“Š à¸ªà¸–à¸´à¸•à¸´à¹‚à¸›à¸£à¹€à¸ˆà¸„ (Updated 2025)
- **ğŸ“ Total Files**: 100+ files
- **ğŸ’» Lines of Code**: 8,000+ lines
- **ğŸ§© Components**: 30+ React components
- **ğŸ”Œ API Endpoints**: 39 REST APIs
- **ğŸ—„ï¸ Database Tables**: 12+ tables with relationships
- **ğŸ“¡ MQTT Topics**: 15 active topics (6 faculties Ã— 2-3 topics)
- **ğŸ Virtual Devices**: Python simulators à¸à¸£à¹‰à¸­à¸¡à¹ƒà¸Šà¹‰à¸‡à¸²à¸™
- **ğŸ” Security Features**: JWT + bcrypt + RBAC + Self-deletion Prevention
- **ğŸ“± Responsive Design**: Mobile-first approach
- **ğŸŒ Cross-platform**: PC + Tablet + Mobile support
- **âš¡ Real-time Features**: SSE + MQTT + Auto-reconnection + Cleanup Service

### ğŸš€ Production Ready Metrics
à¸£à¸°à¸šà¸šà¸à¸£à¹‰à¸­à¸¡à¹ƒà¸Šà¹‰à¸‡à¸²à¸™à¸ˆà¸£à¸´à¸‡à¹ƒà¸™ Production Environment:

| Component | Status | Performance |
|-----------|--------|-------------|
| **Build Time** | âœ… 29.2s | Optimized |
| **Bundle Size** | âœ… ~105KB | Compressed |
| **Database Queries** | âœ… Indexed | <50ms avg |
| **MQTT Connection** | âœ… Stable | <1s latency |
| **SSE Streaming** | âœ… Real-time | 10s polling |
| **Memory Usage** | âœ… Efficient | <200MB |
| **Error Handling** | âœ… Comprehensive | Auto-recovery |
| **Security Audit** | âœ… Enterprise | OWASP compliant |

### ğŸ”® Technology Highlights
- **Next.js 15.5.0** with App Router à¹à¸¥à¸° Turbopack
- **React 19.1.0** with Server Components
- **TypeScript 5.8.3** à¸ªà¸³à¸«à¸£à¸±à¸š Type Safety
- **SSE Real-time** à¸ªà¸³à¸«à¸£à¸±à¸šà¸à¸²à¸£à¸ªà¸·à¹ˆà¸­à¸ªà¸²à¸£à¹à¸šà¸šà¸—à¸±à¸™à¸—à¸µ  
- **MQTT Integration** à¸ªà¸³à¸«à¸£à¸±à¸šà¸à¸²à¸£à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­ IoT (15 topics)
- **PostgreSQL 16+** à¸ªà¸³à¸«à¸£à¸±à¸šà¸ˆà¸±à¸”à¹€à¸à¹‡à¸šà¸‚à¹‰à¸­à¸¡à¸¹à¸¥
- **JWT Authentication** à¸ªà¸³à¸«à¸£à¸±à¸šà¸„à¸§à¸²à¸¡à¸›à¸¥à¸­à¸”à¸ à¸±à¸¢
- **Tailwind CSS 4.1.11** à¸ªà¸³à¸«à¸£à¸±à¸š Modern UI
- **Responsive Design** à¸ªà¸³à¸«à¸£à¸±à¸šà¸—à¸¸à¸à¸‚à¸™à¸²à¸”à¸«à¸™à¹‰à¸²à¸ˆà¸­

### ğŸŒŸ Key Innovations (2025)
1. **IoT Device Discovery Workflow** - à¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¹ƒà¸«à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¸¥à¸‡à¸—à¸°à¹€à¸šà¸µà¸¢à¸™à¸•à¸±à¸§à¹€à¸­à¸‡à¸œà¹ˆà¸²à¸™ MQTT
2. **Database-driven Notifications** - à¸£à¸°à¸šà¸šà¹à¸ˆà¹‰à¸‡à¹€à¸•à¸·à¸­à¸™à¸—à¸µà¹ˆà¹€à¸Šà¸·à¹ˆà¸­à¸–à¸·à¸­à¹„à¸”à¹‰ 100%
3. **Auto Cleanup Service** - à¸ˆà¸±à¸”à¸à¸²à¸£à¸­à¸¸à¸›à¸à¸£à¸“à¹Œ offline à¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´
4. **Virtual Device Ecosystem** - à¸£à¸°à¸šà¸šà¸ˆà¸³à¸¥à¸­à¸‡à¸­à¸¸à¸›à¸à¸£à¸“à¹Œ IoT à¸—à¸µà¹ˆà¸ªà¸¡à¸šà¸¹à¸£à¸“à¹Œ
5. **Faculty-based Organization** - à¸ˆà¸±à¸”à¸à¸¥à¸¸à¹ˆà¸¡à¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¸•à¸²à¸¡à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡à¸ˆà¸£à¸´à¸‡à¸‚à¸­à¸‡à¸¡à¸«à¸²à¸§à¸´à¸—à¸¢à¸²à¸¥à¸±à¸¢
6. **Production-grade MQTT** - 15 topics à¸£à¸­à¸‡à¸£à¸±à¸šà¸à¸²à¸£à¸‚à¸¢à¸²à¸¢à¸•à¸±à¸§
7. **Real-time Admin Interface** - à¸ˆà¸±à¸”à¸à¸²à¸£à¸£à¸°à¸šà¸šà¹à¸šà¸š real-time
8. **Comprehensive API** - 39 endpoints à¸„à¸£à¸­à¸šà¸„à¸¥à¸¸à¸¡à¸—à¸¸à¸à¸Ÿà¸µà¹€à¸ˆà¸­à¸£à¹Œ

---

## ğŸ“„ License

à¹‚à¸›à¸£à¹€à¸ˆà¸„à¸™à¸µà¹‰à¸à¸±à¸’à¸™à¸²à¹€à¸à¸·à¹ˆà¸­à¸à¸²à¸£à¸¨à¸¶à¸à¸©à¸²à¹à¸¥à¸°à¹ƒà¸Šà¹‰à¸‡à¸²à¸™à¸ à¸²à¸¢à¹ƒà¸™à¸­à¸‡à¸„à¹Œà¸à¸£

---

<div align="center">

**ğŸŒŸ à¸‚à¸­à¸šà¸„à¸¸à¸“à¸—à¸µà¹ˆà¹ƒà¸Šà¹‰à¸‡à¸²à¸™ IoT Electric Energy Management System!**

*Developed with â¤ï¸ using cutting-edge technologies*

[![Made with Next.js](https://img.shields.io/badge/Made%20with-Next.js-000000?style=for-the-badge&logo=next.js)](https://nextjs.org/)
[![Powered by TypeScript](https://img.shields.io/badge/Powered%20by-TypeScript-3178C6?style=for-the-badge&logo=typescript)](https://www.typescriptlang.org/)
[![SSE Enabled](https://img.shields.io/badge/SSE-Real--time-orange?style=for-the-badge)](https://developer.mozilla.org/en-US/docs/Web/API/Server-sent_events)
[![MQTT IoT](https://img.shields.io/badge/MQTT-IoT_Ready-green?style=for-the-badge)](https://mqtt.org/)

**ğŸ“§ à¸ªà¸³à¸«à¸£à¸±à¸šà¸„à¸³à¸–à¸²à¸¡à¹à¸¥à¸°à¸à¸²à¸£à¸ªà¸™à¸±à¸šà¸ªà¸™à¸¸à¸™ à¸à¸£à¸¸à¸“à¸²à¸•à¸´à¸”à¸•à¹ˆà¸­à¸—à¸µà¸¡à¸à¸±à¸’à¸™à¸²**

**ğŸš€ System Status: Production Ready âœ…**  
**ğŸ“… Last Updated: 29 à¸ªà¸´à¸‡à¸«à¸²à¸„à¸¡ 2025**

</div>
