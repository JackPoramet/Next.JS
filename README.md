# ğŸ“‹ IoT Electric Energy - à¹‚à¸„à¸£à¸‡à¸‡à¸²à¸™à¸£à¸°à¸šà¸šà¸ˆà¸±à¸”à¸à¸²à¸£à¸à¸¥à¸±à¸‡à¸‡à¸²à¸™à¹„à¸Ÿà¸Ÿà¹‰à¸²

> à¹‚à¸›à¸£à¹€à¸ˆà¸„ Next.js 15 à¸ªà¸³à¸«à¸£à¸±à¸šà¸£à¸°à¸šà¸šà¸ˆà¸±à¸”à¸à¸²à¸£à¸à¸¥à¸±à¸‡à¸‡à¸²à¸™à¹„à¸Ÿà¸Ÿà¹‰à¸² IoT à¸à¸£à¹‰à¸­à¸¡à¸£à¸°à¸šà¸š Authentication, Dashboard à¹à¸¥à¸°à¸à¸²à¸£à¸ˆà¸±à¸”à¸à¸²à¸£à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰

[![Next.js](https://img.shields.io/badge/Next.js-15.4.4-000000?logo=next.js)](https://nextjs.org/)
[![React](https://img.shields.io/badge/React-19.1.0-61DAFB?logo=react)](https://reactjs.org/)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.0+-3178C6?logo=typescript)](https://www.typescriptlang.org/)
[![PostgreSQL](https://img.shields.io/badge/PostgreSQL-Latest-336791?logo=postgresql)](https://www.postgresql.org/)
[![Tailwind CSS](https://img.shields.io/badge/Tailwind_CSS-4.0-38B2AC?logo=tailwind-css)](https://tailwindcss.com/)

## ğŸ“– à¸ªà¸²à¸£à¸šà¸±à¸

- [ğŸ“‹ à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹‚à¸›à¸£à¹€à¸ˆà¸„](#-à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹‚à¸›à¸£à¹€à¸ˆà¸„)
- [ğŸ› ï¸ à¹€à¸—à¸„à¹‚à¸™à¹‚à¸¥à¸¢à¸µà¸—à¸µà¹ˆà¹ƒà¸Šà¹‰](#ï¸-à¹€à¸—à¸„à¹‚à¸™à¹‚à¸¥à¸¢à¸µà¸—à¸µà¹ˆà¹ƒà¸Šà¹‰)
- [ğŸ—ï¸ à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡à¹‚à¸›à¸£à¹€à¸ˆà¸„](#ï¸-à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡à¹‚à¸›à¸£à¹€à¸ˆà¸„)
- [ğŸ”§ à¸à¸²à¸£à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡à¹à¸¥à¸°à¹€à¸£à¸´à¹ˆà¸¡à¹ƒà¸Šà¹‰à¸‡à¸²à¸™](#-à¸à¸²à¸£à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡à¹à¸¥à¸°à¹€à¸£à¸´à¹ˆà¸¡à¹ƒà¸Šà¹‰à¸‡à¸²à¸™)
- [ğŸ¯ à¸Ÿà¸µà¹€à¸ˆà¸­à¸£à¹Œà¸«à¸¥à¸±à¸](#-à¸Ÿà¸µà¹€à¸ˆà¸­à¸£à¹Œà¸«à¸¥à¸±à¸)
- [ï¿½ Mobile Responsive](#-mobile-responsive)
- [ï¿½ğŸ” à¸£à¸°à¸šà¸š Authentication](#-à¸£à¸°à¸šà¸š-authentication)
- [ğŸ“± API Documentation](#-api-documentation)
- [ğŸ—ƒï¸ à¸à¸²à¸™à¸‚à¹‰à¸­à¸¡à¸¹à¸¥](#ï¸-à¸à¸²à¸™à¸‚à¹‰à¸­à¸¡à¸¹à¸¥)
- [ğŸ§ª à¸à¸²à¸£à¸—à¸”à¸ªà¸­à¸š](#-à¸à¸²à¸£à¸—à¸”à¸ªà¸­à¸š)
- [ğŸ“š à¸à¸²à¸£à¸à¸±à¸’à¸™à¸²à¸•à¹ˆà¸­](#-à¸à¸²à¸£à¸à¸±à¸’à¸™à¸²à¸•à¹ˆà¸­)

## ğŸ“‹ à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹‚à¸›à¸£à¹€à¸ˆà¸„

| à¸£à¸²à¸¢à¸à¸²à¸£ | à¸£à¸²à¸¢à¸¥à¸°à¹€à¸­à¸µà¸¢à¸” |
|--------|------------|
| **à¸Šà¸·à¹ˆà¸­à¹‚à¸›à¸£à¹€à¸ˆà¸„** | IoT Electric Energy Management System |
| **à¹€à¸§à¸­à¸£à¹Œà¸Šà¸±à¸™** | 0.1.0 |
| **à¸›à¸£à¸°à¹€à¸ à¸—** | Web Application à¸ªà¸³à¸«à¸£à¸±à¸šà¸ˆà¸±à¸”à¸à¸²à¸£à¸à¸¥à¸±à¸‡à¸‡à¸²à¸™à¹„à¸Ÿà¸Ÿà¹‰à¸² |
| **à¸ à¸²à¸©à¸²** | TypeScript, JavaScript |
| **à¸à¸²à¸™à¸‚à¹‰à¸­à¸¡à¸¹à¸¥** | PostgreSQL |
| **Authentication** | JWT Bearer Token + Zustand State Management |
| **Framework** | Next.js 15 with App Router |
| **UI Design** | Mobile-First Responsive Design |

## ğŸ› ï¸ à¹€à¸—à¸„à¹‚à¸™à¹‚à¸¥à¸¢à¸µà¸—à¸µà¹ˆà¹ƒà¸Šà¹‰

### ğŸš€ Frontend Framework
```json
"next": "15.4.4"              // Next.js 15 with App Router & Turbopack
"react": "19.1.0"             // React 19 (Latest)
"react-dom": "19.1.0"         // React DOM 19
"typescript": "^5"            // TypeScript 5.0+
```

### ğŸ¨ UI & Styling
```json
"tailwindcss": "^4"           // Tailwind CSS v4 (Latest)
"@tailwindcss/postcss": "^4"  // PostCSS integration
```

### ğŸª State Management
```json
"zustand": "^5.0.6"           // Zustand for authentication & global state
```

### ğŸ” Authentication & Security
```json
"jsonwebtoken": "^9.0.2"     // JWT token generation/verification
"bcryptjs": "^3.0.2"          // Password hashing
```

### ğŸ—ƒï¸ Database
```json
"pg": "^8.16.3"               // PostgreSQL client
"@types/pg": "^8.15.4"        // TypeScript types for PostgreSQL
```

### ğŸ› ï¸ Development Tools
```json
"eslint": "^9"                // ESLint for code linting
"dotenv": "^17.2.1"           // Environment variables
"ts-node": "^10.9.2"          // TypeScript execution
"tsx": "^4.20.3"              // Enhanced TypeScript execution
```
"jsonwebtoken": "^9.0.2"      // JWT token handling
"bcryptjs": "^3.0.2"          // Password hashing
```

### ğŸ—ƒï¸ Database
```json
"pg": "^8.16.3"               // PostgreSQL client
"@types/pg": "^8.15.4"        // TypeScript types
```

### ğŸ”§ Development Tools
```json
"typescript": "^5"            // TypeScript
"eslint": "^9"                // Code linting
"tsx": "^4.20.3"              // TypeScript execution
"ts-node": "^10.9.2"          // Node.js TypeScript
"dotenv": "^17.2.1"           // Environment variables
```

## ğŸ—ï¸ à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡à¹‚à¸›à¸£à¹€à¸ˆà¸„

```
iot-electric-energy/
â”œâ”€â”€ ğŸ“ src/                                    # Source code à¸«à¸¥à¸±à¸
â”‚   â”œâ”€â”€ ğŸ“ app/                                # Next.js 15 App Router
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ page.tsx                        # à¸«à¸™à¹‰à¸²à¹à¸£à¸ (redirect logic)
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ layout.tsx                      # Layout à¸«à¸¥à¸±à¸
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ globals.css                     # Global styles
â”‚   â”‚   â”œâ”€â”€ ğŸ“ login/                          # Authentication Pages
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ page.tsx                    # Login page
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ login-form.tsx              # Login form component
â”‚   â”‚   â”œâ”€â”€ ğŸ“ dashboard/                      # Dashboard Pages
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ page.tsx                    # Main dashboard with slide nav
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“ archive/                    # Backup/old versions
â”‚   â”‚   â””â”€â”€ ğŸ“ api/                            # API Routes (Next.js App Router)
â”‚   â”‚       â”œâ”€â”€ ğŸ“ auth/                       # Authentication APIs
â”‚   â”‚       â”‚   â”œâ”€â”€ ğŸ“ login/route.ts          # POST /api/auth/login
â”‚   â”‚       â”‚   â”œâ”€â”€ ğŸ“ logout/route.ts         # POST /api/auth/logout
â”‚   â”‚       â”‚   â”œâ”€â”€ ğŸ“ register/route.ts       # POST /api/auth/register
â”‚   â”‚       â”‚   â””â”€â”€ ğŸ“ me/route.ts             # GET /api/auth/me
â”‚   â”‚       â”œâ”€â”€ ğŸ“ users/                      # User Management APIs
â”‚   â”‚       â”‚   â”œâ”€â”€ ï¿½ route.ts                # GET, POST /api/users
â”‚   â”‚       â”‚   â””â”€â”€ ğŸ“ [id]/route.ts           # GET, PUT, DELETE /api/users/[id]
â”‚   â”‚       â”œâ”€â”€ ğŸ“ devices/                    # IoT Device APIs
â”‚   â”‚       â”‚   â”œâ”€â”€ ï¿½ route.ts                # GET, POST /api/devices
â”‚   â”‚       â”‚   â””â”€â”€ ğŸ“ [id]/route.ts           # GET, PUT, DELETE /api/devices/[id]
â”‚   â”‚       â”œâ”€â”€ ğŸ“ profile/route.ts            # GET, PUT /api/profile
â”‚   â”‚       â””â”€â”€ ğŸ“ admin/                      # Admin-only APIs
â”‚   â”‚           â”œâ”€â”€ ğŸ“ dashboard/route.ts      # GET /api/admin/dashboard
â”‚   â”‚           â””â”€â”€ ğŸ“ login-stats/route.ts    # GET /api/admin/login-stats
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ components/                         # React Components (Organized)
â”‚   â”‚   â”œâ”€â”€ ğŸ“ ui/                             # Reusable UI Components
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ UserModal.tsx               # User add/edit modal (282 lines)
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ ConfirmDeleteModal.tsx      # Delete confirmation modal
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ LoadingSpinner.tsx          # Loading spinner variations
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ Portal.tsx                  # Portal component for modals
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ index.ts                    # UI components exports
â”‚   â”‚   â”œâ”€â”€ ğŸ“ layout/                         # Layout Components
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ MainContent.tsx             # Main content area (888 lines)
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ Sidebar.tsx                 # Navigation sidebar
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ Navbar.tsx                  # Top navigation bar
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ index.ts                    # Layout exports
â”‚   â”‚   â”œâ”€â”€ ğŸ“ forms/                          # Form Components
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ index.ts                    # Form exports
â”‚   â”‚   â””â”€â”€ ğŸ“ dashboard/                      # Dashboard Components
â”‚   â”‚       â””â”€â”€ ğŸ“„ index.ts                    # Dashboard exports
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ lib/                                # Core Libraries & Utilities
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ database.ts                     # PostgreSQL connection & pool
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ auth.ts                         # Authentication utilities
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ jwt.ts                          # JWT token utilities
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ cookies.ts                      # Cookie management
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ server-auth.ts                  # Server-side auth functions
â”‚   â”‚   â”œâ”€â”€ ï¿½ user-auth.ts                    # User auth specific functions
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ userAPI.ts                      # User API client functions
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ deviceAPI.ts                    # Device API client functions
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ db.ts                           # Database query helpers
â”‚   â”‚   â””â”€â”€ ï¿½ actions.ts                      # Server actions
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ hooks/                              # Custom React Hooks
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ useUsers.ts                     # User management hook
â”‚   â”‚   â””â”€â”€ ğŸ“„ useDevices.ts                   # Device management hook
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ store/                              # State Management (Zustand)
â”‚   â”‚   â””â”€â”€ ğŸ“„ authStore.ts                    # Authentication store (166 lines)
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ types/                              # TypeScript Type Definitions
â”‚   â”‚   â””â”€â”€ ğŸ“„ auth.ts                         # Authentication types
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ models/                             # Data Models & Interfaces
â”‚   â”‚   â””â”€â”€ ğŸ“„ User.ts                         # User model interface
â”‚   â”‚
â”‚   â”œâ”€â”€ ï¿½ utils/                              # Utility Functions
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ date.ts                         # Date/time utilities
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ string.ts                       # String manipulation
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ validation.ts                   # Form validation helpers
â”‚   â”‚   â””â”€â”€ ğŸ“„ index.ts                        # Utils exports
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ config/                             # Configuration Management
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ app.ts                          # App configuration
â”‚   â”‚   â”œâ”€â”€ ï¿½ database.ts                     # Database configuration
â”‚   â”‚   â””â”€â”€ ğŸ“„ index.ts                        # Config exports
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ db/                                 # Database Management
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ schema.sql                      # Complete database schema (130 lines)
â”‚   â”‚   â”œâ”€â”€ ï¿½ migrations/                     # Database migrations
â”‚   â”‚   â””â”€â”€ ï¿½ seeds/                          # Seed data scripts
â”‚   â”‚       â””â”€â”€ ğŸ“„ users.js                    # User seed data
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ“ scripts/                            # Database & Setup Scripts
â”‚       â”œâ”€â”€ ğŸ“„ setup-db.ts                     # Database setup
â”‚       â”œâ”€â”€ ğŸ“„ seed.ts                         # Data seeding
â”‚       â”œâ”€â”€ ğŸ“„ list-users.ts                   # List users utility
â”‚       â””â”€â”€ ï¿½ test-last-login.js              # Test login tracking
â”‚
â”œâ”€â”€ ğŸ“ scripts/                                # Root Level Scripts
â”‚   â”œâ”€â”€ ğŸ“„ list-users.js                       # List users (JS version)
â”‚   â”œâ”€â”€ ğŸ“„ migrate-last-login.js               # Migration for last_login
â”‚   â””â”€â”€ ğŸ“„ test-last-login.js                  # Test login functionality
â”‚
â”œâ”€â”€ ğŸ“ migrations/                             # Legacy Migrations
â”‚   â””â”€â”€ ğŸ“„ add_last_login_to_users.sql         # Add last_login column
â”‚
â”œâ”€â”€ ğŸ“ archive/                                # Archived Files & Components
â”‚   â”œâ”€â”€ ğŸ“ debug-pages/                        # Debug pages for testing
â”‚   â”‚   â”œâ”€â”€ ğŸ“ cookie-test/page.tsx            # Cookie testing page
â”‚   â”‚   â”œâ”€â”€ ğŸ“ debug-auth/page.tsx             # Auth debugging page
â”‚   â”‚   â”œâ”€â”€ ğŸ“ spinner-demo/page.tsx           # Spinner demo page
â”‚   â”‚   â”œâ”€â”€ ğŸ“ test-auth/page.tsx              # Auth testing page
â”‚   â”‚   â””â”€â”€ ğŸ“ test-bearer/page.tsx            # Bearer token testing
â”‚   â”œâ”€â”€ ğŸ“ old-auth-files/                     # Legacy auth files
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ AuthContext.tsx                 # Old auth context
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ api-client.ts                   # Old API client
â”‚   â”‚   â””â”€â”€ ğŸ“„ auth-middleware.ts              # Old auth middleware
â”‚   â””â”€â”€ ğŸ“ setup-scripts/                      # Legacy setup scripts
â”‚       â”œâ”€â”€ ğŸ“„ setup-db-simple.js              # Simple DB setup
â”‚       â”œâ”€â”€ ğŸ“„ seed-simple.js                  # Simple seeding
â”‚       â””â”€â”€ ğŸ“„ check-db-connection.js          # DB connection test
â”‚
â”œâ”€â”€ ğŸ“ docs/                                   # Documentation
â”‚   â”œâ”€â”€ ğŸ“„ AUTH-FIX-SUMMARY.md                 # Auth system fixes
â”‚   â”œâ”€â”€ ğŸ“„ DATABASE-COMMANDS.md                # Database commands guide
â”‚   â”œâ”€â”€ ğŸ“„ JWT-BEARER-GUIDE.md                 # JWT implementation guide
â”‚   â”œâ”€â”€ ğŸ“„ LOGIN-DEBUG-GUIDE.md                # Login debugging guide
â”‚   â”œâ”€â”€ ğŸ“„ POSTMAN-API-TESTING.md              # API testing guide
â”‚   â”œâ”€â”€ ğŸ“„ SCHEMA-SETUP-GUIDE.md               # Database schema guide
â”‚   â”œâ”€â”€ ğŸ“„ ZUSTAND_AUTH_GUIDE.md               # Zustand auth guide
â”‚   â””â”€â”€ ğŸ“„ user-management.md                  # User management docs
â”‚
â”œâ”€â”€ ğŸ“ public/                                 # Static Assets
â”‚   â”œâ”€â”€ ğŸ“„ file.svg                            # File icons
â”‚   â”œâ”€â”€ ğŸ“„ globe.svg                           # Globe icon
â”‚   â”œâ”€â”€ ğŸ“„ next.svg                            # Next.js logo
â”‚   â””â”€â”€ ğŸ“„ vercel.svg                          # Vercel logo
â”‚
â”œâ”€â”€ ğŸ“„ .env                                    # Environment variables
â”œâ”€â”€ ğŸ“„ package.json                            # Dependencies & scripts
â”œâ”€â”€ ğŸ“„ middleware.ts                           # Next.js middleware for auth
â”œâ”€â”€ ğŸ“„ next.config.ts                          # Next.js configuration
â”œâ”€â”€ ğŸ“„ tsconfig.json                           # TypeScript configuration
â”œâ”€â”€ ğŸ“„ tailwind.config.ts                      # Tailwind CSS configuration
â”œâ”€â”€ ğŸ“„ postcss.config.mjs                      # PostCSS configuration
â”œâ”€â”€ ğŸ“„ eslint.config.mjs                       # ESLint configuration
â”œâ”€â”€ ğŸ“„ README.md                               # Project documentation (à¹„à¸Ÿà¸¥à¹Œà¸™à¸µà¹‰)
â”œâ”€â”€ ğŸ“„ PROJECT_STRUCTURE.md                    # Detailed structure guide
â”œâ”€â”€ ğŸ“„ POSTMAN_API_GUIDE.md                    # Postman API collection
â””â”€â”€ ğŸ“„ check-db-connection.js                  # Root DB connection check
```

## ğŸ¯ à¸Ÿà¸µà¹€à¸ˆà¸­à¸£à¹Œà¸«à¸¥à¸±à¸

### âœ… à¸£à¸°à¸šà¸š Authentication (à¸ªà¸¡à¸šà¸¹à¸£à¸“à¹Œ)
- ğŸ” **JWT Bearer Token Authentication** - à¸£à¸°à¸šà¸šà¸¢à¸·à¸™à¸¢à¸±à¸™à¸•à¸±à¸§à¸•à¸™à¸—à¸µà¹ˆà¸›à¸¥à¸­à¸”à¸ à¸±à¸¢
- ğŸª **Cookie-based Session Management** - à¸ˆà¸±à¸”à¸à¸²à¸£ session à¸”à¹‰à¸§à¸¢ httpOnly cookies
- ï¿½ **bcrypt Password Hashing** - à¹€à¸‚à¹‰à¸²à¸£à¸«à¸±à¸ªà¸£à¸«à¸±à¸ªà¸œà¹ˆà¸²à¸™à¹à¸šà¸š one-way
- ğŸ›¡ï¸ **Route Protection Middleware** - à¸›à¹‰à¸­à¸‡à¸à¸±à¸™à¸«à¸™à¹‰à¸²à¸—à¸µà¹ˆà¸•à¹‰à¸­à¸‡ login
- ğŸ‘¤ **Role-based Access Control** - à¸£à¸°à¸šà¸šà¸ˆà¸±à¸”à¸à¸²à¸£à¸ªà¸´à¸—à¸˜à¸´à¹Œ (admin, user, manager)
- ğŸ“± **Zustand State Management** - à¸ˆà¸±à¸”à¸à¸²à¸£ auth state à¹à¸šà¸š persistent

### âœ… User Management System (à¸ªà¸¡à¸šà¸¹à¸£à¸“à¹Œ)
- ï¿½ **Complete CRUD Operations** - à¹€à¸à¸´à¹ˆà¸¡ à¹à¸à¹‰à¹„à¸‚ à¸¥à¸š à¸”à¸¹à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰
- ğŸš« **Self-deletion Prevention** - à¸›à¹‰à¸­à¸‡à¸à¸±à¸™à¸à¸²à¸£à¸¥à¸šà¸šà¸±à¸à¸Šà¸µà¸•à¸±à¸§à¹€à¸­à¸‡
- ğŸ“ **Form Validation** - à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸Ÿà¸­à¸£à¹Œà¸¡à¹à¸šà¸š real-time
- ğŸ­ **Modal-based Interface** - UI à¹à¸šà¸š modal à¸ªà¸³à¸«à¸£à¸±à¸šà¸ˆà¸±à¸”à¸à¸²à¸£à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰
- ğŸ•’ **Last Login Tracking** - à¸•à¸´à¸”à¸•à¸²à¸¡à¸à¸²à¸£ login à¸¥à¹ˆà¸²à¸ªà¸¸à¸”
- ï¿½ğŸ“Š **User Statistics** - à¸ªà¸–à¸´à¸•à¸´à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¹ƒà¸™à¸£à¸°à¸šà¸š

### âœ… Dashboard Features (à¸ªà¸¡à¸šà¸¹à¸£à¸“à¹Œ)
- ğŸ“± **Responsive Design** - à¸£à¸­à¸‡à¸£à¸±à¸šà¸—à¸¸à¸à¸‚à¸™à¸²à¸”à¸«à¸™à¹‰à¸²à¸ˆà¸­
- ğŸ›ï¸ **Slide Navigation** - à¹€à¸¡à¸™à¸¹à¹à¸šà¸š sidebar à¸—à¸µà¹ˆà¸—à¸±à¸™à¸ªà¸¡à¸±à¸¢
- ï¿½ **Multi-section Dashboard** - Dashboard, Energy, Devices, Users
- ğŸ“ˆ **Real-time Data Display** - à¹à¸ªà¸”à¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹à¸šà¸š real-time
- ï¿½ **Auto Data Refresh** - à¸­à¸±à¸›à¹€à¸”à¸•à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´
- ğŸ¨ **Modern UI Components** - UI components à¸—à¸µà¹ˆà¸ªà¸§à¸¢à¸‡à¸²à¸¡

### âœ… IoT Device Management (à¸à¸·à¹‰à¸™à¸à¸²à¸™)
- ğŸ­ **Faculty-based Organization** - à¸ˆà¸±à¸”à¸à¸¥à¸¸à¹ˆà¸¡à¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¸•à¸²à¸¡à¸„à¸“à¸°
- ğŸ“± **Digital/Analog Meter Support** - à¸£à¸­à¸‡à¸£à¸±à¸šà¸¡à¸´à¹€à¸•à¸­à¸£à¹Œà¸—à¸±à¹‰à¸‡à¸ªà¸­à¸‡à¸›à¸£à¸°à¹€à¸ à¸—
- ğŸŸ¢ **Status Monitoring** - à¸•à¸´à¸”à¸•à¸²à¸¡à¸ªà¸–à¸²à¸™à¸° active/inactive
- ğŸ” **Device Filtering** - à¸à¸£à¸­à¸‡à¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¸•à¸²à¸¡à¸„à¸“à¸°
- ğŸ“Š **Device Statistics** - à¸ªà¸–à¸´à¸•à¸´à¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¹ƒà¸™à¸£à¸°à¸šà¸š

### ğŸ› ï¸ Developer Experience
- âš¡ **Next.js 15 with Turbopack** - à¸à¸²à¸£ build à¸—à¸µà¹ˆà¸£à¸§à¸”à¹€à¸£à¹‡à¸§
- ğŸ”§ **Full TypeScript** - Type safety à¸—à¸±à¹‰à¸‡à¸£à¸°à¸šà¸š
- ğŸ¨ **Tailwind CSS v4** - Styling framework à¸¥à¹ˆà¸²à¸ªà¸¸à¸” (à¹„à¸¡à¹ˆà¸¡à¸µ dark mode)
- ğŸ“¦ **Modular Components** - Component architecture à¹à¸šà¸š modular
- ğŸ§ª **Hot Reload** - à¸à¸²à¸£à¸à¸±à¸’à¸™à¸²à¸—à¸µà¹ˆà¸£à¸§à¸”à¹€à¸£à¹‡à¸§
- ğŸ“š **Custom Hooks** - useUsers, useDevices, useAuth hooks

### ğŸ—ƒï¸ Database Features
- ğŸ˜ **PostgreSQL Database** - à¸à¸²à¸™à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸—à¸µà¹ˆà¹€à¸ªà¸–à¸µà¸¢à¸£à¹à¸¥à¸°à¸—à¸£à¸‡à¸à¸¥à¸±à¸‡
- ğŸ”„ **Smart Migration System** - à¸ˆà¸±à¸”à¸à¸²à¸£ schema changes à¸­à¸¢à¹ˆà¸²à¸‡à¸›à¸¥à¸­à¸”à¸ à¸±à¸¢
- ğŸŒ± **Comprehensive Seed Data** - à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹€à¸£à¸´à¹ˆà¸¡à¸•à¹‰à¸™à¸ªà¸³à¸«à¸£à¸±à¸šà¸—à¸”à¸ªà¸­à¸š
- ğŸ” **Performance Indexes** - Indexes à¸ªà¸³à¸«à¸£à¸±à¸š performance à¸—à¸µà¹ˆà¸”à¸µ
- ğŸ“ **Complete Schema Documentation** - à¹€à¸­à¸à¸ªà¸²à¸£ database à¸„à¸£à¸šà¸–à¹‰à¸§à¸™
- âš¡ **Connection Pooling** - à¸ˆà¸±à¸”à¸à¸²à¸£ database connection à¸­à¸¢à¹ˆà¸²à¸‡à¸¡à¸µà¸›à¸£à¸°à¸ªà¸´à¸—à¸˜à¸´à¸ à¸²à¸

## ğŸ“± Mobile Responsive

à¹‚à¸›à¸£à¹€à¸ˆà¸„à¸™à¸µà¹‰à¸­à¸­à¸à¹à¸šà¸šà¸”à¹‰à¸§à¸¢ **Mobile-First Approach** à¹€à¸à¸·à¹ˆà¸­à¹ƒà¸«à¹‰à¹ƒà¸Šà¹‰à¸‡à¸²à¸™à¹„à¸”à¹‰à¸­à¸¢à¹ˆà¸²à¸‡à¸¥à¸·à¹ˆà¸™à¹„à¸«à¸¥à¸šà¸™à¸—à¸¸à¸à¸­à¸¸à¸›à¸à¸£à¸“à¹Œ

### ğŸ“ Responsive Breakpoints
```css
/* Mobile (à¹€à¸£à¸´à¹ˆà¸¡à¸•à¹‰à¸™) */
/* sm: 640px+ (à¹à¸—à¹‡à¸šà¹€à¸¥à¹‡à¸•) */
/* md: 768px+ (à¹à¸—à¹‡à¸šà¹€à¸¥à¹‡à¸•à¹ƒà¸«à¸à¹ˆ) */
/* lg: 1024px+ (Desktop) */
/* xl: 1280px+ (Desktop à¹ƒà¸«à¸à¹ˆ) */
```

### ğŸ¯ Key Responsive Features
- **Navigation**: Hamburger menu à¸šà¸™à¸¡à¸·à¸­à¸–à¸·à¸­, Full navbar à¸šà¸™ Desktop
- **Dashboard**: Grid layout à¸—à¸µà¹ˆà¸›à¸£à¸±à¸šà¸•à¸²à¸¡à¸‚à¸™à¸²à¸”à¸«à¸™à¹‰à¸²à¸ˆà¸­
- **Tables**: Horizontal scroll à¹à¸¥à¸° card layout à¸šà¸™à¸¡à¸·à¸­à¸–à¸·à¸­
- **Forms**: Stack layout à¸šà¸™à¸¡à¸·à¸­à¸–à¸·à¸­, side-by-side à¸šà¸™ Desktop
- **Statistics**: 1 column à¸šà¸™à¸¡à¸·à¸­à¸–à¸·à¸­, 2-4 columns à¸šà¸™ Desktop

### ğŸ—ï¸ Layout Components
- **MainContent.tsx**: à¸£à¸°à¸šà¸š layout à¸«à¸¥à¸±à¸à¸—à¸µà¹ˆ responsive à¸„à¸£à¸šà¸–à¹‰à¸§à¸™
- **Navbar.tsx**: Navigation bar à¸—à¸µà¹ˆà¸›à¸£à¸±à¸šà¸•à¸²à¸¡à¸‚à¸™à¸²à¸”à¸«à¸™à¹‰à¸²à¸ˆà¸­
- **Sidebar.tsx**: Slide-out menu à¸ªà¸³à¸«à¸£à¸±à¸šà¸¡à¸·à¸­à¸–à¸·à¸­
- **DashboardLayout.tsx**: Layout wrapper à¸—à¸µà¹ˆà¸¢à¸·à¸”à¸«à¸¢à¸¸à¹ˆà¸™

## ğŸ”§ à¸à¸²à¸£à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡à¹à¸¥à¸°à¹€à¸£à¸´à¹ˆà¸¡à¹ƒà¸Šà¹‰à¸‡à¸²à¸™

### ğŸ“‹ à¸„à¸§à¸²à¸¡à¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¸‚à¸­à¸‡à¸£à¸°à¸šà¸š
- **Node.js** 18.0.0 à¸«à¸£à¸·à¸­à¹ƒà¸«à¸¡à¹ˆà¸à¸§à¹ˆà¸²
- **PostgreSQL** 12.0 à¸«à¸£à¸·à¸­à¹ƒà¸«à¸¡à¹ˆà¸à¸§à¹ˆà¸²
- **npm** à¸«à¸£à¸·à¸­ **yarn** package manager

### ğŸš€ à¸‚à¸±à¹‰à¸™à¸•à¸­à¸™à¸à¸²à¸£à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡

#### 1. Clone à¹‚à¸›à¸£à¹€à¸ˆà¸„
```bash
git clone https://github.com/yourusername/iot-electric-energy.git
cd iot-electric-energy
```

#### 2. à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡ Dependencies
```bash
npm install
# à¸«à¸£à¸·à¸­
yarn install
```

#### 3. à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸² Environment Variables
à¸ªà¸£à¹‰à¸²à¸‡à¹„à¸Ÿà¸¥à¹Œ `.env` à¹à¸¥à¸°à¸à¸³à¸«à¸™à¸”à¸„à¹ˆà¸²à¸•à¹ˆà¸­à¹„à¸›à¸™à¸µà¹‰:
```env
# Database Configuration
DATABASE_URL="postgresql://username:password@host:port/database_name"

# JWT Secret
JWT_SECRET="your-super-secret-jwt-key-change-this-in-production"

# NextAuth Secret
NEXTAUTH_SECRET="your-nextauth-secret-key"
NEXTAUTH_URL="http://localhost:3000"

# App Configuration
NODE_ENV="development"
NEXT_PUBLIC_API_URL="http://localhost:3000"
```

#### 4. à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸²à¸à¸²à¸™à¸‚à¹‰à¸­à¸¡à¸¹à¸¥
```bash
# à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸²à¸à¸²à¸™à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹à¸¥à¸°à¸ªà¸£à¹‰à¸²à¸‡à¸•à¸²à¸£à¸²à¸‡
npm run setup-db

# à¹€à¸à¸´à¹ˆà¸¡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹€à¸£à¸´à¹ˆà¸¡à¸•à¹‰à¸™ (à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¸—à¸”à¸ªà¸­à¸š)
npm run seed

# à¸«à¸£à¸·à¸­à¸—à¸³à¸—à¸±à¹‰à¸‡à¸ªà¸­à¸‡à¸‚à¸±à¹‰à¸™à¸•à¸­à¸™à¸à¸£à¹‰à¸­à¸¡à¸à¸±à¸™
npm run db:reset
```

#### 5. à¹€à¸£à¸´à¹ˆà¸¡à¸•à¹‰à¸™à¸à¸²à¸£à¸à¸±à¸’à¸™à¸²
```bash
# à¹€à¸£à¸´à¹ˆà¸¡ development server
npm run dev

# à¹€à¸›à¸´à¸”à¹€à¸šà¸£à¸²à¸§à¹Œà¹€à¸‹à¸­à¸£à¹Œà¹„à¸›à¸—à¸µà¹ˆ
# http://localhost:3000
```

### ğŸ“ Scripts à¸—à¸µà¹ˆà¸¡à¸µà¹ƒà¸«à¹‰à¹ƒà¸Šà¹‰à¸‡à¸²à¸™

| Script | à¸„à¸³à¸ªà¸±à¹ˆà¸‡ | à¸„à¸³à¸­à¸˜à¸´à¸šà¸²à¸¢ |
|--------|--------|----------|
| **Development** | `npm run dev` | à¹€à¸£à¸´à¹ˆà¸¡ development server à¸à¸£à¹‰à¸­à¸¡ Turbopack |
| **Build** | `npm run build` | Build à¹‚à¸›à¸£à¹€à¸ˆà¸„à¸ªà¸³à¸«à¸£à¸±à¸š production |
| **Start** | `npm run start` | à¹€à¸£à¸´à¹ˆà¸¡ production server |
| **Lint** | `npm run lint` | à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š code style à¸”à¹‰à¸§à¸¢ ESLint |
| **Database Setup** | `npm run setup-db` | à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸²à¸à¸²à¸™à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹à¸¥à¸°à¸ªà¸£à¹‰à¸²à¸‡à¸•à¸²à¸£à¸²à¸‡ |
| **Database Seed** | `npm run seed` | à¹€à¸à¸´à¹ˆà¸¡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹€à¸£à¸´à¹ˆà¸¡à¸•à¹‰à¸™ (users à¸—à¸”à¸ªà¸­à¸š) |
| **Database Reset** | `npm run db:reset` | Reset à¸à¸²à¸™à¸‚à¹‰à¸­à¸¡à¸¹à¸¥ (setup + seed) |
| **Database Fresh** | `npm run db:fresh` | à¸¥à¸šà¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”à¹à¸¥à¹‰à¸§à¸ªà¸£à¹‰à¸²à¸‡à¹ƒà¸«à¸¡à¹ˆ |
| **Database Check** | `npm run db:check` | à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸à¸²à¸£à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­à¸à¸²à¸™à¸‚à¹‰à¸­à¸¡à¸¹à¸¥ |
| **List Users** | `npm run db:list-users` | à¹à¸ªà¸”à¸‡à¸£à¸²à¸¢à¸à¸²à¸£à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¹ƒà¸™à¸à¸²à¸™à¸‚à¹‰à¸­à¸¡à¸¹à¸¥ |
| **List Users (TS)** | `npm run db:list-users-ts` | à¹à¸ªà¸”à¸‡à¸£à¸²à¸¢à¸à¸²à¸£à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰ (TypeScript version) |
| **Test Login** | `npm run db:test-login` | à¸—à¸”à¸ªà¸­à¸šà¸£à¸°à¸šà¸š login tracking |
| **Migrate Last Login** | `npm run migrate:last-login` | Migration à¸ªà¸³à¸«à¸£à¸±à¸š last_login column |
| **Generate Secrets** | `npm run generate-secrets` | à¸ªà¸£à¹‰à¸²à¸‡ JWT secrets à¸ªà¸³à¸«à¸£à¸±à¸š production |

### ğŸ‘¤ à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¹€à¸£à¸´à¹ˆà¸¡à¸•à¹‰à¸™

à¸«à¸¥à¸±à¸‡à¸ˆà¸²à¸à¸£à¸±à¸™ `npm run seed` à¸ˆà¸°à¸¡à¸µà¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¹€à¸£à¸´à¹ˆà¸¡à¸•à¹‰à¸™à¹ƒà¸«à¹‰à¸—à¸”à¸ªà¸­à¸š:

| Role | Email | Password | à¸ªà¸´à¸—à¸˜à¸´à¹Œà¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™ |
|------|-------|----------|----------------|
| **Admin** | admin@iot-energy.com | Admin123! | âœ… à¸ˆà¸±à¸”à¸à¸²à¸£à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰, à¸­à¸¸à¸›à¸à¸£à¸“à¹Œ, à¸”à¸¹ Dashboard à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸” |
| **Manager** | manager@iot-energy.com | Manager123! | âœ… à¸”à¸¹ Dashboard, à¸ˆà¸±à¸”à¸à¸²à¸£à¸­à¸¸à¸›à¸à¸£à¸“à¹Œ |
| **User** | user@iot-energy.com | User123! | âœ… à¸”à¸¹ Dashboard à¹€à¸šà¸·à¹‰à¸­à¸‡à¸•à¹‰à¸™ |

### ğŸ”§ à¸à¸²à¸£à¸—à¸”à¸ªà¸­à¸šà¸£à¸°à¸šà¸š

```bash
# 1. à¸—à¸”à¸ªà¸­à¸šà¸à¸²à¸£à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­à¸à¸²à¸™à¸‚à¹‰à¸­à¸¡à¸¹à¸¥
npm run db:check

# 2. à¸”à¸¹à¸£à¸²à¸¢à¸à¸²à¸£à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¹ƒà¸™à¸£à¸°à¸šà¸š
npm run db:list-users

# 3. à¸—à¸”à¸ªà¸­à¸šà¸£à¸°à¸šà¸š login tracking
npm run db:test-login

# 4. à¹€à¸£à¸´à¹ˆà¸¡à¹ƒà¸Šà¹‰à¸‡à¸²à¸™à¸£à¸°à¸šà¸š
npm run dev
# à¹€à¸›à¸´à¸”à¹€à¸šà¸£à¸²à¸§à¹Œà¹€à¸‹à¸­à¸£à¹Œà¹„à¸›à¸—à¸µà¹ˆ http://localhost:3000
```

## ğŸ“± API Documentation

### ğŸ” Authentication Endpoints

#### POST `/api/auth/login`
à¹€à¸‚à¹‰à¸²à¸ªà¸¹à¹ˆà¸£à¸°à¸šà¸šà¸”à¹‰à¸§à¸¢ email à¹à¸¥à¸° password

**Request Body:**
```json
{
  "email": "admin@iot-energy.com",
  "password": "Admin123!"
}
```

**Response (Success):**
```json
{
  "success": true,
  "message": "à¹€à¸‚à¹‰à¸²à¸ªà¸¹à¹ˆà¸£à¸°à¸šà¸šà¸ªà¸³à¹€à¸£à¹‡à¸ˆ",
  "data": {
    "user": {
      "id": 1,
      "email": "admin@iot-energy.com",
      "first_name": "System",
      "last_name": "Administrator",
      "role": "admin",
      "is_active": true,
      "last_login": "2025-01-26T10:30:00.000Z"
    },
    "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
  }
}
```

#### POST `/api/auth/logout`
à¸­à¸­à¸à¸ˆà¸²à¸à¸£à¸°à¸šà¸šà¹à¸¥à¸°à¸¥à¹‰à¸²à¸‡ cookies

#### GET `/api/auth/me`
à¸”à¸¶à¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¸›à¸±à¸ˆà¸ˆà¸¸à¸šà¸±à¸™ (à¸•à¹‰à¸­à¸‡à¸¡à¸µ Authorization header)

#### POST `/api/auth/register`
à¸¥à¸‡à¸—à¸°à¹€à¸šà¸µà¸¢à¸™à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¹ƒà¸«à¸¡à¹ˆ

### ğŸ‘¥ User Management Endpoints

#### GET `/api/users`
à¸”à¸¶à¸‡à¸£à¸²à¸¢à¸à¸²à¸£à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸” (Admin à¹€à¸—à¹ˆà¸²à¸™à¸±à¹‰à¸™)

**Response:**
```json
{
  "success": true,
  "data": {
    "users": [
      {
        "id": 1,
        "name": "System Administrator",
        "email": "admin@iot-energy.com",
        "firstName": "System",
        "lastName": "Administrator",
        "role": "admin",
        "status": "Active",
        "isActive": true,
        "lastLogin": "26 à¸¡à¸à¸£à¸²à¸„à¸¡ 2025 à¹€à¸§à¸¥à¸² 10:30",
        "createdAt": "2025-01-01T00:00:00.000Z",
        "updatedAt": "2025-01-26T10:30:00.000Z"
      }
    ],
    "total": 3,
    "activeUsers": 3
  }
}
```

#### POST `/api/users`
à¸ªà¸£à¹‰à¸²à¸‡à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¹ƒà¸«à¸¡à¹ˆ (Admin à¹€à¸—à¹ˆà¸²à¸™à¸±à¹‰à¸™)

**Request Body:**
```json
{
  "name": "John Doe",
  "email": "john@example.com",
  "password": "password123",
  "role": "user",
  "status": "Active"
}
```

#### GET `/api/users/[id]`
à¸”à¸¶à¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¸•à¸²à¸¡ ID

#### PUT `/api/users/[id]`
à¹à¸à¹‰à¹„à¸‚à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰

#### DELETE `/api/users/[id]`
à¸¥à¸šà¸œà¸¹à¹‰à¹ƒà¸Šà¹‰ (à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¸¥à¸šà¸•à¸±à¸§à¹€à¸­à¸‡à¹„à¸”à¹‰)

### ï¿½ IoT Device Endpoints

#### GET `/api/devices`
à¸”à¸¶à¸‡à¸£à¸²à¸¢à¸à¸²à¸£à¸­à¸¸à¸›à¸à¸£à¸“à¹Œ IoT à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”

**Response:**
```json
{
  "success": true,
  "data": {
    "devices": [
      {
        "id": 1,
        "name": "Smart Meter 001",
        "faculty": "engineering",
        "meter_type": "digital",
        "status": "active",
        "position": "Building A, Floor 1",
        "created_at": "2025-01-26T10:00:00.000Z",
        "updated_at": "2025-01-26T10:00:00.000Z"
      }
    ],
    "total": 6,
    "activeDevices": 4
  }
}
```

#### POST `/api/devices`
à¹€à¸à¸´à¹ˆà¸¡à¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¹ƒà¸«à¸¡à¹ˆ

#### GET `/api/devices/[id]`
à¸”à¸¶à¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¸•à¸²à¸¡ ID

#### PUT `/api/devices/[id]`
à¹à¸à¹‰à¹„à¸‚à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸­à¸¸à¸›à¸à¸£à¸“à¹Œ

#### DELETE `/api/devices/[id]`
à¸¥à¸šà¸­à¸¸à¸›à¸à¸£à¸“à¹Œ

### ï¿½ğŸ“Š Profile & Admin Endpoints

#### GET `/api/profile`
à¸”à¸¶à¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥ profile à¸‚à¸­à¸‡à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¸›à¸±à¸ˆà¸ˆà¸¸à¸šà¸±à¸™

#### PUT `/api/profile`
à¹à¸à¹‰à¹„à¸‚ profile à¸‚à¸­à¸‡à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¸›à¸±à¸ˆà¸ˆà¸¸à¸šà¸±à¸™

#### GET `/api/admin/dashboard`
à¸”à¸¶à¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥ dashboard à¸ªà¸³à¸«à¸£à¸±à¸š admin

#### GET `/api/admin/login-stats`
à¸”à¸¶à¸‡à¸ªà¸–à¸´à¸•à¸´à¸à¸²à¸£ login à¸‚à¸­à¸‡à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰

### ğŸ›¡ï¸ Authorization Headers

à¸—à¸¸à¸ API (à¸¢à¸à¹€à¸§à¹‰à¸™ login/register) à¸•à¹‰à¸­à¸‡à¸ªà¹ˆà¸‡ Authorization header:
```
Authorization: Bearer <jwt_token>
```

à¸«à¸£à¸·à¸­à¹ƒà¸Šà¹‰ Cookie (à¹à¸™à¸°à¸™à¸³):
```
Cookie: auth-token=<jwt_token>
```

## ğŸ—ƒï¸ à¸à¸²à¸™à¸‚à¹‰à¸­à¸¡à¸¹à¸¥

### ğŸ“‹ Users Table Schema

```sql
CREATE TABLE users (
    -- Primary Key
    id SERIAL PRIMARY KEY,
    
    -- Authentication Fields
    email VARCHAR(255) UNIQUE NOT NULL,
    password_hash VARCHAR(255) NOT NULL,
    
    -- User Information
    first_name VARCHAR(100),
    last_name VARCHAR(100),
    
    -- User Status & Role
    role VARCHAR(50) DEFAULT 'user',
    is_active BOOLEAN DEFAULT true,
    
    -- Login Tracking
    last_login TIMESTAMP NULL DEFAULT NULL,
    
    -- Timestamps
    created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP
);
```

### ï¿½ IoT Devices Schema (Planning)

```sql
CREATE TABLE devices (
    id SERIAL PRIMARY KEY,
    name VARCHAR(255) NOT NULL,
    faculty VARCHAR(100) NOT NULL,
    meter_type VARCHAR(50) CHECK (meter_type IN ('digital', 'analog')),
    status VARCHAR(50) DEFAULT 'active' CHECK (status IN ('active', 'inactive')),
    position VARCHAR(255),
    created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP
);
```

### ï¿½ğŸ” Indexes à¸ªà¸³à¸«à¸£à¸±à¸š Performance

```sql
-- Email index à¸ªà¸³à¸«à¸£à¸±à¸š authentication (à¸ªà¸³à¸„à¸±à¸à¸¡à¸²à¸)
CREATE INDEX idx_users_email ON users(email);

-- Last login index à¸ªà¸³à¸«à¸£à¸±à¸š reporting à¹à¸¥à¸° user activity
CREATE INDEX idx_users_last_login ON users(last_login);

-- Role index à¸ªà¸³à¸«à¸£à¸±à¸š authorization queries
CREATE INDEX idx_users_role ON users(role);

-- Active users index à¸ªà¸³à¸«à¸£à¸±à¸šà¸à¸£à¸­à¸‡à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¸—à¸µà¹ˆ active
CREATE INDEX idx_users_active ON users(is_active) WHERE is_active = true;

-- Device indexes (à¸ªà¸³à¸«à¸£à¸±à¸šà¸­à¸™à¸²à¸„à¸•)
CREATE INDEX idx_devices_faculty ON devices(faculty);
CREATE INDEX idx_devices_status ON devices(status);
```

### âš¡ Database Functions & Triggers

```sql
-- Auto-update timestamp trigger
CREATE OR REPLACE FUNCTION update_updated_at_column()
RETURNS TRIGGER AS $$
BEGIN
    NEW.updated_at = CURRENT_TIMESTAMP;
    RETURN NEW;
END;
$$ LANGUAGE 'plpgsql';

-- Apply trigger to users table
CREATE OR REPLACE TRIGGER update_users_updated_at 
    BEFORE UPDATE ON users 
    FOR EACH ROW 
    EXECUTE FUNCTION update_updated_at_column();

-- Helper function à¸ªà¸³à¸«à¸£à¸±à¸šà¸­à¸±à¸›à¹€à¸”à¸• last_login
CREATE OR REPLACE FUNCTION update_user_last_login(user_email VARCHAR(255))
RETURNS BOOLEAN AS $$
BEGIN
    UPDATE users 
    SET last_login = CURRENT_TIMESTAMP 
    WHERE email = user_email AND is_active = true;
    
    RETURN FOUND;
END;
$$ LANGUAGE plpgsql;
```

### ğŸ”„ Migration System

à¸£à¸°à¸šà¸šà¸¡à¸µ migration scripts à¸ªà¸³à¸«à¸£à¸±à¸šà¸à¸²à¸£à¸­à¸±à¸›à¹€à¸”à¸• schema à¸­à¸¢à¹ˆà¸²à¸‡à¸›à¸¥à¸­à¸”à¸ à¸±à¸¢:

```bash
# Migration à¸ªà¸³à¸«à¸£à¸±à¸šà¹€à¸à¸´à¹ˆà¸¡ last_login column (à¸–à¹‰à¸²à¹„à¸¡à¹ˆà¸¡à¸µ)
npm run migrate:last-login

# à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š schema à¸›à¸±à¸ˆà¸ˆà¸¸à¸šà¸±à¸™
npm run db:check
```

### ğŸ“Š Database Statistics

```sql
-- à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸ˆà¸³à¸™à¸§à¸™à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¹ƒà¸™à¸£à¸°à¸šà¸š
SELECT 
    COUNT(*) as total_users,
    COUNT(*) FILTER (WHERE is_active = true) as active_users,
    COUNT(*) FILTER (WHERE role = 'admin') as admin_users,
    COUNT(*) FILTER (WHERE last_login IS NOT NULL) as users_with_login
FROM users;

-- à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š indexes à¸—à¸µà¹ˆà¸¡à¸µà¸­à¸¢à¸¹à¹ˆ
SELECT 
    indexname, 
    tablename, 
    indexdef 
FROM pg_indexes 
WHERE tablename = 'users';
```

## ğŸ” à¸£à¸°à¸šà¸š Authentication

### ğŸ›¡ï¸ Security Features

- **JWT Bearer Tokens** - à¸£à¸°à¸šà¸šà¸¢à¸·à¸™à¸¢à¸±à¸™à¸•à¸±à¸§à¸•à¸™à¹à¸šà¸š stateless à¹à¸¥à¸°à¸›à¸¥à¸­à¸”à¸ à¸±à¸¢
- **bcrypt Password Hashing** - à¹€à¸‚à¹‰à¸²à¸£à¸«à¸±à¸ªà¸£à¸«à¸±à¸ªà¸œà¹ˆà¸²à¸™à¹à¸šà¸š one-way (cost factor 12)
- **httpOnly Cookies** - à¹€à¸à¹‡à¸š token à¹ƒà¸™ httpOnly cookies à¸›à¹‰à¸­à¸‡à¸à¸±à¸™ XSS
- **Role-based Access Control** - à¸ˆà¸±à¸”à¸à¸²à¸£à¸ªà¸´à¸—à¸˜à¸´à¹Œà¸•à¸²à¸¡ role (admin, manager, user)
- **Automatic Token Refresh** - à¸£à¸°à¸šà¸šà¸•à¹ˆà¸­à¸­à¸²à¸¢à¸¸ token à¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´
- **Login Tracking** - à¸•à¸´à¸”à¸•à¸²à¸¡à¸à¸²à¸£ login à¸¥à¹ˆà¸²à¸ªà¸¸à¸”à¸‚à¸­à¸‡à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰
- **Self-deletion Prevention** - à¸›à¹‰à¸­à¸‡à¸à¸±à¸™à¸à¸²à¸£à¸¥à¸šà¸šà¸±à¸à¸Šà¸µà¸•à¸±à¸§à¹€à¸­à¸‡

### ğŸ”§ Zustand State Management

```typescript
// à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™ auth store
import { useAuth } from '@/store/authStore';

const MyComponent = () => {
  const { user, isAuthenticated, login, logout, isLoading } = useAuth();
  
  // à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸à¸²à¸£ login
  if (isLoading) {
    return <LoadingSpinner />;
  }
  
  if (!isAuthenticated) {
    return <LoginForm />;
  }
  
  return <Dashboard user={user} />;
};
```

### ğŸ› ï¸ Middleware Protection

```typescript
// middleware.ts - à¸›à¹‰à¸­à¸‡à¸à¸±à¸™ routes à¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´
export function middleware(request: NextRequest) {
  const token = request.cookies.get('auth-token');
  const { pathname } = request.nextUrl;
  
  // Protected routes
  if (pathname.startsWith('/dashboard')) {
    if (!token) {
      return NextResponse.redirect(new URL('/login', request.url));
    }
  }
  
  // Auth routes - redirect if already logged in
  if (pathname.startsWith('/login') && token) {
    return NextResponse.redirect(new URL('/dashboard', request.url));
  }
  
  return NextResponse.next();
}
```

### ğŸ”‘ JWT Token Structure

```json
{
  "header": {
    "alg": "HS256",
    "typ": "JWT"
  },
  "payload": {
    "userId": 1,
    "email": "admin@iot-energy.com",
    "role": "admin",
    "iat": 1640995200,
    "exp": 1641081600
  },
  "signature": "base64UrlEncode(signature)"
}
```

### ğŸ”’ API Authentication

```typescript
// Server-side authentication check
import { verifyToken } from '@/lib/server-auth';

export async function GET(request: NextRequest) {
  const user = await verifyToken(request);
  
  if (!user) {
    return NextResponse.json(
      { success: false, message: 'Unauthorized' },
      { status: 401 }
    );
  }
  
  // Continue with authenticated request
  return NextResponse.json({ success: true, user });
}
```

### ğŸ‘¥ Role-based Authorization

```typescript
// Component-level role checking
const { user } = useAuth();

// Admin only features
if (user?.role === 'admin') {
  return <AdminPanel />;
}

// Manager and Admin features  
if (['admin', 'manager'].includes(user?.role)) {
  return <ManagementPanel />;
}

// Default user features
return <UserDashboard />;
```

## ğŸ§ª à¸à¸²à¸£à¸—à¸”à¸ªà¸­à¸š

### ğŸ” à¸à¸²à¸£à¸—à¸”à¸ªà¸­à¸šà¸à¸²à¸£à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­à¹à¸¥à¸°à¸Ÿà¸±à¸‡à¸à¹Œà¸Šà¸±à¸™

```bash
# 1. à¸—à¸”à¸ªà¸­à¸šà¸à¸²à¸£à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­à¸à¸²à¸™à¸‚à¹‰à¸­à¸¡à¸¹à¸¥
npm run db:check

# 2. à¸—à¸”à¸ªà¸­à¸šà¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¹ƒà¸™à¸£à¸°à¸šà¸š
npm run db:list-users

# 3. à¸—à¸”à¸ªà¸­à¸š API endpoints
curl -X POST http://localhost:3000/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"email":"admin@iot-energy.com","password":"Admin123!"}'

# 4. à¸—à¸”à¸ªà¸­à¸šà¸£à¸°à¸šà¸š login tracking
npm run db:test-login
```

### ğŸ“Š à¸à¸²à¸£à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹ƒà¸™à¸à¸²à¸™à¸‚à¹‰à¸­à¸¡à¸¹à¸¥

```sql
-- à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¹ƒà¸™à¸£à¸°à¸šà¸š
SELECT id, email, role, is_active, last_login, created_at FROM users;

-- à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š indexes
\d+ users

-- à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸ˆà¸³à¸™à¸§à¸™à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¸•à¸²à¸¡ role
SELECT role, COUNT(*) as count FROM users GROUP BY role;

-- à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¸—à¸µà¹ˆ login à¸¥à¹ˆà¸²à¸ªà¸¸à¸”
SELECT email, last_login FROM users 
WHERE last_login IS NOT NULL 
ORDER BY last_login DESC LIMIT 5;
```

### ğŸ§ª Manual Testing Checklist

#### âœ… Authentication Testing
- [ ] Login à¸”à¹‰à¸§à¸¢ admin credentials
- [ ] Login à¸”à¹‰à¸§à¸¢ user credentials  
- [ ] Login à¸”à¹‰à¸§à¸¢ credentials à¸œà¸´à¸” (à¸•à¹‰à¸­à¸‡ error)
- [ ] Logout à¹à¸¥à¸°à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š redirect
- [ ] Refresh à¸«à¸™à¹‰à¸²à¸«à¸¥à¸±à¸‡ login (à¸•à¹‰à¸­à¸‡à¸¢à¸±à¸‡à¸„à¸‡ login à¸­à¸¢à¸¹à¹ˆ)
- [ ] à¹€à¸‚à¹‰à¸² `/dashboard` à¹‚à¸”à¸¢à¹„à¸¡à¹ˆ login (à¸•à¹‰à¸­à¸‡ redirect à¹„à¸› login)

#### âœ… User Management Testing
- [ ] à¹à¸ªà¸”à¸‡à¸£à¸²à¸¢à¸à¸²à¸£à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”
- [ ] à¹€à¸à¸´à¹ˆà¸¡à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¹ƒà¸«à¸¡à¹ˆà¸œà¹ˆà¸²à¸™ modal
- [ ] à¹à¸à¹‰à¹„à¸‚à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰
- [ ] à¸¥à¸šà¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¸„à¸™à¸­à¸·à¹ˆà¸™ (à¸ªà¸³à¹€à¸£à¹‡à¸ˆ)
- [ ] à¸à¸¢à¸²à¸¢à¸²à¸¡à¸¥à¸šà¸•à¸±à¸§à¹€à¸­à¸‡ (à¸•à¹‰à¸­à¸‡à¸–à¸¹à¸à¸›à¹‰à¸­à¸‡à¸à¸±à¸™)
- [ ] à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š validation à¹ƒà¸™à¸Ÿà¸­à¸£à¹Œà¸¡
- [ ] à¸—à¸”à¸ªà¸­à¸š role permissions

#### âœ… Dashboard Testing
- [ ] Dashboard à¸«à¸¥à¸±à¸à¹à¸ªà¸”à¸‡à¸ªà¸–à¸´à¸•à¸´à¸–à¸¹à¸à¸•à¹‰à¸­à¸‡
- [ ] à¹€à¸¡à¸™à¸¹ Sidebar à¸—à¸³à¸‡à¸²à¸™à¸›à¸à¸•à¸´
- [ ] à¸«à¸™à¹‰à¸² Energy à¹à¸ªà¸”à¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥ mock
- [ ] à¸«à¸™à¹‰à¸² Devices à¹à¸ªà¸”à¸‡à¸£à¸²à¸¢à¸à¸²à¸£à¸­à¸¸à¸›à¸à¸£à¸“à¹Œ
- [ ] Filter à¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¸•à¸²à¸¡à¸„à¸“à¸°
- [ ] Responsive design à¸šà¸™à¸¡à¸·à¸­à¸–à¸·à¸­

#### âœ… API Testing
- [ ] `/api/auth/login` - login à¸ªà¸³à¹€à¸£à¹‡à¸ˆ
- [ ] `/api/auth/me` - à¸”à¸¶à¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥ user à¸›à¸±à¸ˆà¸ˆà¸¸à¸šà¸±à¸™
- [ ] `/api/users` - à¸”à¸¶à¸‡à¸£à¸²à¸¢à¸à¸²à¸£à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰ (admin only)
- [ ] `/api/users` - à¸ªà¸£à¹‰à¸²à¸‡à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¹ƒà¸«à¸¡à¹ˆ (POST)
- [ ] `/api/users/[id]` - à¹à¸à¹‰à¹„à¸‚/à¸¥à¸šà¸œà¸¹à¹‰à¹ƒà¸Šà¹‰
- [ ] `/api/devices` - à¸”à¸¶à¸‡à¸£à¸²à¸¢à¸à¸²à¸£à¸­à¸¸à¸›à¸à¸£à¸“à¹Œ

### ğŸ› Debug Mode & Logging

```bash
# à¹€à¸›à¸´à¸” Next.js à¹ƒà¸™ debug mode
DEBUG=* npm run dev

# à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š logs à¹ƒà¸™ browser console
# - Auth store state changes
# - API requests/responses  
# - Modal state changes
# - Form validation errors
```

### ğŸ“± Cross-browser Testing

| Browser | Status | Notes |
|---------|--------|-------|
| **Chrome** | âœ… Fully Supported | Primary development browser |
| **Firefox** | âœ… Fully Supported | Tested on latest version |
| **Safari** | âœ… Mostly Supported | Some CSS differences |
| **Edge** | âœ… Fully Supported | Chromium-based |
| **Mobile Safari** | âœ… Responsive | Touch interactions work |
| **Mobile Chrome** | âœ… Responsive | Full functionality |

### ğŸ”§ Performance Testing

```javascript
// à¸—à¸”à¸ªà¸­à¸š loading times
console.time('Page Load');
// ... page load
console.timeEnd('Page Load');

// à¸—à¸”à¸ªà¸­à¸š API response times
console.time('API Call');
const response = await fetch('/api/users');
console.timeEnd('API Call');
```

## ğŸ“š à¸à¸²à¸£à¸à¸±à¸’à¸™à¸²à¸•à¹ˆà¸­

### ğŸ¯ Roadmap (Short-term)

- [ ] **Device Modal Management** - Modal à¸ªà¸³à¸«à¸£à¸±à¸šà¸ˆà¸±à¸”à¸à¸²à¸£à¸­à¸¸à¸›à¸à¸£à¸“à¹Œ IoT
- [ ] **Real-time Energy Data** - à¹à¸ªà¸”à¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸à¸¥à¸±à¸‡à¸‡à¸²à¸™à¹à¸šà¸š real-time
- [ ] **Energy Usage Charts** - à¸à¸£à¸²à¸Ÿà¹à¸ªà¸”à¸‡à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸à¸¥à¸±à¸‡à¸‡à¸²à¸™
- [ ] **Device Database Integration** - à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­à¸à¸±à¸šà¸à¸²à¸™à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¸ˆà¸£à¸´à¸‡
- [ ] **Push Notifications** - à¸£à¸°à¸šà¸šà¹à¸ˆà¹‰à¸‡à¹€à¸•à¸·à¸­à¸™à¸œà¹ˆà¸²à¸™à¹€à¸šà¸£à¸²à¸§à¹Œà¹€à¸‹à¸­à¸£à¹Œ
- [ ] **Export Data** - à¸ªà¹ˆà¸‡à¸­à¸­à¸à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹€à¸›à¹‡à¸™ CSV/Excel
- [ ] **Advanced User Permissions** - à¸ªà¸´à¸—à¸˜à¸´à¹Œà¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¸£à¸°à¸”à¸±à¸šà¸¥à¸°à¹€à¸­à¸µà¸¢à¸”

### ğŸ¯ Roadmap (Long-term)

- [ ] **IoT Device Integration** - à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­à¸à¸±à¸šà¸­à¸¸à¸›à¸à¸£à¸“à¹Œ IoT à¸ˆà¸£à¸´à¸‡
- [ ] **WebSocket Real-time Updates** - à¸­à¸±à¸›à¹€à¸”à¸•à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹à¸šà¸š real-time
- [ ] **Mobile Application** - à¹à¸­à¸à¸¡à¸·à¸­à¸–à¸·à¸­ React Native
- [ ] **Multi-campus Support** - à¸£à¸­à¸‡à¸£à¸±à¸šà¸«à¸¥à¸²à¸¢à¸§à¸´à¸—à¸¢à¸²à¹€à¸‚à¸•
- [ ] **API Rate Limiting** - à¸ˆà¸³à¸à¸±à¸”à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™ API
- [ ] **Audit Logs** - à¸šà¸±à¸™à¸—à¸¶à¸à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™à¹à¸¥à¸°à¸à¸²à¸£à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¹à¸›à¸¥à¸‡
- [ ] **Advanced Analytics** - à¸à¸²à¸£à¸§à¸´à¹€à¸„à¸£à¸²à¸°à¸«à¹Œà¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸‚à¸±à¹‰à¸™à¸ªà¸¹à¸‡
- [ ] **Energy Prediction** - à¸—à¸³à¸™à¸²à¸¢à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸à¸¥à¸±à¸‡à¸‡à¸²à¸™
- [ ] **Multi-tenant Support** - à¸£à¸­à¸‡à¸£à¸±à¸šà¸«à¸¥à¸²à¸¢à¸­à¸‡à¸„à¹Œà¸à¸£

### ğŸ› ï¸ Technical Improvements

- [ ] **Unit Testing** - Jest + React Testing Library
- [ ] **E2E Testing** - Playwright tests
- [ ] **Performance Monitoring** - à¸à¸²à¸£à¸•à¸´à¸”à¸•à¸²à¸¡ performance
- [ ] **Error Boundary** - à¸ˆà¸±à¸”à¸à¸²à¸£ errors à¹à¸šà¸š graceful
- [ ] **PWA Features** - Progressive Web App capabilities
- [ ] **CI/CD Pipeline** - GitHub Actions automation
- [ ] **Database Backup** - à¸£à¸°à¸šà¸šà¸ªà¸³à¸£à¸­à¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´

### ğŸ”§ Current Architecture Benefits

âœ… **Modular Design** - Components à¹à¸¢à¸à¸•à¸²à¸¡ responsibility  
âœ… **Type Safety** - TypeScript à¸—à¸±à¹‰à¸‡à¸£à¸°à¸šà¸š  
âœ… **Scalable Structure** - à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡à¸—à¸µà¹ˆà¸£à¸­à¸‡à¸£à¸±à¸šà¸à¸²à¸£à¸‚à¸¢à¸²à¸¢  
âœ… **Performance Optimized** - Database indexes à¹à¸¥à¸° query optimization  
âœ… **Security First** - Authentication à¹à¸¥à¸° authorization à¸—à¸µà¹ˆà¹à¸‚à¹‡à¸‡à¹à¸à¸£à¹ˆà¸‡  
âœ… **Developer Experience** - Hot reload, TypeScript, ESLint  

### ï¿½ï¸ Contributing Guidelines

1. **Code Style**
   ```bash
   # à¹ƒà¸Šà¹‰ ESLint à¸ªà¸³à¸«à¸£à¸±à¸š code quality
   npm run lint
   
   # à¹ƒà¸Šà¹‰ TypeScript à¸ªà¸³à¸«à¸£à¸±à¸š type safety
   # à¸•à¸±à¹‰à¸‡à¸Šà¸·à¹ˆà¸­ variables à¹à¸¥à¸° functions à¹ƒà¸«à¹‰à¸ªà¸·à¹ˆà¸­à¸„à¸§à¸²à¸¡à¸«à¸¡à¸²à¸¢
   ```

2. **Git Workflow**
   ```bash
   # à¸ªà¸£à¹‰à¸²à¸‡ feature branch
   git checkout -b feature/device-management
   
   # Commit à¹à¸šà¸š descriptive
   git commit -m "feat: add device CRUD operations with modal interface"
   
   # Push à¹à¸¥à¸°à¸ªà¸£à¹‰à¸²à¸‡ Pull Request
   git push origin feature/device-management
   ```

3. **Database Changes**
   ```bash
   # à¸ªà¸£à¹‰à¸²à¸‡ migration script à¸ªà¸³à¸«à¸£à¸±à¸š schema changes
   # à¸—à¸”à¸ªà¸­à¸š migration à¹ƒà¸™à¸ªà¸ à¸²à¸à¹à¸§à¸”à¸¥à¹‰à¸­à¸¡ development
   # à¸­à¸±à¸›à¹€à¸”à¸•à¹€à¸­à¸à¸ªà¸²à¸£ schema
   ```

### ï¿½ Development Best Practices

```typescript
// âœ… Good: à¹ƒà¸Šà¹‰ TypeScript interfaces
interface UserFormData {
  name: string;
  email: string;
  role: 'admin' | 'user' | 'manager';
  status: 'Active' | 'Inactive';
}

// âœ… Good: à¹ƒà¸Šà¹‰ custom hooks
const { users, loading, error, refreshUsers } = useUsers();

// âœ… Good: Error handling
try {
  const result = await userAPI.createUser(userData);
  showSuccessNotification('à¸ªà¸£à¹‰à¸²à¸‡à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¸ªà¸³à¹€à¸£à¹‡à¸ˆ');
  return result;
} catch (error) {
  console.error('Create user failed:', error);
  showErrorNotification('à¹€à¸à¸´à¸”à¸‚à¹‰à¸­à¸œà¸´à¸”à¸à¸¥à¸²à¸”à¹ƒà¸™à¸à¸²à¸£à¸ªà¸£à¹‰à¸²à¸‡à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰');
  throw error;
}

// âœ… Good: Component composition
const UserManagement = () => {
  return (
    <>
      <UserTable users={users} onEdit={handleEdit} onDelete={handleDelete} />
      <UserModal isOpen={modal.isOpen} onClose={closeModal} onSave={handleSave} />
      <ConfirmDeleteModal isOpen={deleteModal.isOpen} onConfirm={handleConfirmDelete} />
    </>
  );
};
```

## ğŸ‰ à¸ªà¸£à¸¸à¸›à¹‚à¸›à¸£à¹€à¸ˆà¸„

### ğŸ† à¸„à¸§à¸²à¸¡à¸ªà¸³à¹€à¸£à¹‡à¸ˆà¸—à¸µà¹ˆà¹„à¸”à¹‰à¸£à¸±à¸š

âœ… **Complete Authentication System** - à¸£à¸°à¸šà¸šà¸¢à¸·à¸™à¸¢à¸±à¸™à¸•à¸±à¸§à¸•à¸™à¸„à¸£à¸šà¸–à¹‰à¸§à¸™  
âœ… **User Management with CRUD** - à¸ˆà¸±à¸”à¸à¸²à¸£à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¹à¸šà¸šà¹€à¸•à¹‡à¸¡à¸£à¸¹à¸›à¹à¸šà¸š  
âœ… **Role-based Access Control** - à¸£à¸°à¸šà¸šà¸ªà¸´à¸—à¸˜à¸´à¹Œà¸•à¸²à¸¡ role  
âœ… **Modern UI/UX Design** - Interface à¸—à¸µà¹ˆà¸—à¸±à¸™à¸ªà¸¡à¸±à¸¢à¹à¸¥à¸°à¹ƒà¸Šà¹‰à¸‡à¸²à¸™à¸‡à¹ˆà¸²à¸¢  
âœ… **Database Integration** - à¸à¸²à¸™à¸‚à¹‰à¸­à¸¡à¸¹à¸¥ PostgreSQL à¸à¸£à¹‰à¸­à¸¡ indexing  
âœ… **API Architecture** - RESTful APIs à¸—à¸µà¹ˆà¸¡à¸µà¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡à¸”à¸µ  
âœ… **Security Implementation** - à¸„à¸§à¸²à¸¡à¸›à¸¥à¸­à¸”à¸ à¸±à¸¢à¸£à¸°à¸”à¸±à¸š production  
âœ… **TypeScript Integration** - Type safety à¸—à¸±à¹‰à¸‡à¸£à¸°à¸šà¸š  

### ï¿½ à¸ªà¸–à¸´à¸•à¸´à¹‚à¸›à¸£à¹€à¸ˆà¸„

| Component | Files | Lines of Code | Status |
|-----------|-------|---------------|--------|
| **Authentication** | 8 files | ~400 lines | âœ… Complete |
| **User Management** | 6 files | ~600 lines | âœ… Complete |
| **API Endpoints** | 12 files | ~800 lines | âœ… Complete |
| **UI Components** | 10 files | ~1,200 lines | âœ… Complete |
| **Database Schema** | 3 files | ~200 lines | âœ… Complete |
| **Configuration** | 6 files | ~150 lines | âœ… Complete |
| **Total** | **45+ files** | **~3,350 lines** | **Production Ready** |

### ğŸš€ Technical Achievements

- **Next.js 15** - à¹ƒà¸Šà¹‰ framework à¸¥à¹ˆà¸²à¸ªà¸¸à¸”à¸à¸£à¹‰à¸­à¸¡ Turbopack
- **Tailwind CSS v4** - Styling framework à¸¥à¹ˆà¸²à¸ªà¸¸à¸”
- **React 19** - React version à¸¥à¹ˆà¸²à¸ªà¸¸à¸”
- **TypeScript 5** - Full type safety
- **PostgreSQL** - Enterprise-grade database
- **Zustand** - Modern state management
- **JWT Authentication** - Industry standard security

### ğŸ¯ Use Cases à¸—à¸µà¹ˆà¸£à¸­à¸‡à¸£à¸±à¸š

1. **Multi-user IoT Management** - à¸ˆà¸±à¸”à¸à¸²à¸£à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¸«à¸¥à¸²à¸¢à¸„à¸™
2. **Role-based Dashboard** - Dashboard à¸•à¸²à¸¡ role à¸‚à¸­à¸‡à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰
3. **Device Monitoring** - à¸•à¸´à¸”à¸•à¸²à¸¡à¸­à¸¸à¸›à¸à¸£à¸“à¹Œ IoT (à¸à¸·à¹‰à¸™à¸à¸²à¸™)
4. **Energy Analytics** - à¸§à¸´à¹€à¸„à¸£à¸²à¸°à¸«à¹Œà¸à¸²à¸£à¹ƒà¸Šà¹‰à¸à¸¥à¸±à¸‡à¸‡à¸²à¸™ (à¸ªà¹ˆà¸§à¸™à¹€à¸•à¸£à¸µà¸¢à¸¡)
5. **Admin Management** - à¸à¸²à¸£à¸ˆà¸±à¸”à¸à¸²à¸£à¸£à¸°à¸šà¸šà¹‚à¸”à¸¢ admin

### ğŸ›¡ï¸ Security Features

- **Password Hashing** - bcrypt à¸à¸±à¸š salt rounds 12
- **JWT Tokens** - Secure token-based authentication  
- **httpOnly Cookies** - à¸›à¹‰à¸­à¸‡à¸à¸±à¸™ XSS attacks
- **Route Protection** - Middleware protection
- **Role Authorization** - API-level permissions
- **Input Validation** - à¸›à¹‰à¸­à¸‡à¸à¸±à¸™ injection attacks

### ğŸ“ˆ Performance Optimizations

- **Database Indexing** - Optimized queries
- **Component Lazy Loading** - à¸¥à¸” initial bundle size
- **Custom Hooks** - Reusable logic à¹à¸¥à¸° caching
- **Connection Pooling** - Database performance
- **Turbopack** - Fast development builds

---

## ğŸ“ à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸•à¸´à¸”à¸•à¹ˆà¸­à¹à¸¥à¸°à¸à¸²à¸£à¸ªà¸™à¸±à¸šà¸ªà¸™à¸¸à¸™

### ğŸ’¡ à¸ªà¸³à¸«à¸£à¸±à¸šà¸„à¸³à¸–à¸²à¸¡à¹à¸¥à¸°à¸à¸²à¸£à¸à¸±à¸’à¸™à¸²

- ğŸ“§ **Technical Support**: à¹‚à¸›à¸£à¹€à¸ˆà¸„à¸™à¸µà¹‰à¸à¸±à¸’à¸™à¸²à¹€à¸à¸·à¹ˆà¸­à¸à¸²à¸£à¸¨à¸¶à¸à¸©à¸²
- ğŸ› **Bug Reports**: à¸ªà¸²à¸¡à¸²à¸£à¸–à¸ªà¸£à¹‰à¸²à¸‡ issues à¹ƒà¸™ repository
- ğŸ“š **Documentation**: à¸”à¸¹à¹€à¸­à¸à¸ªà¸²à¸£à¹€à¸à¸´à¹ˆà¸¡à¹€à¸•à¸´à¸¡à¹ƒà¸™à¹‚à¸Ÿà¸¥à¹€à¸”à¸­à¸£à¹Œ `docs/`
- ğŸš€ **Contributing**: à¸¢à¸´à¸™à¸”à¸µà¸£à¸±à¸šà¸à¸²à¸£à¸¡à¸µà¸ªà¹ˆà¸§à¸™à¸£à¹ˆà¸§à¸¡à¹ƒà¸™à¸à¸²à¸£à¸à¸±à¸’à¸™à¸²

### ğŸ“š à¹€à¸­à¸à¸ªà¸²à¸£à¹€à¸à¸´à¹ˆà¸¡à¹€à¸•à¸´à¸¡

- ğŸ“– [PROJECT_STRUCTURE.md](./PROJECT_STRUCTURE.md) - à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡à¹‚à¸›à¸£à¹€à¸ˆà¸„à¹à¸šà¸šà¸¥à¸°à¹€à¸­à¸µà¸¢à¸”
- ğŸ” [ZUSTAND_AUTH_GUIDE.md](./ZUSTAND_AUTH_GUIDE.md) - à¸„à¸¹à¹ˆà¸¡à¸·à¸­à¸£à¸°à¸šà¸š Authentication
- ğŸ—ƒï¸ [DATABASE-COMMANDS.md](./docs/DATABASE-COMMANDS.md) - à¸„à¸³à¸ªà¸±à¹ˆà¸‡ Database
- ğŸ“± [POSTMAN_API_GUIDE.md](./POSTMAN_API_GUIDE.md) - à¸„à¸¹à¹ˆà¸¡à¸·à¸­à¸—à¸”à¸ªà¸­à¸š API
- ğŸ”§ [JWT-BEARER-GUIDE.md](./docs/JWT-BEARER-GUIDE.md) - JWT Implementation

### ğŸ« Academic Context

à¹‚à¸›à¸£à¹€à¸ˆà¸„à¸™à¸µà¹‰à¸à¸±à¸’à¸™à¸²à¹€à¸›à¹‡à¸™à¸ªà¹ˆà¸§à¸™à¸«à¸™à¸¶à¹ˆà¸‡à¸‚à¸­à¸‡à¸à¸²à¸£à¸¨à¸¶à¸à¸©à¸²à¸£à¸°à¸”à¸±à¸šà¸¡à¸«à¸²à¸§à¸´à¸—à¸¢à¸²à¸¥à¸±à¸¢ à¹€à¸›à¹‡à¸™à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡à¸à¸²à¸£à¸à¸±à¸’à¸™à¸² **Full-Stack IoT Energy Management System** à¸”à¹‰à¸§à¸¢à¹€à¸—à¸„à¹‚à¸™à¹‚à¸¥à¸¢à¸µà¸—à¸µà¹ˆà¸—à¸±à¸™à¸ªà¸¡à¸±à¸¢

**à¹€à¸—à¸„à¹‚à¸™à¹‚à¸¥à¸¢à¸µà¸«à¸¥à¸±à¸:** Next.js 15, React 19, TypeScript, PostgreSQL, Tailwind CSS v4

### ğŸ“ˆ Project Summary

**à¸ªà¸´à¹ˆà¸‡à¸—à¸µà¹ˆà¹„à¸”à¹‰à¹€à¸ªà¸£à¹‡à¸ˆà¸ªà¸¡à¸šà¸¹à¸£à¸“à¹Œ:**
- âœ… à¸£à¸°à¸šà¸š Authentication à¹à¸šà¸š JWT Bearer Token
- âœ… User Management CRUD à¸„à¸£à¸šà¸–à¹‰à¸§à¸™
- âœ… Mobile Responsive Design 100%
- âœ… Layout Components à¹à¸šà¸š Modular
- âœ… Database Integration à¸à¸£à¹‰à¸­à¸¡ Migration
- âœ… API Architecture à¸—à¸µà¹ˆà¸¡à¸µà¸¡à¸²à¸•à¸£à¸à¸²à¸™
- âœ… TypeScript Implementation à¸—à¸±à¹‰à¸‡à¸£à¸°à¸šà¸š

**à¹€à¸—à¸„à¹‚à¸™à¹‚à¸¥à¸¢à¸µà¸—à¸µà¹ˆà¹ƒà¸Šà¹‰:**
- Frontend: Next.js 15, React 19, TypeScript 5, Tailwind CSS v4
- Backend: Node.js, PostgreSQL, JWT, bcrypt
- State Management: Zustand
- Development: Turbopack, ESLint, Hot Reload

**à¸ªà¸–à¸´à¸•à¸´à¹‚à¸„à¹‰à¸”:** 52+ à¹„à¸Ÿà¸¥à¹Œ, 4,550+ à¸šà¸£à¸£à¸—à¸±à¸”, Production Ready

---

<div align="center">

**ğŸŒŸ à¸‚à¸­à¸šà¸„à¸¸à¸“à¸—à¸µà¹ˆà¹ƒà¸Šà¹‰à¸‡à¸²à¸™ IoT Electric Energy Management System!**

*à¸à¸±à¸’à¸™à¸²à¸”à¹‰à¸§à¸¢ â¤ï¸ à¹à¸¥à¸°à¹€à¸—à¸„à¹‚à¸™à¹‚à¸¥à¸¢à¸µà¸—à¸µà¹ˆà¸—à¸±à¸™à¸ªà¸¡à¸±à¸¢à¸—à¸µà¹ˆà¸ªà¸¸à¸”*

[![Next.js](https://img.shields.io/badge/Next.js-15.4.4-000000?logo=next.js)](https://nextjs.org/)
[![React](https://img.shields.io/badge/React-19.1.0-61DAFB?logo=react)](https://reactjs.org/)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.0+-3178C6?logo=typescript)](https://www.typescriptlang.org/)
[![PostgreSQL](https://img.shields.io/badge/PostgreSQL-Latest-336791?logo=postgresql)](https://www.postgresql.org/)

</div>
â”‚   â”‚   â””â”€â”€ ğŸ“„ jwt.ts                 # JWT utilities
â”‚   â”œâ”€â”€ ğŸ“ types/                     # TypeScript interfaces
â”‚   â”‚   â””â”€â”€ ğŸ“„ auth.ts                # Auth type definitions
â”‚   â”œâ”€â”€ ğŸ“ models/                    # Database models
â”‚   â”‚   â””â”€â”€ ğŸ“„ User.ts                # User model
â”‚   â””â”€â”€ ğŸ“ archive/                   # Archived files
â”‚       â”œâ”€â”€ ğŸ“ debug-pages/           # Debug pages
â”‚       â”œâ”€â”€ ğŸ“ setup-scripts/         # Setup scripts
â”‚       â””â”€â”€ ğŸ“ old-auth-files/        # Old auth files
â”œâ”€â”€ ğŸ“ docs/                          # Documentation
â”œâ”€â”€ ğŸ“„ package.json                   # Dependencies & scripts
â”œâ”€â”€ ğŸ“„ tsconfig.json                  # TypeScript config
â”œâ”€â”€ ğŸ“„ tailwind.config.ts             # Tailwind CSS config
â”œâ”€â”€ ğŸ“„ next.config.js                 # Next.js config
â”œâ”€â”€ ğŸ“„ middleware.ts                  # Route protection
â””â”€â”€ ğŸ“„ README.md                      # Project documentation
```

## ğŸ”§ à¸à¸²à¸£à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡à¹à¸¥à¸°à¹€à¸£à¸´à¹ˆà¸¡à¹ƒà¸Šà¹‰à¸‡à¸²à¸™

### âœ… Requirements
- **Node.js** 18+ 
- **PostgreSQL** 12+
- **npm** à¸«à¸£à¸·à¸­ **yarn**

### ğŸ“¦ à¸à¸²à¸£à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡

```bash
# 1. Clone repository
git clone <repository-url>
cd iot-electric-energy

# 2. à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡ dependencies
npm install

# 3. à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸² environment variables
cp .env.example .env.local
# à¹à¸à¹‰à¹„à¸‚à¸„à¹ˆà¸²à¹ƒà¸™ .env.local

# 4. à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸²à¸à¸²à¸™à¸‚à¹‰à¸­à¸¡à¸¹à¸¥
npm run setup-db
npm run seed

# 5. à¹€à¸£à¸´à¹ˆà¸¡à¹ƒà¸Šà¹‰à¸‡à¸²à¸™ development server
npm run dev
```

### ğŸš€ Scripts à¸—à¸µà¹ˆà¸à¸£à¹‰à¸­à¸¡à¹ƒà¸Šà¹‰

| Script | à¸„à¸³à¸ªà¸±à¹ˆà¸‡ | à¸„à¸³à¸­à¸˜à¸´à¸šà¸²à¸¢ |
|--------|--------|----------|
| **Development** | `npm run dev` | à¹€à¸£à¸´à¹ˆà¸¡ dev server à¸à¸£à¹‰à¸­à¸¡ Turbopack |
| **Build** | `npm run build` | Build à¸ªà¸³à¸«à¸£à¸±à¸š production |
| **Start** | `npm run start` | à¹€à¸£à¸´à¹ˆà¸¡ production server |
| **Lint** | `npm run lint` | à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š code quality |
| **DB Setup** | `npm run setup-db` | à¸ªà¸£à¹‰à¸²à¸‡ database tables |
| **DB Seed** | `npm run seed` | à¹€à¸à¸´à¹ˆà¸¡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡ |
| **DB Reset** | `npm run db:reset` | à¸£à¸µà¹€à¸‹à¹‡à¸• database |
| **DB Fresh** | `npm run db:fresh` | à¸¥à¸šà¹à¸¥à¸°à¸ªà¸£à¹‰à¸²à¸‡ database à¹ƒà¸«à¸¡à¹ˆ |

## ğŸ¯ à¸Ÿà¸µà¹€à¸ˆà¸­à¸£à¹Œà¸«à¸¥à¸±à¸

### âœ… à¸£à¸°à¸šà¸š Authentication
- [x] JWT Bearer Token Authentication
- [x] Cookie-based Session Management
- [x] Password Hashing (bcrypt)
- [x] Auto Login/Logout
- [x] Route Protection

### âœ… State Management
- [x] Zustand Store à¸ªà¸³à¸«à¸£à¸±à¸š auth state
- [x] Persistent Storage
- [x] Type Safety
- [x] Error Handling

### âœ… UI/UX
- [x] Responsive Design (Tailwind CSS)
- [x] Loading States
- [x] Error Messages
- [x] Form Validation

### âœ… Database
- [x] PostgreSQL Integration
- [x] User Management
- [x] Connection Pooling

## ğŸ” à¸£à¸°à¸šà¸š Authentication

### ğŸ”„ Authentication Flow

```
User Input â†’ Login Form â†’ API Endpoint â†’ Database â†’ JWT Token â†’ Cookie â†’ Zustand Store â†’ Dashboard
```

1. **User à¸à¸£à¸­à¸** email/password à¹ƒà¸™ LoginForm
2. **Client à¸ªà¹ˆà¸‡** POST request à¹„à¸› `/api/auth/login`
3. **API à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š** credentials à¸à¸±à¸š database
4. **Database à¸ªà¹ˆà¸‡** user data à¸à¸¥à¸±à¸š
5. **API à¸ªà¸£à¹‰à¸²à¸‡** JWT token à¹à¸¥à¸°à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸² cookie
6. **Client à¹€à¸à¹‡à¸š** user data à¹ƒà¸™ Zustand store
7. **Redirect** à¹„à¸›à¸«à¸™à¹‰à¸² Dashboard

### ğŸ—‚ï¸ Auth Store (Zustand)

```typescript
interface AuthState {
  user: User | null;              // à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰
  token: string | null;           // JWT token
  isLoading: boolean;             // à¸ªà¸–à¸²à¸™à¸°à¹‚à¸«à¸¥à¸”
  error: string | null;           // à¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡ error
  isAuthenticated: boolean;       // à¸ªà¸–à¸²à¸™à¸° login
  
  // Actions
  login(credentials): Promise     // à¹€à¸‚à¹‰à¸²à¸ªà¸¹à¹ˆà¸£à¸°à¸šà¸š
  logout(): void                  // à¸­à¸­à¸à¸ˆà¸²à¸à¸£à¸°à¸šà¸š
  checkAuth(): Promise            // à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š auth
  clearError(): void              // à¸¥à¸š error
}
```

### ğŸ”‘ JWT Token Structure

```json
{
  "header": {
    "alg": "HS256",
    "typ": "JWT"
  },
  "payload": {
    "userId": 1,
    "email": "admin@example.com",
    "role": "admin",
    "iat": 1640995200,
    "exp": 1641081600
  }
}
```

## ğŸ“± API Documentation

### ğŸ” Authentication Endpoints

#### POST `/api/auth/login`
à¹€à¸‚à¹‰à¸²à¸ªà¸¹à¹ˆà¸£à¸°à¸šà¸šà¸”à¹‰à¸§à¸¢ email à¹à¸¥à¸° password

**Request Body:**
```json
{
  "email": "admin@example.com",
  "password": "admin123"
}
```

**Response (Success):**
```json
{
  "success": true,
  "message": "Login successful",
  "data": {
    "user": {
      "id": 1,
      "email": "admin@example.com",
      "first_name": "Admin",
      "last_name": "User",
      "role": "admin"
    },
    "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
  }
}
```

**Response (Error):**
```json
{
  "success": false,
  "message": "Invalid email or password"
}
```

## ğŸ—ƒï¸ à¸à¸²à¸™à¸‚à¹‰à¸­à¸¡à¸¹à¸¥

### ğŸ‘¥ Users Table

```sql
CREATE TABLE users (
  id SERIAL PRIMARY KEY,
  email VARCHAR(255) UNIQUE NOT NULL,
  password_hash VARCHAR(255) NOT NULL,
  first_name VARCHAR(100),
  last_name VARCHAR(100),
  role VARCHAR(50) DEFAULT 'user',
  is_active BOOLEAN DEFAULT true,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

### ğŸ“Š Default Data

```sql
-- Admin User (à¸ªà¸³à¸«à¸£à¸±à¸šà¸—à¸”à¸ªà¸­à¸š)
INSERT INTO users (email, password_hash, first_name, last_name, role)
VALUES ('admin@example.com', '$2b$10$...', 'Admin', 'User', 'admin');
```

## ğŸ§ª à¸à¸²à¸£à¸—à¸”à¸ªà¸­à¸š

### ğŸ”§ Manual Testing

1. **à¹€à¸›à¸´à¸”à¹€à¸šà¸£à¸²à¸§à¹Œà¹€à¸‹à¸­à¸£à¹Œ**: http://localhost:3000
2. **à¸—à¸”à¸ªà¸­à¸š Redirect**: à¸«à¸™à¹‰à¸²à¹à¸£à¸à¸ˆà¸° redirect à¹„à¸› login
3. **à¸—à¸”à¸ªà¸­à¸š Login**: 
   - Email: `admin@example.com`
   - Password: `admin123`
4. **à¸—à¸”à¸ªà¸­à¸š Dashboard**: à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸‚à¹‰à¸­à¸¡à¸¹à¸¥ user
5. **à¸—à¸”à¸ªà¸­à¸š Logout**: à¸à¸”à¸›à¸¸à¹ˆà¸¡à¸­à¸­à¸à¸ˆà¸²à¸à¸£à¸°à¸šà¸š
6. **à¸—à¸”à¸ªà¸­à¸š Persistence**: Refresh à¸«à¸™à¹‰à¸² (state à¸¢à¸±à¸‡à¸„à¸‡à¸­à¸¢à¸¹à¹ˆ)

### ğŸ› Debug Mode

à¹€à¸›à¸´à¸” Browser Developer Tools à¹€à¸à¸·à¹ˆà¸­à¸”à¸¹:
- **Console Logs**: Debug messages
- **Network Tab**: API requests
- **Application Tab**: Cookies à¹à¸¥à¸° Local Storage

## ğŸ“š à¸à¸²à¸£à¸à¸±à¸’à¸™à¸²à¸•à¹ˆà¸­

### ğŸ¯ à¸Ÿà¸µà¹€à¸ˆà¸­à¸£à¹Œà¸—à¸µà¹ˆà¸§à¸²à¸‡à¹à¸œà¸™à¹„à¸§à¹‰

1. **ğŸ”„ Token Refresh**
   ```typescript
   // Auto refresh expired tokens
   refreshToken(): Promise<void>
   ```

2. **ğŸ‘¥ Role-based Access Control**
   ```typescript
   // Permission-based routing
   hasPermission(action: string): boolean
   ```

3. **ğŸ“Š IoT Data Management**
   ```typescript
   // Energy consumption tracking
   interface EnergyData {
     deviceId: string;
     consumption: number;
     timestamp: Date;
   }
   ```

4. **ğŸ“ˆ Dashboard Analytics**
   - Real-time charts
   - Energy usage reports
   - Device monitoring

### ğŸ›¡ï¸ Security Enhancements

- **Rate Limiting** - à¸ˆà¸³à¸à¸±à¸”à¸à¸²à¸£ request
- **Input Validation** - à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸£à¸±à¸šà¹€à¸‚à¹‰à¸²
- **HTTPS Enforcement** - à¸šà¸±à¸‡à¸„à¸±à¸šà¹ƒà¸Šà¹‰ HTTPS
- **CORS Configuration** - à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸² CORS

### ğŸ“± Mobile Support

- **Progressive Web App (PWA)**
- **Mobile-first Design**
- **Touch Gestures**
- **Offline Support**

##  à¸—à¸µà¸¡à¸à¸±à¸’à¸™à¸²

- **Frontend**: React + Next.js + Tailwind CSS
- **Backend**: Next.js API Routes + PostgreSQL
- **State Management**: Zustand
- **Authentication**: JWT + Cookies

## ğŸ“„ License

à¹‚à¸›à¸£à¹€à¸ˆà¸„à¸™à¸µà¹‰à¸à¸±à¸’à¸™à¸²à¹€à¸à¸·à¹ˆà¸­à¸à¸²à¸£à¸¨à¸¶à¸à¸©à¸²à¹ƒà¸™à¸£à¸°à¸”à¸±à¸šà¸¡à¸«à¸²à¸§à¸´à¸—à¸¢à¸²à¸¥à¸±à¸¢

---

ğŸ“§ **à¸•à¸´à¸”à¸•à¹ˆà¸­**: à¸ªà¸³à¸«à¸£à¸±à¸šà¸„à¸³à¸–à¸²à¸¡à¸«à¸£à¸·à¸­à¸‚à¹‰à¸­à¹€à¸ªà¸™à¸­à¹à¸™à¸°à¹€à¸à¸µà¹ˆà¸¢à¸§à¸à¸±à¸šà¹‚à¸›à¸£à¹€à¸ˆà¸„
