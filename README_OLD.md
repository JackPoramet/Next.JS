# ğŸŒŸ IoT Electric Energy Management System

> à¸£à¸°à¸šà¸šà¸ˆà¸±à¸”à¸à¸²à¸£à¸à¸¥à¸±à¸‡à¸‡à¸²à¸™à¹„à¸Ÿà¸Ÿà¹‰à¸² IoT à¹à¸šà¸š Full-Stack à¸”à¹‰à¸§à¸¢ Next.js 15, TypeScript à¹à¸¥à¸° PostgreSQL  
> **à¸ªà¸–à¸²à¸™à¸°**: Production Ready âœ… | **à¸­à¸±à¸à¹€à¸”à¸—à¸¥à¹ˆà¸²à¸ªà¸¸à¸”**: 29 à¸ªà¸´à¸‡à¸«à¸²à¸„à¸¡ 2025

[![Next.js](https://img.shields.io/badge/Next.js-15.5.0-000000?logo=next.js)](https://nextjs.org/)
[![React](https://img.shields.io/badge/React-19.1.0-61DAFB?logo=react)](https://reactjs.org/)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.8.3-3178C6?logo=typescript)](https://www.typescriptlang.org/)
[![PostgreSQL](https://img.shields.io/badge/PostgreSQL-16+-336791?logo=postgresql)](https://www.postgresql.org/)
[![Tailwind CSS](https://img.shields.io/badge/Tailwind_CSS-4.1.11-38B2AC?logo=tailwind-css)](https://tailwindcss.com/)
[![SSE](https://img.shields.io/badge/SSE-Real--time-orange?logo=firefox)](https://developer.mozilla.org/en-US/docs/Web/API/Server-sent_events)
[![MQTT](https://img.shields.io/badge/MQTT-IoT_Protocol-green?logo=mqtt)](https://mqtt.org/)

## ğŸ†• à¸­à¸±à¸à¹€à¸”à¸—à¸¥à¹ˆà¸²à¸ªà¸¸à¸” (29 à¸ªà¸´à¸‡à¸«à¸²à¸„à¸¡ 2025)

### âœ… Production Ready Features

#### ğŸ—ï¸ Build & Deployment Success
- **Build Status**: âœ… Production build à¸ªà¸³à¹€à¸£à¹‡à¸ˆ (29.2s compilation time)
- **Type Safety**: âœ… TypeScript compilation à¸œà¹ˆà¸²à¸™à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”
- **Code Quality**: âš ï¸ Minor linting warnings (non-blocking)
- **Bundle Optimization**: âœ… Route-based code splitting à¸à¸£à¹‰à¸­à¸¡

#### ğŸ”” IoT Device Discovery & Notification System 
- **Database-driven Notifications**: à¹à¸ˆà¹‰à¸‡à¹€à¸•à¸·à¸­à¸™à¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¹ƒà¸«à¸¡à¹ˆà¸œà¹ˆà¸²à¸™ `devices_pending` table
- **Real-time Bell Icon**: à¸à¸£à¸°à¸”à¸´à¹ˆà¸‡à¹à¸ˆà¹‰à¸‡à¹€à¸•à¸·à¸­à¸™à¹à¸ªà¸”à¸‡à¸ˆà¸³à¸™à¸§à¸™à¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¸—à¸µà¹ˆà¸£à¸­à¸à¸²à¸£à¸­à¸™à¸¸à¸¡à¸±à¸•à¸´ (polling à¸—à¸¸à¸ 10 à¸§à¸´à¸™à¸²à¸—à¸µà¸ªà¸³à¸«à¸£à¸±à¸š admin)
- **Smart Navigation**: à¸„à¸¥à¸´à¸à¸à¸£à¸°à¸”à¸´à¹ˆà¸‡à¸™à¸³à¸—à¸²à¸‡à¹„à¸› Device Approval page à¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´
- **Auto Cleanup Service**: à¸¥à¸šà¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¸—à¸µà¹ˆà¹„à¸¡à¹ˆà¸­à¸±à¸à¹€à¸”à¸—à¸¡à¸²à¸™à¸²à¸™ 60 à¸§à¸´à¸™à¸²à¸—à¸µà¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´ (à¸—à¸³à¸‡à¸²à¸™à¸—à¸¸à¸ 15 à¸§à¸´à¸™à¸²à¸—à¸µ)

#### ğŸ“¡ Advanced MQTT & Real-time Integration
- **MQTT Broker**: à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­à¸ªà¸³à¹€à¸£à¹‡à¸ˆà¸à¸±à¸š `iot666.ddns.net:1883`
- **15 MQTT Topics**: Subscribe à¸„à¸£à¸­à¸šà¸„à¸¥à¸¸à¸¡ 6 à¸„à¸“à¸° à¸à¸£à¹‰à¸­à¸¡ datas/prop/data topics
- **Virtual Device Simulator**: Python scripts à¸ˆà¸³à¸¥à¸­à¸‡à¸­à¸¸à¸›à¸à¸£à¸“à¹Œ IoT à¸ªà¹ˆà¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹à¸šà¸šà¸ˆà¸£à¸´à¸‡
- **Nested JSON Processing**: à¹à¸à¹‰à¹„à¸‚à¸à¸²à¸£à¹à¸›à¸¥à¸‡ `device_prop` object à¸ˆà¸²à¸ MQTT messages
- **SSE Broadcasting**: à¹à¸ˆà¸à¸ˆà¹ˆà¸²à¸¢à¸‚à¹‰à¸­à¸¡à¸¹à¸¥ MQTT à¹à¸šà¸š real-time à¸œà¹ˆà¸²à¸™ Server-Sent Events

#### ğŸ›ï¸ Complete Admin Dashboard
- **Device Management**: à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­à¸à¸²à¸™à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸ˆà¸£à¸´à¸‡ à¹à¸ªà¸”à¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¸„à¸£à¸šà¸–à¹‰à¸§à¸™
- **Responsible Persons**: à¸ˆà¸±à¸”à¸à¸²à¸£à¸šà¸¸à¸„à¸„à¸¥à¸£à¸±à¸šà¸œà¸´à¸”à¸Šà¸­à¸šà¸­à¸¸à¸›à¸à¸£à¸“à¹Œ
- **Manufacturer Management**: à¸ˆà¸±à¸”à¸à¸²à¸£à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸œà¸¹à¹‰à¸œà¸¥à¸´à¸•à¸­à¸¸à¸›à¸à¸£à¸“à¹Œ
- **Faculty-based Organization**: à¸ˆà¸±à¸”à¸à¸¥à¸¸à¹ˆà¸¡à¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¸•à¸²à¸¡ 6 à¸„à¸“à¸°
- **Real-time Status**: Online/Offline detection à¸•à¸²à¸¡ 60-second timeout

#### ğŸ—„ï¸ Production Database Schema
- **Device Approval Workflow**: Table `devices_pending` à¸ªà¸³à¸«à¸£à¸±à¸šà¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¹ƒà¸«à¸¡à¹ˆ
- **Complete Relationships**: JOIN queries à¸—à¸³à¸‡à¸²à¸™à¸–à¸¹à¸à¸•à¹‰à¸­à¸‡à¸à¸±à¸šà¸—à¸¸à¸ related tables
- **Auto Migration**: Database migration scripts à¸à¸£à¹‰à¸­à¸¡à¹ƒà¸Šà¹‰à¸‡à¸²à¸™
- **Data Integrity**: Foreign key constraints à¹à¸¥à¸° data validation

### ğŸš€ Performance Metrics (Production Build)

| Metric | Value | Status |
|--------|--------|---------|
| **Build Time** | 29.2s | âœ… Optimized |
| **Total Routes** | 39 routes | âœ… Complete |
| **Static Pages** | 11 pages | âœ… Pre-rendered |
| **Bundle Size** | ~105KB average | âœ… Optimized |
| **MQTT Topics** | 15 active topics | âœ… Full coverage |
| **Database Tables** | 10+ tables | âœ… Normalized |

### ğŸ“Š System Architecture (Updated 2025)

```mermaid
graph TB
    subgraph "ğŸ IoT Device Layer"
        VD[Virtual Device Simulator<br/>Python MQTT Scripts]
        RD[Real IoT Devices<br/>ESP32, Arduino, etc.]
    end
    
    subgraph "ğŸ“¡ Communication Layer"
        BROKER[MQTT Broker<br/>iot666.ddns.net:1883<br/>15 Active Topics]
        SSE[SSE Service<br/>Real-time Broadcasting<br/>Auto-reconnection]
    end
    
    subgraph "ğŸŒ Next.js Application"
        API[API Routes<br/>39 Endpoints]
        MQTT_SRV[MQTT Service<br/>Auto-subscribing]
        CLEAN[Cleanup Service<br/>15s Intervals]
    end
    
    subgraph "ï¿½ Data Layer"
        PG[(PostgreSQL<br/>Production Ready<br/>Connection Pooling)]
        PENDING[(devices_pending<br/>Auto Discovery)]
        DEVICES[(devices<br/>Registered Devices)]
    end
    
    subgraph "ğŸ¨ Frontend Layer"
        DASH[Real-time Dashboard<br/>Faculty-based Filtering]
        ADMIN[Admin Panel<br/>Device Management]
        NOTIF[Notification Bell<br/>10s Polling]
    end
    
    VD --> BROKER
    RD --> BROKER
    BROKER --> MQTT_SRV
    MQTT_SRV --> SSE
    MQTT_SRV --> PENDING
    CLEAN --> PENDING
    SSE --> DASH
    API --> PG
    API --> DEVICES
    PENDING --> NOTIF
    NOTIF --> ADMIN
```

---

## ğŸ“‹ à¸ªà¸²à¸£à¸šà¸±à¸

- [ğŸš€ à¹€à¸à¸µà¹ˆà¸¢à¸§à¸à¸±à¸šà¹‚à¸›à¸£à¹€à¸ˆà¸„](#-à¹€à¸à¸µà¹ˆà¸¢à¸§à¸à¸±à¸šà¹‚à¸›à¸£à¹€à¸ˆà¸„)
- [âš¡ à¸„à¸¸à¸“à¸ªà¸¡à¸šà¸±à¸•à¸´à¸«à¸¥à¸±à¸](#-à¸„à¸¸à¸“à¸ªà¸¡à¸šà¸±à¸•à¸´à¸«à¸¥à¸±à¸)
- [ğŸ› ï¸ à¹€à¸—à¸„à¹‚à¸™à¹‚à¸¥à¸¢à¸µà¸—à¸µà¹ˆà¹ƒà¸Šà¹‰](#ï¸-à¹€à¸—à¸„à¹‚à¸™à¹‚à¸¥à¸¢à¸µà¸—à¸µà¹ˆà¹ƒà¸Šà¹‰)
- [ğŸ—ï¸ à¸ªà¸–à¸²à¸›à¸±à¸•à¸¢à¸à¸£à¸£à¸¡à¸£à¸°à¸šà¸š](#ï¸-à¸ªà¸–à¸²à¸›à¸±à¸•à¸¢à¸à¸£à¸£à¸¡à¸£à¸°à¸šà¸š)
- [ğŸ”§ à¸à¸²à¸£à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡](#-à¸à¸²à¸£à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡)
- [ğŸ“– à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™](#-à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™)
- [ğŸ” à¸£à¸°à¸šà¸š Authentication](#-à¸£à¸°à¸šà¸š-authentication)
- [ğŸ“¡ à¸£à¸°à¸šà¸š Real-time](#-à¸£à¸°à¸šà¸š-real-time)
- [ğŸ“± API Documentation](#-api-documentation)
- [ğŸ—‚ï¸ à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡à¹‚à¸›à¸£à¹€à¸ˆà¸„](#ï¸-à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡à¹‚à¸›à¸£à¹€à¸ˆà¸„)
- [ğŸ§ª à¸à¸²à¸£à¸—à¸”à¸ªà¸­à¸š](#-à¸à¸²à¸£à¸—à¸”à¸ªà¸­à¸š)
- [ï¿½ à¸à¸²à¸£à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸›à¸£à¸°à¸ªà¸´à¸—à¸˜à¸´à¸ à¸²à¸](#-à¸à¸²à¸£à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸›à¸£à¸°à¸ªà¸´à¸—à¸˜à¸´à¸ à¸²à¸-performance-monitoring)
- [ï¿½ğŸš€ à¸à¸²à¸£ Deploy](#-à¸à¸²à¸£-deploy)
- [ğŸ“ à¸à¸²à¸£à¸ªà¸™à¸±à¸šà¸ªà¸™à¸¸à¸™](#-à¸à¸²à¸£à¸ªà¸™à¸±à¸šà¸ªà¸™à¸¸à¸™)

---

## ğŸš€ à¹€à¸à¸µà¹ˆà¸¢à¸§à¸à¸±à¸šà¹‚à¸›à¸£à¹€à¸ˆà¸„

**IoT Electric Energy Management System** à¹€à¸›à¹‡à¸™à¸£à¸°à¸šà¸šà¸ˆà¸±à¸”à¸à¸²à¸£à¸à¸¥à¸±à¸‡à¸‡à¸²à¸™à¹„à¸Ÿà¸Ÿà¹‰à¸²à¹à¸šà¸šà¸„à¸£à¸šà¸§à¸‡à¸ˆà¸£ à¸—à¸µà¹ˆà¸à¸±à¸’à¸™à¸²à¸”à¹‰à¸§à¸¢à¹€à¸—à¸„à¹‚à¸™à¹‚à¸¥à¸¢à¸µà¸—à¸µà¹ˆà¸—à¸±à¸™à¸ªà¸¡à¸±à¸¢à¸—à¸µà¹ˆà¸ªà¸¸à¸” à¹€à¸à¸·à¹ˆà¸­à¸•à¸­à¸šà¸ªà¸™à¸­à¸‡à¸„à¸§à¸²à¸¡à¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¹ƒà¸™à¸à¸²à¸£à¸•à¸´à¸”à¸•à¸²à¸¡à¹à¸¥à¸°à¸ˆà¸±à¸”à¸à¸²à¸£à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸à¸¥à¸±à¸‡à¸‡à¸²à¸™à¹„à¸Ÿà¸Ÿà¹‰à¸²à¹ƒà¸™à¸­à¸‡à¸„à¹Œà¸à¸£à¸‚à¸™à¸²à¸”à¹ƒà¸«à¸à¹ˆ

### ğŸ¯ à¸§à¸±à¸•à¸–à¸¸à¸›à¸£à¸°à¸ªà¸‡à¸„à¹Œ
- âœ… **à¸ˆà¸±à¸”à¸à¸²à¸£à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰** - à¸£à¸°à¸šà¸š CRUD à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¹à¸šà¸šà¸„à¸£à¸šà¸–à¹‰à¸§à¸™ à¸à¸£à¹‰à¸­à¸¡ Role-based Access Control
- âœ… **à¸•à¸´à¸”à¸•à¸²à¸¡à¸­à¸¸à¸›à¸à¸£à¸“à¹Œ IoT** - à¸ˆà¸±à¸”à¸à¸²à¸£à¹à¸¥à¸°à¸•à¸´à¸”à¸•à¸²à¸¡ Smart Meter à¹à¸¥à¸°à¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¸§à¸±à¸”à¸à¸¥à¸±à¸‡à¸‡à¸²à¸™
- âœ… **Dashboard à¹à¸šà¸š Real-time** - à¹à¸ªà¸”à¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸à¸¥à¸±à¸‡à¸‡à¸²à¸™à¹à¸šà¸šà¹€à¸£à¸µà¸¢à¸¥à¹„à¸—à¸¡à¹Œà¸”à¹‰à¸§à¸¢ SSE (Server-Sent Events)
- âœ… **à¸£à¸°à¸šà¸šà¸£à¸±à¸à¸©à¸²à¸„à¸§à¸²à¸¡à¸›à¸¥à¸­à¸”à¸ à¸±à¸¢** - Authentication à¹à¸¥à¸° Authorization à¸£à¸°à¸”à¸±à¸š Enterprise
- âœ… **à¸£à¸­à¸‡à¸£à¸±à¸š Multi-Faculty** - à¸ˆà¸±à¸”à¸à¸²à¸£à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹à¸šà¸šà¹à¸¢à¸à¸•à¸²à¸¡à¸«à¸™à¹ˆà¸§à¸¢à¸‡à¸²à¸™/à¸„à¸“à¸° (6 à¸„à¸“à¸°)
- âœ… **SSE Real-time Communication** - Server-Sent Events à¸ªà¸³à¸«à¸£à¸±à¸šà¸à¸²à¸£à¸ªà¸·à¹ˆà¸­à¸ªà¸²à¸£à¹à¸šà¸š Real-time
- âœ… **MQTT Integration** - à¸£à¸­à¸‡à¸£à¸±à¸šà¸à¸²à¸£à¸£à¸±à¸šà¸ªà¹ˆà¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸ˆà¸²à¸à¸­à¸¸à¸›à¸à¸£à¸“à¹Œ IoT à¹à¸šà¸š Real-time à¸œà¹ˆà¸²à¸™ MQTT Protocol
- âœ… **Dual Topic Structure** - à¹à¸¢à¸à¸‚à¹‰à¸­à¸¡à¸¹à¸¥ properties (`/prop`) à¹à¸¥à¸° sensor data (`/datas`) à¹€à¸à¸·à¹ˆà¸­à¸à¸²à¸£à¸ˆà¸±à¸”à¸à¸²à¸£à¸—à¸µà¹ˆà¸¡à¸µà¸›à¸£à¸°à¸ªà¸´à¸—à¸˜à¸´à¸ à¸²à¸
- âœ… **60-Second Timeout Logic** - à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸ªà¸–à¸²à¸™à¸°à¸­à¸¸à¸›à¸à¸£à¸“à¹Œ Online/Offline à¸•à¸²à¸¡ timestamp
- âœ… **ğŸ”” IoT Device Discovery** - à¸£à¸°à¸šà¸šà¸„à¹‰à¸™à¸à¸šà¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¹ƒà¸«à¸¡à¹ˆà¸œà¹ˆà¸²à¸™ MQTT à¹à¸¥à¸°à¹à¸ˆà¹‰à¸‡à¹€à¸•à¸·à¸­à¸™ admin à¹à¸šà¸š real-time
- âœ… **ğŸ›ï¸ Device Approval Workflow** - à¸£à¸°à¸šà¸šà¸­à¸™à¸¸à¸¡à¸±à¸•à¸´à¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¹ƒà¸«à¸¡à¹ˆà¸ªà¸³à¸«à¸£à¸±à¸š admin à¸à¸£à¹‰à¸­à¸¡ auto cleanup
- âœ… **ğŸ”„ Database-driven Notifications** - à¸£à¸°à¸šà¸šà¹à¸ˆà¹‰à¸‡à¹€à¸•à¸·à¸­à¸™à¸—à¸µà¹ˆà¸”à¸¶à¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸ˆà¸²à¸ database à¹à¸—à¸™ SSE

### ğŸ›ï¸ à¸à¸£à¸“à¸µà¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™
- **à¸¡à¸«à¸²à¸§à¸´à¸—à¸¢à¸²à¸¥à¸±à¸¢** - à¸ˆà¸±à¸”à¸à¸²à¸£à¸à¸¥à¸±à¸‡à¸‡à¸²à¸™à¹„à¸Ÿà¸Ÿà¹‰à¸²à¸‚à¸­à¸‡à¸«à¸¥à¸²à¸¢à¸„à¸“à¸°/à¸­à¸²à¸„à¸²à¸£ (Engineering, Institution, Liberal Arts, Business Administration, Architecture, Industrial Education)
- **à¹‚à¸£à¸‡à¸‡à¸²à¸™à¸­à¸¸à¸•à¸ªà¸²à¸«à¸à¸£à¸£à¸¡** - à¸•à¸´à¸”à¸•à¸²à¸¡à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸à¸¥à¸±à¸‡à¸‡à¸²à¸™à¸‚à¸­à¸‡à¸«à¸¥à¸²à¸¢à¸«à¸™à¹ˆà¸§à¸¢à¸œà¸¥à¸´à¸•
- **à¸­à¸²à¸„à¸²à¸£à¸ªà¸³à¸™à¸±à¸à¸‡à¸²à¸™** - à¸ˆà¸±à¸”à¸à¸²à¸£à¸à¸¥à¸±à¸‡à¸‡à¸²à¸™à¸‚à¸­à¸‡à¸«à¸¥à¸²à¸¢à¸Šà¸±à¹‰à¸™/à¸à¹ˆà¸²à¸¢
- **Smart City** - à¸£à¸°à¸šà¸šà¸ˆà¸±à¸”à¸à¸²à¸£à¸à¸¥à¸±à¸‡à¸‡à¸²à¸™à¹ƒà¸™à¸Šà¸¸à¸¡à¸Šà¸™

### ğŸ†• à¸­à¸±à¸à¹€à¸”à¸—à¸¥à¹ˆà¸²à¸ªà¸¸à¸” (à¸ªà¸´à¸‡à¸«à¸²à¸„à¸¡ 2025)
- **à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡ MQTT Topic à¹ƒà¸«à¸¡à¹ˆ**: `devices/{faculty}/{device}/datas` à¹à¸¥à¸° `devices/{faculty}/{device}/prop`
- **SSE Integration**: Server-Sent Events à¸ªà¸³à¸«à¸£à¸±à¸š Real-time communication à¹à¸—à¸™ WebSocket
- **à¸£à¸°à¸šà¸š Status à¹à¸šà¸š Simplified**: Online/Offline detection à¸•à¸²à¸¡ timestamp (60 à¸§à¸´à¸™à¸²à¸—à¸µ)
- **à¸‚à¹‰à¸­à¸¡à¸¹à¸¥ Environmental à¹à¸šà¸š Simplified**: à¹€à¸«à¸¥à¸·à¸­à¹€à¸‰à¸à¸²à¸° temperature
- **Python MQTT Devices**: à¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¸ˆà¸³à¸¥à¸­à¸‡à¸ªà¸³à¸«à¸£à¸±à¸šà¸—à¸”à¸ªà¸­à¸šà¸£à¸°à¸šà¸š (3 simulators)
- **Dashboard à¸›à¸£à¸±à¸šà¸›à¸£à¸¸à¸‡à¹ƒà¸«à¸¡à¹ˆ**: Real-time monitoring à¹à¸¥à¸° System Check
- **Icon Enhancement**: à¹ƒà¸Šà¹‰ âš¡ à¹à¸—à¸™ ğŸ“± à¸ªà¸³à¸«à¸£à¸±à¸š IoT Devices Management
- **Build Optimization**: à¹à¸à¹‰à¹„à¸‚ TypeScript compilation errors à¹à¸¥à¸° ESLint warnings

---

## âš¡ à¸„à¸¸à¸“à¸ªà¸¡à¸šà¸±à¸•à¸´à¸«à¸¥à¸±à¸

### ğŸ” à¸£à¸°à¸šà¸šà¸£à¸±à¸à¸©à¸²à¸„à¸§à¸²à¸¡à¸›à¸¥à¸­à¸”à¸ à¸±à¸¢
- **JWT Bearer Token Authentication** - à¸£à¸°à¸šà¸šà¸¢à¸·à¸™à¸¢à¸±à¸™à¸•à¸±à¸§à¸•à¸™à¸—à¸µà¹ˆà¸›à¸¥à¸­à¸”à¸ à¸±à¸¢
- **Role-based Access Control** - à¸ˆà¸±à¸”à¸à¸²à¸£à¸ªà¸´à¸—à¸˜à¸´à¹Œà¸•à¸²à¸¡ Role (Admin, Manager, User)
- **Password Hashing** - à¹€à¸‚à¹‰à¸²à¸£à¸«à¸±à¸ªà¸£à¸«à¸±à¸ªà¸œà¹ˆà¸²à¸™à¸”à¹‰à¸§à¸¢ bcrypt
- **Session Management** - à¸ˆà¸±à¸”à¸à¸²à¸£ Session à¸”à¹‰à¸§à¸¢ HttpOnly Cookies
- **Route Protection** - à¸›à¹‰à¸­à¸‡à¸à¸±à¸™à¸à¸²à¸£à¹€à¸‚à¹‰à¸²à¸–à¸¶à¸‡à¸«à¸™à¹‰à¸²à¸—à¸µà¹ˆà¸•à¹‰à¸­à¸‡à¸¢à¸·à¸™à¸¢à¸±à¸™à¸•à¸±à¸§à¸•à¸™
- **Self-deletion Prevention** - à¸›à¹‰à¸­à¸‡à¸à¸±à¸™à¸à¸²à¸£à¸¥à¸šà¸šà¸±à¸à¸Šà¸µà¸•à¸±à¸§à¹€à¸­à¸‡

### ğŸ‘¥ à¸à¸²à¸£à¸ˆà¸±à¸”à¸à¸²à¸£à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰
- **CRUD Operations** - à¹€à¸à¸´à¹ˆà¸¡ à¹à¸à¹‰à¹„à¸‚ à¸¥à¸š à¹à¸¥à¸°à¸”à¸¹à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰
- **User Roles** - Admin, Manager, User à¸à¸£à¹‰à¸­à¸¡à¸ªà¸´à¸—à¸˜à¸´à¹Œà¸—à¸µà¹ˆà¹à¸•à¸à¸•à¹ˆà¸²à¸‡à¸à¸±à¸™
- **Profile Management** - à¹à¸à¹‰à¹„à¸‚à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸ªà¹ˆà¸§à¸™à¸•à¸±à¸§
- **Login Tracking** - à¸•à¸´à¸”à¸•à¸²à¸¡à¸à¸²à¸£à¹€à¸‚à¹‰à¸²à¹ƒà¸Šà¹‰à¸‡à¸²à¸™à¸¥à¹ˆà¸²à¸ªà¸¸à¸”
- **User Statistics** - à¸ªà¸–à¸´à¸•à¸´à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™à¸‚à¸­à¸‡à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰

### ğŸ“¡ à¸£à¸°à¸šà¸š Real-time Communication
- **Server-Sent Events (SSE)** - à¸à¸²à¸£à¸ªà¸·à¹ˆà¸­à¸ªà¸²à¸£à¹à¸šà¸š Real-time à¸œà¹ˆà¸²à¸™ HTTP streaming
- **MQTT Integration** - à¸£à¸­à¸‡à¸£à¸±à¸šà¹‚à¸›à¸£à¹‚à¸•à¸„à¸­à¸¥ MQTT à¸ªà¸³à¸«à¸£à¸±à¸šà¸­à¸¸à¸›à¸à¸£à¸“à¹Œ IoT
- **Dual Topic Architecture** - à¹à¸¢à¸ `/datas` à¹à¸¥à¸° `/prop` topics à¸ªà¸³à¸«à¸£à¸±à¸šà¸›à¸£à¸°à¸ªà¸´à¸—à¸˜à¸´à¸ à¸²à¸
- **Multi-device Support** - à¸£à¸­à¸‡à¸£à¸±à¸šà¸à¸²à¸£à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­à¸«à¸¥à¸²à¸¢à¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¸à¸£à¹‰à¸­à¸¡à¸à¸±à¸™
- **Auto-reconnection** - à¸£à¸°à¸šà¸šà¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­à¹ƒà¸«à¸¡à¹ˆà¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´à¹€à¸¡à¸·à¹ˆà¸­à¸‚à¸²à¸”à¸à¸²à¸£à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­
- **Connection Fallback** - à¸£à¸°à¸šà¸š Fallback à¹€à¸¡à¸·à¹ˆà¸­à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­à¸œà¸´à¸”à¸à¸¥à¸²à¸”
- **Heartbeat Monitoring** - à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸ªà¸–à¸²à¸™à¸°à¸à¸²à¸£à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­à¹à¸šà¸š Real-time
- **Cross-origin Support** - à¸£à¸­à¸‡à¸£à¸±à¸šà¸à¸²à¸£à¹€à¸‚à¹‰à¸²à¸–à¸¶à¸‡à¸ˆà¸²à¸à¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¸•à¹ˆà¸²à¸‡à¹€à¸„à¸£à¸·à¸­à¸‚à¹ˆà¸²à¸¢
- **Rate Limiting** - à¸ˆà¸³à¸à¸±à¸”à¸à¸²à¸£à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­à¸•à¹ˆà¸­ IP à¹€à¸à¸·à¹ˆà¸­à¸›à¹‰à¸­à¸‡à¸à¸±à¸™ DoS
- **60-Second Timeout** - à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸ªà¸–à¸²à¸™à¸° Online/Offline à¸•à¸²à¸¡ timestamp

### ğŸ“Š Dashboard à¹à¸¥à¸°à¸à¸²à¸£à¹à¸ªà¸”à¸‡à¸œà¸¥
- **Real-time IoT Dashboard** - à¹à¸ªà¸”à¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¹à¸šà¸šà¹€à¸£à¸µà¸¢à¸¥à¹„à¸—à¸¡à¹Œà¸œà¹ˆà¸²à¸™ SSE
- **Faculty-based Filtering** - à¸à¸£à¸­à¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸•à¸²à¸¡à¸„à¸“à¸°/à¸«à¸™à¹ˆà¸§à¸¢à¸‡à¸²à¸™
- **Multi-section Dashboard** - à¹à¸šà¹ˆà¸‡à¸ªà¹ˆà¸§à¸™à¹à¸ªà¸”à¸‡à¸œà¸¥à¸•à¸²à¸¡ Role
- **Responsive Design** - à¸£à¸­à¸‡à¸£à¸±à¸šà¸—à¸¸à¸à¸‚à¸™à¸²à¸”à¸«à¸™à¹‰à¸²à¸ˆà¸­ (Mobile-First)
- **Interactive Navigation** - à¹€à¸¡à¸™à¸¹à¹à¸šà¸š Slide Navigation
- **Statistics Cards** - à¹à¸ªà¸”à¸‡à¸ªà¸–à¸´à¸•à¸´à¹à¸šà¸š Visual
- **Device Status Monitoring** - à¸•à¸´à¸”à¸•à¸²à¸¡à¸ªà¸–à¸²à¸™à¸°à¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¹à¸šà¸šà¹€à¸£à¸µà¸¢à¸¥à¹„à¸—à¸¡à¹Œà¸œà¹ˆà¸²à¸™ SSE

### ğŸ­ à¸à¸²à¸£à¸ˆà¸±à¸”à¸à¸²à¸£à¸­à¸¸à¸›à¸à¸£à¸“à¹Œ IoT
- **Device Registration** - à¸¥à¸‡à¸—à¸°à¹€à¸šà¸µà¸¢à¸™à¸­à¸¸à¸›à¸à¸£à¸“à¹Œ Smart Meter
- **ğŸ”” Device Discovery & Notifications** - à¸„à¹‰à¸™à¸à¸šà¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¹ƒà¸«à¸¡à¹ˆà¸œà¹ˆà¸²à¸™ MQTT à¹à¸¥à¸°à¹à¸ˆà¹‰à¸‡à¹€à¸•à¸·à¸­à¸™ admin à¹à¸šà¸š real-time
- **ğŸ›ï¸ Admin Device Approval** - à¸«à¸™à¹‰à¸²à¸ˆà¸±à¸”à¸à¸²à¸£à¸­à¸™à¸¸à¸¡à¸±à¸•à¸´à¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¹ƒà¸«à¸¡à¹ˆà¸ªà¸³à¸«à¸£à¸±à¸š admin à¹€à¸—à¹ˆà¸²à¸™à¸±à¹‰à¸™
- **âš¡ Auto Cleanup Service** - à¸¥à¸šà¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¸—à¸µà¹ˆà¹„à¸¡à¹ˆà¸¡à¸µà¸à¸²à¸£à¸­à¸±à¸à¹€à¸”à¸—à¸¡à¸²à¸™à¸²à¸™ 60 à¸§à¸´à¸™à¸²à¸—à¸µà¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´ (à¸—à¸³à¸‡à¸²à¸™à¸—à¸¸à¸ 30 à¸§à¸´à¸™à¸²à¸—à¸µ)
- **Faculty-based Organization** - à¸ˆà¸±à¸”à¸à¸¥à¸¸à¹ˆà¸¡à¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¸•à¸²à¸¡ 6 à¸„à¸“à¸° (Engineering, Institution, Liberal Arts, Business Administration, Architecture, Industrial Education)
- **Dual Topic Structure** - à¹à¸¢à¸à¸‚à¹‰à¸­à¸¡à¸¹à¸¥ Properties (`/prop`) à¹à¸¥à¸° Sensor Data (`/datas`)
- **Real-time Status Monitoring** - à¸•à¸´à¸”à¸•à¸²à¸¡à¸ªà¸–à¸²à¸™à¸° Online/Offline à¸•à¸²à¸¡ timestamp (60 à¸§à¸´à¸™à¸²à¸—à¸µ)
- **Energy Data Display** - à¹à¸ªà¸”à¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥ Voltage, Current, Power, Energy, Frequency, Power Factor
- **Temperature Monitoring** - à¸•à¸´à¸”à¸•à¸²à¸¡à¸­à¸¸à¸“à¸«à¸ à¸¹à¸¡à¸´à¸­à¸¸à¸›à¸à¸£à¸“à¹Œ (environmental data simplified)
- **Location Tracking** - à¸ˆà¸±à¸”à¹€à¸à¹‡à¸šà¸•à¸³à¹à¸«à¸™à¹ˆà¸‡à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡à¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¹ƒà¸™ Properties topic
- **Python Device Simulators** - à¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¸ˆà¸³à¸¥à¸­à¸‡à¸ªà¸³à¸«à¸£à¸±à¸šà¸—à¸”à¸ªà¸­à¸šà¸£à¸°à¸šà¸š (3 simulators + virtual device)
- **âš¡ Visual Enhancement** - à¹ƒà¸Šà¹‰à¹„à¸­à¸„à¸­à¸™à¸Ÿà¹‰à¸²à¸œà¹ˆà¸² (âš¡) à¸ªà¸³à¸«à¸£à¸±à¸š IoT Devices Management
- **ğŸ”„ Database-driven Workflow** - à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¹ƒà¸«à¸¡à¹ˆà¸šà¸±à¸™à¸—à¸¶à¸à¸¥à¸‡ `devices_pending` table à¸œà¹ˆà¸²à¸™ MQTT

### ğŸ”§ System Management
- **SSE Service Control** - à¸„à¸§à¸šà¸„à¸¸à¸¡à¹à¸¥à¸°à¹€à¸£à¸´à¹ˆà¸¡à¸•à¹‰à¸™ Server-Sent Events Service
- **MQTT Broker Integration** - à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­à¹à¸¥à¸°à¸ˆà¸±à¸”à¸à¸²à¸£ MQTT Broker (`iot666.ddns.net:1883`)
- **Service Health Check** - à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸ªà¸–à¸²à¸™à¸°à¸£à¸°à¸šà¸š Database, MQTT, SSE, API
- **Error Handling** - à¸ˆà¸±à¸”à¸à¸²à¸£à¸‚à¹‰à¸­à¸œà¸´à¸”à¸à¸¥à¸²à¸”à¸­à¸¢à¹ˆà¸²à¸‡à¹€à¸«à¸¡à¸²à¸°à¸ªà¸¡
- **Connection Statistics** - à¸ªà¸–à¸´à¸•à¸´à¸à¸²à¸£à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­ SSE à¹à¸¥à¸°à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™
- **Debug Tools** - à¹€à¸„à¸£à¸·à¹ˆà¸­à¸‡à¸¡à¸·à¸­ Debug à¸ªà¸³à¸«à¸£à¸±à¸šà¸à¸±à¸’à¸™à¸²
- **Topic Filtering** - à¸à¸£à¸­à¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥ MQTT à¸•à¸²à¸¡ Faculty à¹à¸¥à¸° Device type
- **Real-time Broadcasting** - à¹à¸ˆà¸à¸ˆà¹ˆà¸²à¸¢à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹à¸šà¸š Real-time à¸œà¹ˆà¸²à¸™ SSE

---

### ğŸ› ï¸ à¹€à¸—à¸„à¹‚à¸™à¹‚à¸¥à¸¢à¸µà¸—à¸µà¹ˆà¹ƒà¸Šà¹‰

#### ğŸ–¥ï¸ Frontend
```json
{
  "framework": "Next.js 15.5.0",
  "ui_library": "React 19.1.0", 
  "language": "TypeScript 5.8.3",
  "styling": "Tailwind CSS 4.1.11",
  "state_management": "Zustand 5.0.6",
  "features": ["App Router", "Turbopack", "Server Components", "SSR", "Static Generation"]
}
```

#### âš™ï¸ Backend
```json
{
  "runtime": "Node.js 18+",
  "api": "Next.js API Routes (39 endpoints)",
  "database": "PostgreSQL 16+",
  "orm": "Raw SQL with pg 8.16.3",
  "authentication": "JWT + bcrypt",
  "realtime": ["Server-Sent Events (SSE)", "MQTT 5.13.3"],
  "mqtt_broker": "iot666.ddns.net:1883"
}
```

#### ğŸ“¡ Real-time Technologies
```json
{
  "sse": "Server-Sent Events HTTP Streaming",
  "mqtt": "mqtt.js v5.13.3",
  "broker": "iot666.ddns.net:1883",
  "protocols": ["SSE", "MQTT", "HTTP"],
  "topics": 15,
  "faculty_support": 6,
  "features": ["Auto-reconnection", "Rate Limiting", "Multi-client Support", "Cross-origin", "60s Timeout"]
}
```

#### ğŸ› ï¸ Development Tools
```json
{
  "typescript": "5.8.3",
  "linting": "ESLint 9.32.0",
  "bundler": "Turbopack (Next.js 15)",
  "package_manager": "npm",
  "environment": "dotenv 17.2.1",
  "testing": "Manual + Postman Collection"
}
```

#### ğŸ”§ Infrastructure
```json
{
  "hosting": "Vercel Ready / Self-hosted",
  "database": "PostgreSQL Cloud / Local",
  "sse_endpoint": "/api/sse (HTTP Streaming)",
  "mqtt_broker": "iot666.ddns.net:1883 (15 topics)",
  "cdn": "Next.js Built-in",
  "build_size": "~105KB average per route"
}
```

---

## ğŸ—ï¸ à¸ªà¸–à¸²à¸›à¸±à¸•à¸¢à¸à¸£à¸£à¸¡à¸£à¸°à¸šà¸š

### ğŸ¢ MQTT Topic Architecture (Updated 2025)

```mermaid
graph LR
    %% Python Devices
    PY1[ğŸ digital_device_1.py<br/>Engineering Lab] 
    PY2[ğŸ digital_device_2.py<br/>Institution Library]
    PY3[ğŸ analog_device_1.py<br/>Architecture Studio]
    
    %% MQTT Topics
    PY1 -->|Publish| T1[ğŸ“¡ devices/engineering/lab_sensor_01/datas]
    PY1 -->|Publish| T2[ğŸ“¡ devices/engineering/lab_sensor_01/prop]
    PY2 -->|Publish| T3[ğŸ“¡ devices/institution/library_meter/datas]
    PY2 -->|Publish| T4[ğŸ“¡ devices/institution/library_meter/prop]
    PY3 -->|Publish| T5[ğŸ“¡ devices/architecture/studio_sensor/datas]
    PY3 -->|Publish| T6[ğŸ“¡ devices/architecture/studio_sensor/prop]
    
    %% Next.js Subscription
    T1 -->|Subscribe| MQTT[ğŸ”” Next.js MQTT Service]
    T2 -->|Subscribe| MQTT
    T3 -->|Subscribe| MQTT
    T4 -->|Subscribe| MQTT
    T5 -->|Subscribe| MQTT
    T6 -->|Subscribe| MQTT
    
    %% SSE Broadcasting
    MQTT -->|Broadcast| SSE[âš¡ SSE Service]
    SSE -->|Stream| DASH1[ğŸ“Š Real-time Dashboard]
    SSE -->|Stream| DASH2[ğŸ”§ System Check Dashboard]
    
    classDef python fill:#3776ab,stroke:#2d5aa0,stroke-width:2px,color:#fff
    classDef topic fill:#ff6b35,stroke:#e55a2b,stroke-width:2px,color:#fff
    classDef nextjs fill:#000000,stroke:#000000,stroke-width:2px,color:#fff
    classDef sse fill:#00d4aa,stroke:#00bfa0,stroke-width:2px,color:#fff
    classDef dashboard fill:#667eea,stroke:#5a6fd8,stroke-width:2px,color:#fff
    
    class PY1,PY2,PY3 python
    class T1,T2,T3,T4,T5,T6 topic
    class MQTT nextjs
    class SSE sse
    class DASH1,DASH2 dashboard
```

### ğŸ“Š Faculty Data Organization

| Faculty | Topic Pattern | Example Device | Status Logic |
|---------|--------------|----------------|--------------|
| ğŸ—ï¸ Engineering | `devices/engineering/{device}/datas` | lab_sensor_01 | Online if data < 60s |
| ğŸ›ï¸ Institution | `devices/institution/{device}/datas` | library_meter | Online if data < 60s |
| ğŸ¨ Liberal Arts | `devices/liberal_arts/{device}/datas` | classroom_a101 | Online if data < 60s |
| ğŸ’¼ Business Admin | `devices/business_administration/{device}/datas` | office_b205 | Online if data < 60s |
| ğŸ›ï¸ Architecture | `devices/architecture/{device}/datas` | studio_c301 | Online if data < 60s |
| âš™ï¸ Industrial Education | `devices/industrial_education/{device}/datas` | workshop_d101 | Online if data < 60s |

### ğŸ”„ Real-time System Architecture

```mermaid
graph TB
    %% IoT Device Layer
    IoT[ğŸ­ Python MQTT Devices<br/>Smart Meters & Sensors] --> MQTT[ğŸ“¡ MQTT Broker<br/>iot666.ddns.net:1883<br/>Dual Topics: /datas & /prop]
    
    %% Data Processing Layer  
    MQTT --> SSE_SERVICE[âš¡ SSE Service<br/>Server-Sent Events<br/>Real-time Stream<br/>60s Timeout Logic]
    SSE_SERVICE --> FRONTEND[ğŸŒ Next.js Frontend<br/>React 19 + TypeScript<br/>Port 3000]
    
    %% Client Layer
    FRONTEND --> BROWSER[ğŸ’» Desktop Browser<br/>Chrome, Firefox, Safari]
    FRONTEND --> TABLET[ğŸ“± Tablet Devices<br/>iPad, Android Tablets]
    FRONTEND --> MOBILE[ğŸ“± Mobile Devices<br/>iOS, Android]
    
    %% API Layer
    BROWSER --> API[ğŸ”— API Routes<br/>RESTful APIs<br/>/api/*]
    TABLET --> API
    MOBILE --> API
    
    %% Authentication & Security Layer
    API --> AUTH[ğŸ” Authentication Middleware<br/>JWT + Role-based Access<br/>bcrypt Password Hashing]
    
    %% Database Layer
    AUTH --> DB[(ğŸ—„ï¸ PostgreSQL Database<br/>Users, Devices, Energy Data<br/>Connection Pooling)]
    
    %% Application Modules
    API --> USERS[ğŸ‘¥ User Dashboard<br/>Role-based Interface<br/>Admin/Manager/User]
    API --> ADMIN[âš™ï¸ Admin Panel<br/>System Management<br/>User & Device Control] 
    API --> DEVICES[ğŸ­ Device Monitor<br/>Real-time Status<br/>Energy Analytics<br/>Faculty-based View]
    API --> ENERGY[âš¡ Energy Analytics<br/>Live Data Visualization<br/>Temperature Monitoring<br/>Online/Offline Detection]
    
    %% Real-time Data Flow
    SSE_SERVICE -.->|ğŸ“Š Live Updates| USERS
    SSE_SERVICE -.->|ğŸ”„ Status Stream| DEVICES
    SSE_SERVICE -.->|âš¡ Energy Data| ENERGY
    SSE_SERVICE -.->|ğŸ“ˆ Real-time Stats| ADMIN
    
    %% System Health Monitoring
    API --> HEALTH[ğŸ¥ System Health<br/>Connection Monitoring<br/>Performance Metrics<br/>MQTT Status Check]
    
    %% Rate Limiting & Security
    SSE_SERVICE --> RATE[ğŸ›¡ï¸ Rate Limiting<br/>Connection Limits<br/>Per IP Protection]
    
    %% Styling for better visualization
    classDef iotDevice fill:#e1f5fe,stroke:#01579b,stroke-width:3px,color:#000
    classDef network fill:#f3e5f5,stroke:#4a148c,stroke-width:3px,color:#000
    classDef frontend fill:#e8f5e8,stroke:#1b5e20,stroke-width:3px,color:#000
    classDef api fill:#fff3e0,stroke:#e65100,stroke-width:3px,color:#000
    classDef database fill:#ffebee,stroke:#b71c1c,stroke-width:3px,color:#000
    classDef realtime fill:#f1f8e9,stroke:#33691e,stroke-width:3px,color:#000
    classDef security fill:#fce4ec,stroke:#880e4f,stroke-width:3px,color:#000
    
    class IoT iotDevice
    class MQTT,SSE_SERVICE network
    class FRONTEND,BROWSER,TABLET,MOBILE frontend
    class API,USERS,ADMIN,DEVICES,ENERGY,HEALTH api
    class DB database
    class RATE,AUTH security
```

### ğŸ”„ Data Flow Architecture

```mermaid
sequenceDiagram
    participant IoT as ğŸ­ IoT Device
    participant MQTT as ğŸ“¡ MQTT Broker
    participant SSE as âš¡ SSE Service
    participant API as ğŸ”— API Routes
    participant DB as ğŸ—„ï¸ PostgreSQL
    participant Client as ğŸ’» Client Browser
    
    Note over IoT,Client: Real-time Energy Data Flow
    
    %% IoT Data Publishing
    IoT->>MQTT: ğŸ“Š Publish Energy Data<br/>(Voltage, Current, Power)
    Note right of MQTT: Topics:<br/>devices/engineering/*<br/>devices/institution/*<br/>devices/liberal_arts/*
    
    %% Real-time Processing
    MQTT->>SSE: ğŸ“¥ Subscribe to Topics<br/>Process & Format Data
    SSE->>SSE: ğŸ”„ Rate Limiting<br/>Connection Management
    SSE->>Client: ğŸ“¡ Server-Sent Events<br/>JSON Data Stream
    Client->>Client: ğŸ¨ Update UI Real-time<br/>Charts & Statistics
    
    Note over API,DB: Standard API Flow
    
    %% Authentication Flow
    Client->>API: ğŸ” Login Request<br/>Email + Password
    API->>DB: ğŸ” Verify Credentials<br/>bcrypt Hash Check
    DB->>API: âœ… User Data + Role
    API->>Client: ğŸ« JWT Token<br/>HttpOnly Cookie
    
    %% Data Retrieval
    Client->>API: ğŸ“Š Request Dashboard Data<br/>Bearer Token
    API->>AUTH: ğŸ›¡ï¸ Validate JWT<br/>Check Permissions
    AUTH->>DB: ğŸ“‹ Query User Data<br/>Role-based Access
    DB->>API: ğŸ“Š Return Filtered Data
    API->>Client: ğŸ“± JSON Response<br/>Dashboard Content
```

### ğŸŒ Real-time Communication Architecture

```mermaid
graph LR
    %% MQTT Topic Sources
    subgraph "ğŸ›ï¸ MQTT Topics by Faculty"
        ENG[ğŸ”§ Engineering<br/>devices/engineering/*]
        INST[ğŸ›ï¸ Institution<br/>devices/institution/*]
        LA[ğŸ“š Liberal Arts<br/>devices/liberal_arts/*]
        BA[ğŸ’¼ Business Admin<br/>devices/business/*]
        ARCH[ğŸ—ï¸ Architecture<br/>devices/architecture/*]
        IE[âš™ï¸ Industrial Ed<br/>devices/industrial/*]
    end
    
    %% Central MQTT Broker
    ENG --> BROKER[ğŸ“¡ MQTT Broker<br/>iot666.ddns.net:1883<br/>Message Queue]
    INST --> BROKER
    LA --> BROKER
    BA --> BROKER
    ARCH --> BROKER
    IE --> BROKER
    
    %% SSE Processing Layer
    BROKER --> SSE[âš¡ SSE Service<br/>Message Processing<br/>JSON Formatting<br/>Rate Limiting]
    
    %% Multiple SSE Connections
    SSE --> CONN1[ğŸ“¡ SSE Connection 1<br/>Admin Dashboard]
    SSE --> CONN2[ğŸ“¡ SSE Connection 2<br/>Manager Dashboard]
    SSE --> CONN3[ğŸ“¡ SSE Connection 3<br/>User Dashboard]
    SSE --> CONN4[ğŸ“¡ SSE Connection N<br/>Mobile/Tablet]
    
    %% Client Applications
    CONN1 --> DASH1[ğŸ‘¨â€ğŸ’¼ Admin Panel<br/>System Overview<br/>All Faculties]
    CONN2 --> DASH2[ğŸ‘©â€ğŸ’¼ Manager Dashboard<br/>Department Focus<br/>Device Control]
    CONN3 --> DASH3[ğŸ‘¤ User Dashboard<br/>Basic Monitoring<br/>Read-only View]
    CONN4 --> DASH4[ğŸ“± Mobile Interface<br/>Responsive Design<br/>Touch Optimized]
    
    %% Connection Management
    SSE --> RATE[ğŸ›¡ï¸ Rate Limiting<br/>Max Connections per IP<br/>Reconnection Logic]
    SSE --> HEALTH[ğŸ¥ Health Check<br/>Connection Status<br/>Heartbeat Monitor]
    
    %% Styling
    classDef mqtt fill:#e3f2fd,stroke:#0277bd,stroke-width:2px,color:#000
    classDef sse fill:#f1f8e9,stroke:#558b2f,stroke-width:2px,color:#000
    classDef client fill:#fce4ec,stroke:#ad1457,stroke-width:2px,color:#000
    classDef management fill:#fff3e0,stroke:#f57c00,stroke-width:2px,color:#000
    
    class ENG,INST,LA,BA,ARCH,IE,BROKER mqtt
    class SSE,CONN1,CONN2,CONN3,CONN4 sse
    class DASH1,DASH2,DASH3,DASH4 client
    class RATE,HEALTH management
```

### ğŸ¢ System Component Architecture

```mermaid
graph TD
    subgraph "ğŸ–¥ï¸ Frontend Layer"
        UI[ğŸ¨ React Components<br/>Tailwind CSS<br/>Responsive Design]
        STATE[ğŸ“Š State Management<br/>Zustand Store<br/>Authentication State]
        HOOKS[ğŸª Custom Hooks<br/>useSSE, useUsers<br/>useDevices, useAuth]
    end
    
    subgraph "ğŸ”— API Layer"
        AUTH_API[ğŸ” Authentication APIs<br/>Login, Logout, Register<br/>JWT Token Management]
        USER_API[ğŸ‘¥ User Management<br/>CRUD Operations<br/>Role-based Access]
        DEVICE_API[ğŸ­ Device Management<br/>IoT Device Control<br/>Status Monitoring]
        ADMIN_API[âš™ï¸ Admin APIs<br/>System Statistics<br/>Health Monitoring]
    end
    
    subgraph "ğŸ›¡ï¸ Security Layer"
        JWT[ğŸ« JWT Middleware<br/>Token Validation<br/>Role Verification]
        BCRYPT[ğŸ”’ Password Security<br/>bcrypt Hashing<br/>Salt Rounds: 12]
        CORS[ğŸŒ CORS Protection<br/>Cross-origin Policy<br/>Allowed Origins]
    end
    
    subgraph "ğŸ—„ï¸ Data Layer"
        PG[ğŸ˜ PostgreSQL<br/>Connection Pooling<br/>ACID Transactions]
        USERS_TBL[(ğŸ‘¥ Users Table<br/>Authentication Data<br/>Role Management)]
        DEVICES_TBL[(ğŸ­ Devices Table<br/>IoT Device Registry<br/>Status & Location)]
        ENERGY_TBL[(âš¡ Energy Data<br/>Real-time Readings<br/>Historical Records)]
    end
    
    subgraph "ğŸ“¡ Real-time Layer"
        SSE_SERVER[âš¡ SSE Server<br/>Event Streaming<br/>Connection Pool]
        MQTT_CLIENT[ğŸ“¡ MQTT Client<br/>Topic Subscription<br/>Message Processing]
        RATE_LIMITER[ğŸ›¡ï¸ Rate Limiter<br/>Connection Limits<br/>DDoS Protection]
    end
    
    %% Connections
    UI --> STATE
    STATE --> HOOKS
    HOOKS --> AUTH_API
    HOOKS --> USER_API
    HOOKS --> DEVICE_API
    
    AUTH_API --> JWT
    USER_API --> JWT
    DEVICE_API --> JWT
    ADMIN_API --> JWT
    
    JWT --> BCRYPT
    JWT --> CORS
    
    JWT --> PG
    PG --> USERS_TBL
    PG --> DEVICES_TBL
    PG --> ENERGY_TBL
    
    HOOKS --> SSE_SERVER
    SSE_SERVER --> MQTT_CLIENT
    SSE_SERVER --> RATE_LIMITER
    
    %% Styling
    classDef frontend fill:#e8f5e8,stroke:#1b5e20,stroke-width:2px
    classDef api fill:#fff3e0,stroke:#e65100,stroke-width:2px
    classDef security fill:#fce4ec,stroke:#880e4f,stroke-width:2px
    classDef database fill:#ffebee,stroke:#b71c1c,stroke-width:2px
    classDef realtime fill:#f1f8e9,stroke:#33691e,stroke-width:2px
    
    class UI,STATE,HOOKS frontend
    class AUTH_API,USER_API,DEVICE_API,ADMIN_API api
    class JWT,BCRYPT,CORS security
    class PG,USERS_TBL,DEVICES_TBL,ENERGY_TBL database
    class SSE_SERVER,MQTT_CLIENT,RATE_LIMITER realtime
```

### ğŸ“ Architecture Patterns
- **MVC Pattern** - Model-View-Controller à¸ªà¸³à¸«à¸£à¸±à¸š API
- **Component-based Architecture** - React Components à¹à¸šà¸š Modular
- **State Management** - Zustand à¸ªà¸³à¸«à¸£à¸±à¸š Global State
- **Database Layer** - Raw SQL Queries à¸à¸£à¹‰à¸­à¸¡ Connection Pooling
- **Authentication Flow** - JWT Token + Cookie Session
- **Real-time Architecture** - SSE + MQTT Integration
- **Event-driven Pattern** - Server-Sent Events à¸ªà¸³à¸«à¸£à¸±à¸š Real-time Communication

### ğŸ—„ï¸ Database Schema Updates

#### ğŸ“Š New Tables Added
```sql
-- Device Pending Table (IoT Device Discovery)
CREATE TABLE devices_pending (
  id SERIAL PRIMARY KEY,
  device_id VARCHAR(255) NOT NULL UNIQUE,
  device_name VARCHAR(255),
  device_type VARCHAR(100),
  ip_address INET,
  mac_address VARCHAR(17),
  firmware_version VARCHAR(50),
  connection_type VARCHAR(50),
  approval_status_id INTEGER DEFAULT 1,
  mqtt_data JSONB,
  discovered_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
  last_seen_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
  discovery_source VARCHAR(50) DEFAULT 'mqtt'
);

-- Auto cleanup trigger (removes devices inactive > 60 seconds)
-- Runs every 30 seconds via cleanup-service.ts
```

#### ğŸ”§ Database Workflow
```
MQTT Device Discovery â†’ devices_pending â†’ Admin Notification â†’ Device Approval
                           â†“
                    Auto Cleanup (60s timeout)
```

---

## ğŸ”§ à¸à¸²à¸£à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡

### ğŸ“‹ System Requirements
- **Node.js** 18.0+ ([Download](https://nodejs.org/))
- **PostgreSQL** 12.0+ ([Download](https://www.postgresql.org/download/))
- **Git** ([Download](https://git-scm.com/downloads))
- **MQTT Broker** (Optional - à¸ªà¸³à¸«à¸£à¸±à¸šà¸à¸²à¸£à¸—à¸”à¸ªà¸­à¸š IoT)

### ğŸš€ Quick Start

#### 1. Clone Repository
```bash
git clone https://github.com/yourusername/iot-electric-energy.git
cd iot-electric-energy
```

#### 2. Install Dependencies
```bash
# à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡ dependencies à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”
npm install

# à¸«à¸£à¸·à¸­à¹ƒà¸Šà¹‰ script à¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´
node install-all.js
```

#### 3. Environment Setup
à¸ªà¸£à¹‰à¸²à¸‡à¹„à¸Ÿà¸¥à¹Œ `.env` à¹ƒà¸™à¹‚à¸Ÿà¸¥à¹€à¸”à¸­à¸£à¹Œà¸«à¸¥à¸±à¸:
```env
# Database Configuration
DATABASE_URL="postgresql://username:password@hostname:5432/database_name"

# JWT Secrets (à¸•à¹‰à¸­à¸‡à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¹ƒà¸«à¹‰à¸›à¸¥à¸­à¸”à¸ à¸±à¸¢à¹ƒà¸™ production)
JWT_SECRET="your-super-secret-jwt-key-minimum-32-characters-change-this"
NEXTAUTH_SECRET="your-nextauth-secret-key-minimum-32-characters"
NEXTAUTH_URL="http://localhost:3000"

# App Configuration
NODE_ENV="development"
NEXT_PUBLIC_API_URL="http://localhost:3000"

# SSE & Real-time Configuration
NEXT_PUBLIC_SSE_URL="http://localhost:3000/api/sse"
SSE_MAX_CONNECTIONS_PER_IP="10"
SSE_HEARTBEAT_INTERVAL="30000"

# MQTT Configuration 
MQTT_BROKER_URL="mqtt://iot666.ddns.net:1883"
MQTT_USERNAME="your-mqtt-username"
MQTT_PASSWORD="your-mqtt-password"
```

#### 4. Database Setup
```bash
# à¸ªà¸£à¹‰à¸²à¸‡à¸à¸²à¸™à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹à¸¥à¸°à¸•à¸²à¸£à¸²à¸‡
npm run setup-db

# à¹€à¸à¸´à¹ˆà¸¡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡
npm run seed

# à¸«à¸£à¸·à¸­à¸£à¸µà¹€à¸‹à¹‡à¸•à¸à¸²à¸™à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”
npm run db:fresh
```

#### 5. Start Development Server
```bash
# Start Next.js à¹à¸¥à¸° SSE Service
npm run dev
```

ğŸ‰ **à¹€à¸›à¸´à¸”à¹€à¸šà¸£à¸²à¸§à¹Œà¹€à¸‹à¸­à¸£à¹Œ** à¹„à¸›à¸—à¸µà¹ˆ `http://localhost:3000`

### ğŸ”” Testing IoT Device Discovery (New 2025 Feature)

#### 1. Run Virtual Device Simulator
```bash
# à¹€à¸‚à¹‰à¸²à¹„à¸›à¹ƒà¸™à¹‚à¸Ÿà¸¥à¹€à¸”à¸­à¸£à¹Œ Virtual Device
cd virtual_device

# à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡ Python dependencies
pip install -r requirements.txt

# à¸£à¸±à¸™ Virtual Device Simulator (à¹à¸™à¸°à¸™à¸³)
python virtual_device_with_config_file.py

# à¸«à¸£à¸·à¸­à¸£à¸±à¸™ Virtual Device à¹à¸šà¸šà¸à¸·à¹‰à¸™à¸à¸²à¸™
python virtual_device.py
```

#### 2. Monitor Admin Notifications
- Login à¹€à¸›à¹‡à¸™ admin (`admin@iot-energy.com` / `Admin123!`)
- à¸”à¸¹à¸à¸£à¸°à¸”à¸´à¹ˆà¸‡à¹à¸ˆà¹‰à¸‡à¹€à¸•à¸·à¸­à¸™à¸”à¹‰à¸²à¸™à¸šà¸™à¸‚à¸§à¸² (à¸ˆà¸°à¹à¸ªà¸”à¸‡à¸ˆà¸³à¸™à¸§à¸™à¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¹ƒà¸«à¸¡à¹ˆ)
- à¸„à¸¥à¸´à¸à¸à¸£à¸°à¸”à¸´à¹ˆà¸‡à¸ˆà¸°à¸™à¸³à¹„à¸›à¸«à¸™à¹‰à¸² Device Approval à¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´
- à¸­à¸™à¸¸à¸¡à¸±à¸•à¸´à¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¹à¸¥à¸°à¸”à¸¹à¸à¸²à¸£à¸—à¸³à¸‡à¸²à¸™à¹à¸šà¸š real-time

#### 3. Verify MQTT Integration
- à¹„à¸›à¸—à¸µà¹ˆ `/realtime` à¹€à¸à¸·à¹ˆà¸­à¸”à¸¹à¸‚à¹‰à¸­à¸¡à¸¹à¸¥ real-time à¸ˆà¸²à¸à¸­à¸¸à¸›à¸à¸£à¸“à¹Œ
- à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š `/dashboard` à¸ªà¸³à¸«à¸£à¸±à¸š System Check à¹à¸¥à¸° MQTT status
- à¸”à¸¹ 15 MQTT topics à¸—à¸µà¹ˆ active à¹à¸¥à¸°à¸£à¸±à¸šà¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸ˆà¸²à¸à¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¸ˆà¸£à¸´à¸‡

### ğŸ”§ Network Configuration

#### à¸ªà¸³à¸«à¸£à¸±à¸šà¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™à¸‚à¹‰à¸²à¸¡à¸­à¸¸à¸›à¸à¸£à¸“à¹Œ:
```bash
# à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š IP Address à¸‚à¸­à¸‡à¹€à¸„à¸£à¸·à¹ˆà¸­à¸‡
ipconfig  # Windows
ifconfig  # macOS/Linux

# à¸­à¸±à¸›à¹€à¸”à¸• SSE URL à¹ƒà¸™ .env
NEXT_PUBLIC_SSE_URL="http://YOUR_IP_ADDRESS:3000/api/sse"

# à¸­à¸±à¸›à¹€à¸”à¸• next.config.ts à¸ªà¸³à¸«à¸£à¸±à¸š Cross-origin
# à¸”à¸¹à¹ƒà¸™ next.config.ts -> allowedDevOrigins
```

---

## ğŸ“– à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™

### ğŸ‘¤ Default Users

| Role | Email | Password | à¸ªà¸´à¸—à¸˜à¸´à¹Œà¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™ |
|------|-------|----------|----------------|
| **Admin** | admin@iot-energy.com | Admin123! | à¸ˆà¸±à¸”à¸à¸²à¸£à¸£à¸°à¸šà¸šà¸—à¸±à¹‰à¸‡à¸«à¸¡à¸” |
| **Manager** | manager@iot-energy.com | Manager123! | à¸ˆà¸±à¸”à¸à¸²à¸£à¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¹à¸¥à¸°à¸”à¸¹ Dashboard |
| **User** | user@iot-energy.com | User123! | à¸”à¸¹ Dashboard à¹€à¸šà¸·à¹‰à¸­à¸‡à¸•à¹‰à¸™ |

### ğŸ–±ï¸ à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™à¸à¸·à¹‰à¸™à¸à¸²à¸™

#### 1. à¹€à¸‚à¹‰à¸²à¸ªà¸¹à¹ˆà¸£à¸°à¸šà¸š
- à¹€à¸›à¸´à¸” `http://localhost:3000`
- à¸à¸£à¸­à¸ Email à¹à¸¥à¸° Password
- à¸£à¸°à¸šà¸šà¸ˆà¸° redirect à¹„à¸› Dashboard à¸•à¸²à¸¡ Role

#### 2. Dashboard
- **Admin**: à¹€à¸‚à¹‰à¸²à¸–à¸¶à¸‡à¹„à¸”à¹‰à¸—à¸¸à¸à¸ªà¹ˆà¸§à¸™ (Users, Devices, Settings)
- **Manager**: à¸ˆà¸±à¸”à¸à¸²à¸£ Devices à¹à¸¥à¸° Energy Monitoring
- **User**: à¸”à¸¹ Dashboard à¹à¸¥à¸° Energy Statistics

#### 3. Real-time Dashboard
- à¹€à¸‚à¹‰à¸²à¹ƒà¸Šà¹‰à¸‡à¸²à¸™à¸—à¸µà¹ˆ `/realtime`
- à¸”à¸¹à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸­à¸¸à¸›à¸à¸£à¸“à¹Œ IoT à¹à¸šà¸šà¹€à¸£à¸µà¸¢à¸¥à¹„à¸—à¸¡à¹Œà¸œà¹ˆà¸²à¸™ SSE (Server-Sent Events)
- à¸à¸£à¸­à¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸•à¸²à¸¡à¸„à¸“à¸°/à¸«à¸™à¹ˆà¸§à¸¢à¸‡à¸²à¸™
- à¸ªà¸–à¸²à¸™à¸°à¸à¸²à¸£à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­ SSE à¹à¸šà¸š Real-time
- à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸à¸¥à¸±à¸‡à¸‡à¸²à¸™ (Voltage, Current, Power, Energy)
- à¸‚à¹‰à¸­à¸¡à¸¹à¸¥ MQTT Topics à¸ˆà¸²à¸à¸­à¸¸à¸›à¸à¸£à¸“à¹Œ IoT à¸•à¹ˆà¸²à¸‡à¹†

#### 4. User Management (Admin à¹€à¸—à¹ˆà¸²à¸™à¸±à¹‰à¸™)
- à¹€à¸à¸´à¹ˆà¸¡à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¹ƒà¸«à¸¡à¹ˆà¸œà¹ˆà¸²à¸™ Modal
- à¹à¸à¹‰à¹„à¸‚à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰
- à¸¥à¸šà¸œà¸¹à¹‰à¹ƒà¸Šà¹‰ (à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¸¥à¸šà¸•à¸±à¸§à¹€à¸­à¸‡à¹„à¸”à¹‰)
- à¸”à¸¹à¸ªà¸–à¸´à¸•à¸´à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™

#### 5. SSE & System Monitoring
- à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸ªà¸–à¸²à¸™à¸° Database, MQTT, SSE, API
- à¸”à¸¹à¸ˆà¸³à¸™à¸§à¸™ SSE connections à¸—à¸µà¹ˆ active
- à¸•à¸´à¸”à¸•à¸²à¸¡ MQTT message throughput
- à¸ˆà¸±à¸”à¸à¸²à¸£à¸à¸²à¸£à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­à¹ƒà¸«à¸¡à¹ˆà¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´
- à¸—à¸”à¸ªà¸­à¸š API endpoints à¹à¸šà¸š Interactive

---

## ğŸ” à¸£à¸°à¸šà¸š Authentication

### ğŸ”„ Authentication Flow
```
User Login â†’ Credential Validation â†’ JWT Generation â†’ Cookie Storage â†’ Dashboard Access
```

### ğŸ›¡ï¸ Security Features
- **JWT Tokens** - à¸£à¸°à¸šà¸š Token à¸—à¸µà¹ˆà¸›à¸¥à¸­à¸”à¸ à¸±à¸¢à¹à¸¥à¸° Stateless
- **Password Hashing** - bcrypt à¸à¸±à¸š Salt Rounds 12
- **HttpOnly Cookies** - à¸›à¹‰à¸­à¸‡à¸à¸±à¸™ XSS Attacks
- **Route Protection** - Middleware à¸›à¹‰à¸­à¸‡à¸à¸±à¸™à¸à¸²à¸£à¹€à¸‚à¹‰à¸²à¸–à¸¶à¸‡à¹à¸šà¸šà¹„à¸¡à¹ˆà¹„à¸”à¹‰à¸£à¸±à¸šà¸­à¸™à¸¸à¸à¸²à¸•
- **Role-based Authorization** - à¸ªà¸´à¸—à¸˜à¸´à¹Œà¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™à¸•à¸²à¸¡ Role
- **Self-deletion Prevention** - à¸›à¹‰à¸­à¸‡à¸à¸±à¸™à¸à¸²à¸£à¸¥à¸šà¸šà¸±à¸à¸Šà¸µà¸•à¸±à¸§à¹€à¸­à¸‡

### ğŸ§ª Testing Authentication
```bash
# à¸—à¸”à¸ªà¸­à¸šà¸à¸²à¸£à¹€à¸‚à¹‰à¸²à¸ªà¸¹à¹ˆà¸£à¸°à¸šà¸š
curl -X POST http://localhost:3000/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"email":"admin@iot-energy.com","password":"Admin123!"}'

# à¸—à¸”à¸ªà¸­à¸š Protected Route
curl -X GET http://localhost:3000/api/auth/me \
  -H "Authorization: Bearer YOUR_JWT_TOKEN"
```

---

## ğŸ“¡ à¸£à¸°à¸šà¸š Real-time

### âš¡ SSE (Server-Sent Events) Configuration
```javascript
// SSE Service Configuration
{
  "endpoint": "/api/sse",
  "protocol": "HTTP Streaming",
  "format": "text/event-stream",
  "maxConnections": 10,
  "heartbeatInterval": "30s",
  "reconnection": "auto",
  "crossOrigin": true
}
```

### ğŸ”„ SSE Connection Flow
```
Client â†’ HTTP GET /api/sse â†’ EventSource Connection â†’ MQTT Integration â†’ Real-time Data Stream
```

### ğŸ“Š Real-time Features
- **Live MQTT Data** - à¸‚à¹‰à¸­à¸¡à¸¹à¸¥ IoT à¸ˆà¸²à¸ MQTT Broker à¹à¸šà¸šà¹€à¸£à¸µà¸¢à¸¥à¹„à¸—à¸¡à¹Œ
- **Device Status** - à¸ªà¸–à¸²à¸™à¸°à¸­à¸¸à¸›à¸à¸£à¸“à¹Œ Online/Offline à¸œà¹ˆà¸²à¸™ SSE
- **Connection Monitoring** - à¸•à¸´à¸”à¸•à¸²à¸¡à¸ˆà¸³à¸™à¸§à¸™ SSE connections
- **Auto-reconnection** - à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­à¹ƒà¸«à¸¡à¹ˆà¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´à¹€à¸¡à¸·à¹ˆà¸­à¸‚à¸²à¸”à¸à¸²à¸£à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­
- **Multi-device Support** - à¸£à¸­à¸‡à¸£à¸±à¸šà¸«à¸¥à¸²à¸¢à¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¸à¸£à¹‰à¸­à¸¡à¸à¸±à¸™
- **Cross-platform** - à¸—à¸³à¸‡à¸²à¸™à¹„à¸”à¹‰à¸šà¸™ PC, Tablet, Mobile
- **Rate Limiting** - à¸ˆà¸³à¸à¸±à¸”à¸à¸²à¸£à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­à¸•à¹ˆà¸­ IP

### ğŸ”§ SSE API Usage
```javascript
// à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­ SSE
const eventSource = new EventSource('/api/sse');

// à¸£à¸±à¸šà¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹à¸šà¸š Real-time
eventSource.onmessage = (event) => {
  const data = JSON.parse(event.data);
  if (data.type === 'data' && data.data.topic) {
    // à¸ˆà¸±à¸”à¸à¸²à¸£à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸ˆà¸²à¸ MQTT
    console.log('MQTT Topic:', data.data.topic);
    console.log('Data:', data.data.data);
  }
};

// à¸ˆà¸±à¸”à¸à¸²à¸£ errors
eventSource.onerror = (error) => {
  console.error('SSE Error:', error);
  // à¸£à¸°à¸šà¸šà¸ˆà¸° reconnect à¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´
};
```

### ğŸ“± MQTT Integration
```javascript
// MQTT Topics à¸—à¸µà¹ˆà¸£à¸­à¸‡à¸£à¸±à¸š
const supportedTopics = [
  'devices/institution/+',
  'devices/engineering/+',
  'devices/liberal_arts/+',
  'devices/business_administration/+',
  'devices/architecture/+',
  'devices/industrial_education/+'
];

// MQTT Broker Configuration
const mqttConfig = {
  broker: 'iot666.ddns.net',
  port: 1883,
  protocol: 'mqtt',
  keepalive: 60,
  clean: true
};
```

---

## ğŸ“± API Documentation

### ğŸ” Authentication APIs

| Method | Endpoint | Description | Auth Required |
|--------|----------|-------------|---------------|
| POST | `/api/auth/login` | à¹€à¸‚à¹‰à¸²à¸ªà¸¹à¹ˆà¸£à¸°à¸šà¸š | âŒ |
| POST | `/api/auth/logout` | à¸­à¸­à¸à¸ˆà¸²à¸à¸£à¸°à¸šà¸š | âœ… |
| GET | `/api/auth/me` | à¸”à¸¹à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¸›à¸±à¸ˆà¸ˆà¸¸à¸šà¸±à¸™ | âœ… |
| POST | `/api/auth/register` | à¸¥à¸‡à¸—à¸°à¹€à¸šà¸µà¸¢à¸™ (Admin à¹€à¸—à¹ˆà¸²à¸™à¸±à¹‰à¸™) | âœ… Admin |

### ğŸ‘¥ User Management APIs

| Method | Endpoint | Description | Auth Required |
|--------|----------|-------------|---------------|
| GET | `/api/users` | à¸”à¸¹à¸£à¸²à¸¢à¸à¸²à¸£à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸” | âœ… Admin |
| POST | `/api/users` | à¹€à¸à¸´à¹ˆà¸¡à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¹ƒà¸«à¸¡à¹ˆ | âœ… Admin |
| GET | `/api/users/[id]` | à¸”à¸¹à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¸•à¸²à¸¡ ID | âœ… Admin |
| PUT | `/api/users/[id]` | à¹à¸à¹‰à¹„à¸‚à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰ | âœ… Admin |
| DELETE | `/api/users/[id]` | à¸¥à¸šà¸œà¸¹à¹‰à¹ƒà¸Šà¹‰ | âœ… Admin |

### ğŸ­ Device Management APIs

| Method | Endpoint | Description | Auth Required |
|--------|----------|-------------|---------------|
| GET | `/api/devices` | à¸”à¸¹à¸£à¸²à¸¢à¸à¸²à¸£à¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¸—à¸±à¹‰à¸‡à¸«à¸¡à¸” | âœ… |
| POST | `/api/devices` | à¹€à¸à¸´à¹ˆà¸¡à¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¹ƒà¸«à¸¡à¹ˆ | âœ… Admin/Manager |
| GET | `/api/devices/[id]` | à¸”à¸¹à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¸•à¸²à¸¡ ID | âœ… |
| PUT | `/api/devices/[id]` | à¹à¸à¹‰à¹„à¸‚à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸­à¸¸à¸›à¸à¸£à¸“à¹Œ | âœ… Admin/Manager |
| DELETE | `/api/devices/[id]` | à¸¥à¸šà¸­à¸¸à¸›à¸à¸£à¸“à¹Œ | âœ… Admin |

### ğŸ“¡ Real-time APIs

| Method | Endpoint | Description | Auth Required |
|--------|----------|-------------|---------------|
| GET | `/api/start-services` | à¹€à¸£à¸´à¹ˆà¸¡à¸•à¹‰à¸™ SSE à¹à¸¥à¸° MQTT Services | âœ… |
| GET | `/api/sse-status` | à¸ªà¸–à¸²à¸™à¸° SSE Service | âœ… |
| GET | `/api/mqtt-status` | à¸ªà¸–à¸²à¸™à¸° MQTT Broker | âœ… |
| POST | `/api/test-broadcast` | à¸—à¸”à¸ªà¸­à¸šà¸ªà¹ˆà¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥ Real-time | âœ… Admin |

### ğŸ“Š Admin APIs

| Method | Endpoint | Description | Auth Required |
|--------|----------|-------------|---------------|
| GET | `/api/admin/dashboard` | à¸ªà¸–à¸´à¸•à¸´ Dashboard à¸ªà¸³à¸«à¸£à¸±à¸š Admin | âœ… Admin |
| GET | `/api/admin/login-stats` | à¸ªà¸–à¸´à¸•à¸´à¸à¸²à¸£ Login | âœ… Admin |
| GET | `/api/profile` | à¸”à¸¹à¸‚à¹‰à¸­à¸¡à¸¹à¸¥ Profile | âœ… |
| PUT | `/api/profile` | à¹à¸à¹‰à¹„à¸‚ Profile | âœ… |

### ğŸ“š API Documentation

#### ğŸ”— Swagger UI
- **URL**: `/swagger`
- **Interactive API Testing**: âœ…
- **Authentication**: Bearer Token Support
- **Try It Out**: Test APIs directly from browser

```bash
# à¹€à¸‚à¹‰à¸²à¸–à¸¶à¸‡ Swagger UI
http://localhost:3000/swagger

# Swagger JSON Spec
http://localhost:3000/api/swagger
```

#### ğŸ“‹ Features
- **OpenAPI 3.0 Specification**
- **Interactive API Testing**
- **Authentication Integration** (JWT Bearer Token)
- **Request/Response Examples**
- **Schema Validation**
- **Try It Out functionality**

### ğŸ”‘ API Authentication
à¸—à¸¸à¸ Protected API à¸•à¹‰à¸­à¸‡à¸ªà¹ˆà¸‡ Authorization Header:
```bash
Authorization: Bearer <your_jwt_token>
```

à¸«à¸£à¸·à¸­à¹ƒà¸Šà¹‰ Cookie (à¹à¸™à¸°à¸™à¸³):
```bash
Cookie: auth-token=<your_jwt_token>
```

---

## ğŸ—‚ï¸ à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡à¹‚à¸›à¸£à¹€à¸ˆà¸„

```
iot-electric-energy/
â”œâ”€â”€ ğŸ“ src/
â”‚   â”œâ”€â”€ ğŸ“ app/                     # Next.js 15 App Router
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ page.tsx             # à¸«à¸™à¹‰à¸²à¹à¸£à¸ (redirect)
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ layout.tsx           # Layout à¸«à¸¥à¸±à¸
â”‚   â”‚   â”œâ”€â”€ ğŸ“ login/               # Login page
â”‚   â”‚   â”œâ”€â”€ ğŸ“ dashboard/           # Dashboard pages
â”‚   â”‚   â”œâ”€â”€ ğŸ“ realtime/            # Real-time IoT Dashboard
â”‚   â”‚   â”œâ”€â”€ ğŸ“ websocket-debug/     # WebSocket Debug Tools
â”‚   â”‚   â”œâ”€â”€ ğŸ“ websocket-test/      # WebSocket Testing
â”‚   â”‚   â””â”€â”€ ğŸ“ api/                 # API Routes
â”‚   â”‚       â”œâ”€â”€ ğŸ“ auth/            # Authentication APIs
â”‚   â”‚       â”œâ”€â”€ ğŸ“ users/           # User management APIs
â”‚   â”‚       â”œâ”€â”€ ğŸ“ devices/         # Device management APIs
â”‚   â”‚       â”œâ”€â”€ ğŸ“ admin/           # Admin-only APIs
â”‚   â”‚       â”œâ”€â”€ ğŸ“„ start-services/  # WebSocket Server Control
â”‚   â”‚       â”œâ”€â”€ ğŸ“„ mqtt-status/     # MQTT Status API
â”‚   â”‚       â””â”€â”€ ğŸ“„ test-broadcast/  # Real-time Testing
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ components/              # React Components
â”‚   â”‚   â”œâ”€â”€ ğŸ“ ui/                  # Reusable UI components
â”‚   â”‚   â”œâ”€â”€ ğŸ“ layout/              # Layout components
â”‚   â”‚   â”œâ”€â”€ ğŸ“ forms/               # Form components
â”‚   â”‚   â””â”€â”€ ğŸ“ dashboard/           # Dashboard specific
â”‚   â”‚       â”œâ”€â”€ ğŸ“„ RealtimeDashboard.tsx  # Main Real-time Dashboard
â”‚   â”‚       â””â”€â”€ ğŸ“„ SystemCheckDashboard.tsx  # System Health Check
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ lib/                     # Core libraries
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ database.ts          # PostgreSQL connection
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ auth.ts              # Authentication utilities
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ jwt.ts               # JWT utilities
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ ws-server.ts         # WebSocket Server
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ mqtt-service.ts      # MQTT Service Integration
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ userAPI.ts           # User API client
â”‚   â”‚   â””â”€â”€ ğŸ“„ deviceAPI.ts         # Device API client
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ store/                   # State management
â”‚   â”‚   â””â”€â”€ ğŸ“„ authStore.ts         # Zustand auth store
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ hooks/                   # Custom React hooks
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ useUsers.ts          # User management hook
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ useDevices.ts        # Device management hook
â”‚   â”‚   â””â”€â”€ ğŸ“„ useTheme.ts          # Theme management hook
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ types/                   # TypeScript definitions
â”‚   â”œâ”€â”€ ğŸ“ utils/                   # Utility functions
â”‚   â””â”€â”€ ğŸ“ models/                  # Data models
â”‚
â”œâ”€â”€ ğŸ“ public/                      # Static assets
â”œâ”€â”€ ğŸ“ docs/                        # Documentation
â”‚   â”œâ”€â”€ ğŸ“„ JWT-BEARER-GUIDE.md      # JWT Authentication Guide
â”‚   â”œâ”€â”€ ğŸ“„ MQTT_TESTING_GUIDE.md    # MQTT Testing Guide
â”‚   â”œâ”€â”€ ğŸ“„ DATABASE-COMMANDS.md     # Database Commands
â”‚   â””â”€â”€ ğŸ“„ POSTMAN-API-TESTING.md   # API Testing Guide
â”œâ”€â”€ ğŸ“ scripts/                     # Database scripts
â”œâ”€â”€ ğŸ“ migrations/                  # Database migrations
â”œâ”€â”€ ğŸ“„ package.json                 # Dependencies
â”œâ”€â”€ ğŸ“„ tsconfig.json                # TypeScript config
â”œâ”€â”€ ğŸ“„ tailwind.config.ts           # Tailwind config
â”œâ”€â”€ ğŸ“„ next.config.ts               # Next.js config + WebSocket CORS
â”œâ”€â”€ ğŸ“„ middleware.ts                # Next.js middleware
â””â”€â”€ ğŸ“„ README.md                    # Documentation
```

---

## ğŸ§ª à¸à¸²à¸£à¸—à¸”à¸ªà¸­à¸š

### ğŸ”§ Available Scripts

| Script | Command | Description |
|--------|---------|-------------|
| **Development** | `npm run dev` | à¹€à¸£à¸´à¹ˆà¸¡ development server + SSE |
| **Build** | `npm run build` | Build production |
| **Start** | `npm run start` | à¹€à¸£à¸´à¹ˆà¸¡ production server |
| **Lint** | `npm run lint` | à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š code style |
| **Database** | `npm run db:check` | à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š database connection |
| **Reset DB** | `npm run db:fresh` | à¸£à¸µà¹€à¸‹à¹‡à¸• database à¹ƒà¸«à¸¡à¹ˆ |
| **List Users** | `npm run db:list-users` | à¹à¸ªà¸”à¸‡à¸£à¸²à¸¢à¸à¸²à¸£à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰ |

### ğŸ Python MQTT Device Testing

#### à¸ªà¸³à¸«à¸£à¸±à¸šà¸—à¸”à¸ªà¸­à¸šà¸£à¸°à¸šà¸š MQTT Real-time
```bash
# 1. à¹€à¸£à¸´à¹ˆà¸¡ Python MQTT devices
cd mqtt_test_devices

# Engineering Lab Device
python digital_device_1.py

# Institution Library Device  
python digital_device_2.py

# Architecture Studio Device
python analog_device_1.py
```

#### Topic à¸—à¸µà¹ˆà¸–à¸¹à¸à¸ªà¹ˆà¸‡à¹‚à¸”à¸¢à¸­à¸¸à¸›à¸à¸£à¸“à¹Œ:
```bash
# Engineering
devices/engineering/lab_sensor_01/datas
devices/engineering/lab_sensor_01/prop

# Institution
devices/institution/library_meter/datas
devices/institution/library_meter/prop

# Architecture
devices/architecture/studio_sensor/datas
devices/architecture/studio_sensor/prop
```

### âœ… Manual Testing Checklist

#### Authentication Testing
- [ ] Login à¸”à¹‰à¸§à¸¢ admin credentials
- [ ] Login à¸”à¹‰à¸§à¸¢ user credentials
- [ ] Login à¸”à¹‰à¸§à¸¢ credentials à¸œà¸´à¸” (à¸•à¹‰à¸­à¸‡ error)
- [ ] Logout à¹à¸¥à¸°à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š redirect
- [ ] Refresh à¸«à¸™à¹‰à¸²à¸«à¸¥à¸±à¸‡ login (à¸•à¹‰à¸­à¸‡à¸¢à¸±à¸‡à¸„à¸‡ login à¸­à¸¢à¸¹à¹ˆ)
- [ ] à¹€à¸‚à¹‰à¸² `/dashboard` à¹‚à¸”à¸¢à¹„à¸¡à¹ˆ login (à¸•à¹‰à¸­à¸‡ redirect à¹„à¸› login)

#### Real-time MQTT & SSE Testing
- [ ] à¹€à¸£à¸´à¹ˆà¸¡ Python MQTT devices
- [ ] à¹€à¸‚à¹‰à¸² `/realtime` à¹à¸¥à¸°à¸”à¸¹ SSE status (à¸•à¹‰à¸­à¸‡à¹à¸ªà¸”à¸‡ "Connected")
- [ ] à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸ˆà¸²à¸ Python devices à¹à¸ªà¸”à¸‡à¹ƒà¸™ dashboard
- [ ] à¸—à¸”à¸ªà¸­à¸š Online/Offline status (à¸«à¸¢à¸¸à¸” Python device à¹à¸¥à¹‰à¸§à¸£à¸­ 60 à¸§à¸´à¸™à¸²à¸—à¸µ)
- [ ] à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š auto-reconnection à¹€à¸¡à¸·à¹ˆà¸­à¸‚à¸²à¸”à¸à¸²à¸£à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­ SSE
- [ ] à¸”à¸¹à¸‚à¹‰à¸­à¸¡à¸¹à¸¥ Real-time à¸•à¸²à¸¡ faculty (Engineering, Institution, Architecture)
- [ ] à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š `/dashboard` à¸ªà¸³à¸«à¸£à¸±à¸š System Check
- [ ] à¸”à¸¹ MQTT message details à¹à¸¥à¸° topic filtering

#### MQTT Topic Structure Testing
- [ ] à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š `/datas` topics à¹à¸ªà¸”à¸‡à¹ƒà¸™à¸«à¸™à¹‰à¸² Real-time
- [ ] à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š `/prop` topics à¹à¸ªà¸”à¸‡à¹ƒà¸™à¸«à¸™à¹‰à¸² System Check
- [ ] à¸à¸£à¸­à¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸•à¸²à¸¡à¸„à¸“à¸° (Engineering, Institution, Architecture)
- [ ] à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š timestamp à¹à¸¥à¸° status logic (online < 60s, offline > 60s)

#### User Management Testing
- [ ] à¹à¸ªà¸”à¸‡à¸£à¸²à¸¢à¸à¸²à¸£à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸” (Admin)
- [ ] à¹€à¸à¸´à¹ˆà¸¡à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¹ƒà¸«à¸¡à¹ˆà¸œà¹ˆà¸²à¸™ modal
- [ ] à¹à¸à¹‰à¹„à¸‚à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰
- [ ] à¸¥à¸šà¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¸„à¸™à¸­à¸·à¹ˆà¸™
- [ ] à¸à¸¢à¸²à¸¢à¸²à¸¡à¸¥à¸šà¸•à¸±à¸§à¹€à¸­à¸‡ (à¸•à¹‰à¸­à¸‡à¸–à¸¹à¸à¸›à¹‰à¸­à¸‡à¸à¸±à¸™)

#### Cross-device Testing
- [ ] à¹€à¸›à¸´à¸”à¸«à¸™à¹‰à¸²à¹€à¸§à¹‡à¸šà¸ˆà¸²à¸ PC à¹à¸¥à¸° Tablet à¸à¸£à¹‰à¸­à¸¡à¸à¸±à¸™
- [ ] à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š WebSocket connections à¸ˆà¸²à¸à¸«à¸¥à¸²à¸¢à¸­à¸¸à¸›à¸à¸£à¸“à¹Œ
- [ ] à¸—à¸”à¸ªà¸­à¸š Real-time data sharing à¸£à¸°à¸«à¸§à¹ˆà¸²à¸‡à¸­à¸¸à¸›à¸à¸£à¸“à¹Œ
- [ ] à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š responsive design à¸šà¸™à¸«à¸™à¹‰à¸²à¸ˆà¸­à¸•à¹ˆà¸²à¸‡à¸‚à¸™à¸²à¸”

### ğŸ› Debug Mode
```bash
# à¹€à¸›à¸´à¸” debug logs
DEBUG=* npm run dev

# à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¹ƒà¸™ Browser DevTools:
# - Console: Error messages à¹à¸¥à¸° WebSocket logs
# - Network: API requests à¹à¸¥à¸° WebSocket connections
# - Application: Cookies & LocalStorage
```

### ğŸŒ Network Testing
```bash
# à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š WebSocket Server
curl -I http://localhost:8080

# à¸—à¸”à¸ªà¸­à¸š API endpoints
curl http://localhost:3000/api/auth/me

# à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š CORS settings
curl -H "Origin: http://192.168.1.55:3000" http://localhost:3000/api/test
```

---

## ï¿½ à¸à¸²à¸£à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸›à¸£à¸°à¸ªà¸´à¸—à¸˜à¸´à¸ à¸²à¸ (Performance Monitoring)

### ğŸ–¥ï¸ à¸à¸²à¸£à¸§à¸±à¸”à¸—à¸£à¸±à¸à¸¢à¸²à¸à¸£à¸à¸±à¹ˆà¸‡ Client

#### ğŸŒ Browser DevTools Performance Analysis

```javascript
// à¹€à¸›à¸´à¸” Browser DevTools (F12) à¹à¸¥à¸°à¹ƒà¸Šà¹‰ Performance Tab
// 1. à¸à¸” Record button
// 2. à¸—à¸³à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™à¹à¸­à¸›à¸à¸¥à¸´à¹€à¸„à¸Šà¸±à¸™
// 3. à¸«à¸¢à¸¸à¸” Recording à¹à¸¥à¸°à¸§à¸´à¹€à¸„à¸£à¸²à¸°à¸«à¹Œà¸œà¸¥

// à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡à¸à¸²à¸£à¸§à¸±à¸” Performance à¹ƒà¸™ Console
console.time('Page Load');
window.addEventListener('load', () => {
  console.timeEnd('Page Load');
  
  // à¸§à¸±à¸” Memory Usage
  if (performance.memory) {
    console.log('Memory Usage:', {
      used: `${(performance.memory.usedJSHeapSize / 1024 / 1024).toFixed(2)} MB`,
      total: `${(performance.memory.totalJSHeapSize / 1024 / 1024).toFixed(2)} MB`,
      limit: `${(performance.memory.jsHeapSizeLimit / 1024 / 1024).toFixed(2)} MB`
    });
  }
});
```

#### ğŸ“± Real-time Performance Monitor

```mermaid
graph LR
    subgraph "Client Performance Metrics"
        CPU[ğŸ”¥ CPU Usage]
        MEM[ğŸ’¾ Memory Usage] 
        NET[ğŸŒ Network]
        RENDER[ğŸ¨ Rendering]
        SSE[ğŸ“¡ SSE Performance]
    end
    
    subgraph "Monitoring Tools"
        DEVTOOLS[Browser DevTools]
        LIGHTHOUSE[Lighthouse]
        CUSTOM[Custom Metrics]
        PROFILER[React Profiler]
    end
    
    subgraph "Key Metrics"
        FCP[First Contentful Paint]
        LCP[Largest Contentful Paint]
        CLS[Cumulative Layout Shift]
        FID[First Input Delay]
        TTFB[Time to First Byte]
    end
    
    CPU --> DEVTOOLS
    MEM --> DEVTOOLS
    NET --> DEVTOOLS
    RENDER --> LIGHTHOUSE
    SSE --> CUSTOM
    
    DEVTOOLS --> FCP
    LIGHTHOUSE --> LCP
    CUSTOM --> CLS
    PROFILER --> FID
```

#### ğŸ› ï¸ à¸à¸²à¸£à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡ Performance Monitor

1. **à¹€à¸à¸´à¹ˆà¸¡ Performance Component**
```typescript
// src/components/ui/PerformanceMonitor.tsx
'use client';

import { useEffect, useState } from 'react';

interface PerformanceMetrics {
  memoryUsage: {
    used: string;
    total: string;
    limit: string;
  } | null;
  loadTime: number;
  renderTime: number;
  sseConnections: number;
}

export default function PerformanceMonitor() {
  const [metrics, setMetrics] = useState<PerformanceMetrics>({
    memoryUsage: null,
    loadTime: 0,
    renderTime: 0,
    sseConnections: 0
  });

  useEffect(() => {
    // Monitor Memory Usage
    const updateMetrics = () => {
      if (performance.memory) {
        setMetrics(prev => ({
          ...prev,
          memoryUsage: {
            used: `${(performance.memory.usedJSHeapSize / 1024 / 1024).toFixed(2)} MB`,
            total: `${(performance.memory.totalJSHeapSize / 1024 / 1024).toFixed(2)} MB`,
            limit: `${(performance.memory.jsHeapSizeLimit / 1024 / 1024).toFixed(2)} MB`
          }
        }));
      }
    };

    // Update every 5 seconds
    const interval = setInterval(updateMetrics, 5000);
    updateMetrics(); // Initial call

    return () => clearInterval(interval);
  }, []);

  return (
    <div className="fixed bottom-4 right-4 bg-black bg-opacity-80 text-white p-4 rounded-lg text-xs font-mono z-50">
      <h4 className="font-bold mb-2">ğŸ”§ Performance Monitor</h4>
      {metrics.memoryUsage && (
        <div className="space-y-1">
          <div>Memory Used: {metrics.memoryUsage.used}</div>
          <div>Memory Total: {metrics.memoryUsage.total}</div>
          <div>Memory Limit: {metrics.memoryUsage.limit}</div>
        </div>
      )}
    </div>
  );
}
```

2. **à¹€à¸à¸´à¹ˆà¸¡à¹ƒà¸™ Layout**
```typescript
// src/app/layout.tsx
import PerformanceMonitor from '@/components/ui/PerformanceMonitor';

export default function RootLayout() {
  return (
    <html>
      <body>
        {children}
        {process.env.NODE_ENV === 'development' && <PerformanceMonitor />}
      </body>
    </html>
  );
}
```

#### ğŸ“ˆ à¹€à¸„à¸£à¸·à¹ˆà¸­à¸‡à¸¡à¸·à¸­à¸§à¸±à¸”à¸›à¸£à¸°à¸ªà¸´à¸—à¸˜à¸´à¸ à¸²à¸

| à¹€à¸„à¸£à¸·à¹ˆà¸­à¸‡à¸¡à¸·à¸­ | à¸§à¸´à¸˜à¸µà¸à¸²à¸£à¹ƒà¸Šà¹‰ | à¸ªà¸´à¹ˆà¸‡à¸—à¸µà¹ˆà¸§à¸±à¸”à¹„à¸”à¹‰ |
|-----------|-----------|-------------|
| **Browser DevTools** | F12 â†’ Performance Tab | CPU, Memory, Network, Rendering |
| **Lighthouse** | F12 â†’ Lighthouse Tab | Performance Score, Core Web Vitals |
| **React DevTools Profiler** | Extension â†’ Profiler Tab | Component Render Time |
| **Web Vitals Extension** | Chrome Extension | Real-time Core Web Vitals |
| **Task Manager** | Shift+Esc à¹ƒà¸™ Chrome | Memory & CPU per Tab |

#### ğŸ¯ Performance Benchmarks

```bash
# à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡ Web Vitals
npm install web-vitals

# à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡ Lighthouse CI
npm install -g @lhci/cli

# à¸£à¸±à¸™ Lighthouse Analysis
lhci autorun

# à¸—à¸”à¸ªà¸­à¸š Bundle Size
npm install -g bundlephobia
bundlephobia analyze package.json
```

#### ğŸ“Š à¸à¸²à¸£à¸§à¸´à¹€à¸„à¸£à¸²à¸°à¸«à¹Œ Performance

```javascript
// à¸à¸²à¸£à¸§à¸±à¸” Core Web Vitals
import { getCLS, getFID, getFCP, getLCP, getTTFB } from 'web-vitals';

// à¸ªà¹ˆà¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹„à¸›à¸¢à¸±à¸‡ Analytics
function sendToAnalytics(metric) {
  console.log('Performance Metric:', metric);
  
  // à¸ªà¹ˆà¸‡à¹„à¸›à¸¢à¸±à¸‡ Google Analytics à¸«à¸£à¸·à¸­ Custom Analytics
  // gtag('event', metric.name, {
  //   value: Math.round(metric.value),
  //   metric_id: metric.id,
  // });
}

getCLS(sendToAnalytics);
getFID(sendToAnalytics);
getFCP(sendToAnalytics);
getLCP(sendToAnalytics);
getTTFB(sendToAnalytics);
```

#### ğŸš¨ Performance Alerts

| Metric | Good | Needs Improvement | Poor |
|--------|------|------------------|------|
| **First Contentful Paint (FCP)** | < 1.8s | 1.8s - 3.0s | > 3.0s |
| **Largest Contentful Paint (LCP)** | < 2.5s | 2.5s - 4.0s | > 4.0s |
| **First Input Delay (FID)** | < 100ms | 100ms - 300ms | > 300ms |
| **Cumulative Layout Shift (CLS)** | < 0.1 | 0.1 - 0.25 | > 0.25 |
| **Time to First Byte (TTFB)** | < 600ms | 600ms - 1.5s | > 1.5s |

#### ğŸ”§ à¸à¸²à¸£ Optimize Performance

```mermaid
graph TD
    subgraph "Frontend Optimization"
        A[Code Splitting] --> A1[Dynamic Imports]
        A --> A2[Lazy Loading]
        
        B[Bundle Optimization] --> B1[Tree Shaking]
        B --> B2[Minimize Bundle Size]
        
        C[Asset Optimization] --> C1[Image Optimization]
        C --> C2[Font Loading]
        
        D[Caching Strategy] --> D1[Service Worker]
        D --> D2[Browser Cache]
    end
    
    subgraph "Real-time Optimization"
        E[SSE Optimization] --> E1[Connection Pooling]
        E --> E2[Message Filtering]
        
        F[State Management] --> F1[Minimize Re-renders]
        F --> F2[Memoization]
    end
    
    subgraph "Monitoring & Alerts"
        G[Performance Budget] --> G1[Bundle Size Limits]
        G --> G2[Runtime Metrics]
        
        H[Continuous Monitoring] --> H1[Lighthouse CI]
        H --> H2[Real User Monitoring]
    end
```

#### ğŸ’¡ Performance Tips

**Client-side Optimization:**
```typescript
// 1. à¹ƒà¸Šà¹‰ React.memo à¹€à¸à¸·à¹ˆà¸­à¸›à¹‰à¸­à¸‡à¸à¸±à¸™ unnecessary re-renders
const MemoizedComponent = React.memo(function Component() {
  return <div>Heavy Component</div>;
});

// 2. à¹ƒà¸Šà¹‰ useMemo à¸ªà¸³à¸«à¸£à¸±à¸š expensive calculations
const expensiveValue = useMemo(() => {
  return heavyCalculation(data);
}, [data]);

// 3. à¹ƒà¸Šà¹‰ useCallback à¸ªà¸³à¸«à¸£à¸±à¸š event handlers
const handleClick = useCallback(() => {
  doSomething();
}, []);

// 4. Lazy load components
const LazyComponent = lazy(() => import('./HeavyComponent'));

// 5. Optimize SSE connections
const useOptimizedSSE = () => {
  const [data, setData] = useState(null);
  
  useEffect(() => {
    const eventSource = new EventSource('/api/sse');
    
    // Add message filtering
    eventSource.onmessage = (event) => {
      const newData = JSON.parse(event.data);
      
      // Only update if data actually changed
      setData(prevData => {
        if (JSON.stringify(prevData) !== JSON.stringify(newData)) {
          return newData;
        }
        return prevData;
      });
    };
    
    return () => eventSource.close();
  }, []);
  
  return data;
};
```

#### ğŸ” Performance Debugging

```bash
# 1. à¸§à¸´à¹€à¸„à¸£à¸²à¸°à¸«à¹Œ Bundle Size
npm run build
npx bundle-analyzer

# 2. à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š Memory Leaks
# à¹€à¸›à¸´à¸” DevTools â†’ Performance â†’ Memory tab
# Record memory usage à¸£à¸°à¸«à¸§à¹ˆà¸²à¸‡à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™

# 3. Network Performance
# DevTools â†’ Network tab
# à¸”à¸¹ Request/Response times
# à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š SSE connection stability

# 4. CPU Profiling
# DevTools â†’ Performance tab
# Record CPU usage à¸‚à¸“à¸°à¹ƒà¸Šà¹‰à¸‡à¸²à¸™ Real-time features
```

#### ğŸ“± Mobile Performance Testing

```javascript
// à¹€à¸¥à¸µà¸¢à¸™à¹à¸šà¸š Mobile Network
// DevTools â†’ Network â†’ Throttling â†’ Slow 3G

// à¸—à¸”à¸ªà¸­à¸šà¸šà¸™ Device à¸ˆà¸£à¸´à¸‡
// Chrome DevTools â†’ Remote Debugging
// à¸«à¸£à¸·à¸­à¹ƒà¸Šà¹‰ BrowserStack/Sauce Labs

// Performance à¸šà¸™ Mobile
if (navigator.userAgent.includes('Mobile')) {
  // à¸¥à¸” frequency à¸‚à¸­à¸‡ SSE updates
  // à¸¥à¸”à¸ˆà¸³à¸™à¸§à¸™ components à¸—à¸µà¹ˆ render
  // à¹ƒà¸Šà¹‰ Virtual Scrolling à¸ªà¸³à¸«à¸£à¸±à¸š large lists
}
```

---

## ï¿½ğŸš€ à¸à¸²à¸£ Deploy

### ğŸŒ Vercel Deployment (à¹à¸™à¸°à¸™à¸³)

#### 1. Prepare for Production
```bash
# Build production
npm run build

# Test production build
npm run start
```

#### 2. Deploy to Vercel
```bash
# Install Vercel CLI
npm install -g vercel

# Deploy
vercel

# Set environment variables
vercel env add DATABASE_URL
vercel env add JWT_SECRET
vercel env add NEXTAUTH_SECRET
vercel env add NEXT_PUBLIC_WS_URL
```

#### 3. Database Setup
- à¸ªà¸£à¹‰à¸²à¸‡ PostgreSQL database à¸šà¸™ cloud (à¹€à¸Šà¹ˆà¸™ Neon, Supabase)
- à¸­à¸±à¸›à¹€à¸”à¸• `DATABASE_URL` à¹ƒà¸™ Vercel environment
- à¸£à¸±à¸™ migration scripts

#### 4. WebSocket Configuration
- WebSocket Server à¸•à¹‰à¸­à¸‡ deploy à¹à¸¢à¸à¸«à¸£à¸·à¸­à¹ƒà¸Šà¹‰ external service
- à¸­à¸±à¸›à¹€à¸”à¸• `NEXT_PUBLIC_WS_URL` à¹ƒà¸«à¹‰à¸Šà¸·à¹‰à¸­à¹„à¸›à¸¢à¸±à¸‡ production WebSocket server
- à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸² CORS à¸ªà¸³à¸«à¸£à¸±à¸š production domain

### ğŸ³ Docker Deployment

#### 1. Create Dockerfile
```dockerfile
FROM node:18-alpine

WORKDIR /app
COPY package*.json ./
RUN npm ci --only=production

COPY . .
RUN npm run build

EXPOSE 3000
EXPOSE 8080

CMD ["npm", "start"]
```

#### 2. Build à¹à¸¥à¸° Run
```bash
# Build image
docker build -t iot-energy-app .

# Run container
docker run -p 3000:3000 -p 8080:8080 \
  -e DATABASE_URL="your_db_url" \
  -e JWT_SECRET="your_secret" \
  -e NEXT_PUBLIC_WS_URL="ws://localhost:8080" \
  iot-energy-app
```

### ğŸ”§ Environment Variables for Production

```env
# Database
DATABASE_URL="postgresql://username:password@hostname:5432/database_prod"

# Security (à¸•à¹‰à¸­à¸‡à¹ƒà¸Šà¹‰à¸„à¹ˆà¸²à¸—à¸µà¹ˆà¸›à¸¥à¸­à¸”à¸ à¸±à¸¢à¹à¸¥à¸°à¸¢à¸²à¸§à¸à¸§à¹ˆà¸²à¸™à¸µà¹‰)
JWT_SECRET="your-production-secret-minimum-32-characters-random-string"
NEXTAUTH_SECRET="your-nextauth-production-secret-minimum-32-characters"
NEXTAUTH_URL="https://yourdomain.com"

# App
NODE_ENV="production"
NEXT_PUBLIC_API_URL="https://yourdomain.com"

# WebSocket & Real-time
NEXT_PUBLIC_WS_URL="wss://your-websocket-server.com:8080"
WS_PORT="8080"
WS_HOST="0.0.0.0"

# MQTT (Optional)
MQTT_BROKER_URL="mqtt://your-mqtt-broker.com:1883"
```

---

## ğŸ“ à¸à¸²à¸£à¸ªà¸™à¸±à¸šà¸ªà¸™à¸¸à¸™

### ğŸ“š à¹€à¸­à¸à¸ªà¸²à¸£à¹€à¸à¸´à¹ˆà¸¡à¹€à¸•à¸´à¸¡
- ğŸ“– **API Documentation** - à¸£à¸²à¸¢à¸¥à¸°à¹€à¸­à¸µà¸¢à¸” API à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”
- ğŸ” **JWT Bearer Guide** - à¸„à¸¹à¹ˆà¸¡à¸·à¸­à¸£à¸°à¸šà¸š Authentication
- ğŸ—„ï¸ **Database Schema** - à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡à¸à¸²à¸™à¸‚à¹‰à¸­à¸¡à¸¹à¸¥
- ğŸ¨ **UI Components** - à¸„à¸¹à¹ˆà¸¡à¸·à¸­à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™ Components
- ğŸ“¡ **WebSocket Guide** - à¸„à¸¹à¹ˆà¸¡à¸·à¸­à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™ Real-time System
- ğŸ­ **MQTT Testing** - à¸„à¸¹à¹ˆà¸¡à¸·à¸­à¸—à¸”à¸ªà¸­à¸šà¸à¸²à¸£à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­ IoT

### ğŸ› ï¸ à¸à¸²à¸£à¹à¸à¹‰à¸›à¸±à¸à¸«à¸²

#### à¸›à¸±à¸à¸«à¸²à¸—à¸µà¹ˆà¸à¸šà¸šà¹ˆà¸­à¸¢
1. **Database Connection Error**
   ```bash
   # à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š connection
   npm run db:check
   
   # à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š .env file
   cat .env
   ```

2. **WebSocket Connection Failed**
   ```bash
   # à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š WebSocket Server
   curl -I http://localhost:8080
   
   # à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š Firewall/Network
   telnet localhost 8080
   
   # à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š IP Address
   ipconfig  # Windows
   ifconfig  # macOS/Linux
   ```

3. **Authentication à¹„à¸¡à¹ˆà¸—à¸³à¸‡à¸²à¸™**
   ```bash
   # à¸¥à¹‰à¸²à¸‡ cookies à¹à¸¥à¸° localStorage
   # à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š JWT_SECRET à¹ƒà¸™ .env
   # à¸”à¸¹ Console errors à¹ƒà¸™ browser
   ```

4. **Build Error**
   ```bash
   # à¸¥à¹‰à¸²à¸‡ cache
   rm -rf .next
   npm run build
   ```

5. **Cross-device Connection Issues**
   ```bash
   # à¸­à¸±à¸›à¹€à¸”à¸• WebSocket URL à¹ƒà¸™ .env
   NEXT_PUBLIC_WS_URL="ws://YOUR_IP:8080"
   
   # à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š Firewall settings
   # à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š next.config.ts allowedDevOrigins
   ```

### ğŸ’¡ à¸à¸²à¸£à¸à¸±à¸’à¸™à¸²à¸•à¹ˆà¸­

#### ğŸ¯ Roadmap
- [ ] **Real-time Charts** - à¸à¸£à¸²à¸Ÿà¹à¸ªà¸”à¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹€à¸£à¸µà¸¢à¸¥à¹„à¸—à¸¡à¹Œà¸”à¹‰à¸§à¸¢ Chart.js
- [ ] **Mobile App** - à¹à¸­à¸à¸¡à¸·à¸­à¸–à¸·à¸­ React Native
- [ ] **Advanced IoT Integration** - à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­à¸à¸±à¸šà¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¸ˆà¸£à¸´à¸‡à¸œà¹ˆà¸²à¸™ MQTT
- [ ] **Data Analytics** - à¸à¸²à¸£à¸§à¸´à¹€à¸„à¸£à¸²à¸°à¸«à¹Œà¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸‚à¸±à¹‰à¸™à¸ªà¸¹à¸‡à¸”à¹‰à¸§à¸¢ AI/ML
- [ ] **Notification System** - à¸£à¸°à¸šà¸šà¹à¸ˆà¹‰à¸‡à¹€à¸•à¸·à¸­à¸™à¹à¸šà¸š Real-time
- [ ] **Multi-tenant Support** - à¸£à¸­à¸‡à¸£à¸±à¸šà¸«à¸¥à¸²à¸¢à¸­à¸‡à¸„à¹Œà¸à¸£à¹ƒà¸™à¸£à¸°à¸šà¸šà¹€à¸”à¸µà¸¢à¸§
- [ ] **Energy Prediction** - à¸—à¸³à¸™à¸²à¸¢à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸à¸¥à¸±à¸‡à¸‡à¸²à¸™à¸”à¹‰à¸§à¸¢ Machine Learning
- [ ] **Alarm System** - à¸£à¸°à¸šà¸šà¹€à¸•à¸·à¸­à¸™à¸ à¸±à¸¢à¹€à¸¡à¸·à¹ˆà¸­à¸à¸¥à¸±à¸‡à¸‡à¸²à¸™à¹€à¸à¸´à¸™à¸à¸³à¸«à¸™à¸”

#### ğŸ¤ Contributing
1. Fork repository
2. à¸ªà¸£à¹‰à¸²à¸‡ feature branch (`git checkout -b feature/amazing-feature`)
3. Commit changes (`git commit -m 'Add amazing feature'`)
4. Push to branch (`git push origin feature/amazing-feature`)
5. à¹€à¸›à¸´à¸” Pull Request

---

## ğŸ“„ License

à¹‚à¸›à¸£à¹€à¸ˆà¸„à¸™à¸µà¹‰à¸à¸±à¸’à¸™à¸²à¹€à¸à¸·à¹ˆà¸­à¸à¸²à¸£à¸¨à¸¶à¸à¸©à¸²à¹à¸¥à¸°à¹ƒà¸Šà¹‰à¸‡à¸²à¸™à¸ à¸²à¸¢à¹ƒà¸™à¸­à¸‡à¸„à¹Œà¸à¸£

---

## ğŸ† à¸ªà¸£à¸¸à¸›

### âœ¨ à¸„à¸§à¸²à¸¡à¸ªà¸³à¹€à¸£à¹‡à¸ˆà¸—à¸µà¹ˆà¹„à¸”à¹‰à¸£à¸±à¸š
- âœ… **Authentication System** - à¸£à¸°à¸šà¸šà¸¢à¸·à¸™à¸¢à¸±à¸™à¸•à¸±à¸§à¸•à¸™à¹à¸šà¸šà¸„à¸£à¸šà¸–à¹‰à¸§à¸™à¸à¸£à¹‰à¸­à¸¡ Role-based Access
- âœ… **User Management** - CRUD à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¸à¸£à¹‰à¸­à¸¡à¸à¸²à¸£à¸›à¹‰à¸­à¸‡à¸à¸±à¸™à¸à¸²à¸£à¸¥à¸šà¸•à¸±à¸§à¹€à¸­à¸‡
- âœ… **Real-time Dashboard** - Dashboard à¹à¸ªà¸”à¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥ IoT à¹à¸šà¸šà¹€à¸£à¸µà¸¢à¸¥à¹„à¸—à¸¡à¹Œ
- âœ… **WebSocket Integration** - à¸£à¸°à¸šà¸š WebSocket à¸£à¸­à¸‡à¸£à¸±à¸šà¸«à¸¥à¸²à¸¢à¸­à¸¸à¸›à¸à¸£à¸“à¹Œ
- âœ… **MQTT Integration** - à¸£à¸­à¸‡à¸£à¸±à¸šà¸à¸²à¸£à¸£à¸±à¸šà¸ªà¹ˆà¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸ˆà¸²à¸à¸­à¸¸à¸›à¸à¸£à¸“à¹Œ IoT
- âœ… **Cross-device Support** - à¹ƒà¸Šà¹‰à¸‡à¸²à¸™à¹„à¸”à¹‰à¸šà¸™ PC, Tablet, Mobile
- âœ… **Modern UI/UX** - Interface à¸—à¸µà¹ˆà¸—à¸±à¸™à¸ªà¸¡à¸±à¸¢à¹à¸¥à¸° Responsive
- âœ… **Database Integration** - PostgreSQL à¸à¸£à¹‰à¸­à¸¡ Connection Pooling
- âœ… **API Architecture** - RESTful APIs à¸—à¸µà¹ˆà¸¡à¸µà¸¡à¸²à¸•à¸£à¸à¸²à¸™
- âœ… **Security Implementation** - à¸„à¸§à¸²à¸¡à¸›à¸¥à¸­à¸”à¸ à¸±à¸¢à¸£à¸°à¸”à¸±à¸š Production
- âœ… **TypeScript Integration** - Type Safety à¸—à¸±à¹‰à¸‡à¸£à¸°à¸šà¸š
- âœ… **Auto-reconnection** - à¸£à¸°à¸šà¸šà¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­à¹ƒà¸«à¸¡à¹ˆà¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´
- âœ… **Error Handling** - à¸ˆà¸±à¸”à¸à¸²à¸£à¸‚à¹‰à¸­à¸œà¸´à¸”à¸à¸¥à¸²à¸”à¸­à¸¢à¹ˆà¸²à¸‡à¸„à¸£à¸­à¸šà¸„à¸¥à¸¸à¸¡

### ğŸ“Š à¸ªà¸–à¸´à¸•à¸´à¹‚à¸›à¸£à¹€à¸ˆà¸„
- **ğŸ“ Total Files**: 70+ files
- **ğŸ’» Lines of Code**: 6,000+ lines
- **ğŸ§© Components**: 25+ React components
- **ğŸ”Œ API Endpoints**: 20+ REST APIs
- **ğŸ—„ï¸ Database Tables**: 3+ tables with relationships
- **ğŸ” Security Features**: JWT + bcrypt + RBAC + Self-deletion Prevention
- **ğŸ“¡ Real-time Features**: WebSocket + MQTT + Auto-reconnection
- **ğŸ“± Responsive Design**: Mobile-first approach
- **ğŸŒ Cross-platform**: PC + Tablet + Mobile support

### ğŸš€ Production Ready Features
à¸£à¸°à¸šà¸šà¸à¸£à¹‰à¸­à¸¡à¹ƒà¸Šà¹‰à¸‡à¸²à¸™à¸ˆà¸£à¸´à¸‡à¹ƒà¸™ Production Environment à¸à¸£à¹‰à¸­à¸¡à¸”à¹‰à¸§à¸¢:
- **Scalable Architecture** - à¸ªà¸–à¸²à¸›à¸±à¸•à¸¢à¸à¸£à¸£à¸¡à¸—à¸µà¹ˆà¸£à¸­à¸‡à¸£à¸±à¸šà¸à¸²à¸£à¸‚à¸¢à¸²à¸¢à¸•à¸±à¸§
- **Security Best Practices** - à¸¡à¸²à¸•à¸£à¸à¸²à¸™à¸„à¸§à¸²à¸¡à¸›à¸¥à¸­à¸”à¸ à¸±à¸¢ Enterprise
- **Performance Optimization** - à¸›à¸£à¸±à¸šà¹à¸•à¹ˆà¸‡à¸›à¸£à¸°à¸ªà¸´à¸—à¸˜à¸´à¸ à¸²à¸
- **Comprehensive Error Handling** - à¸ˆà¸±à¸”à¸à¸²à¸£à¸‚à¹‰à¸­à¸œà¸´à¸”à¸à¸¥à¸²à¸”à¸„à¸£à¸­à¸šà¸„à¸¥à¸¸à¸¡
- **Responsive Design** - à¸£à¸­à¸‡à¸£à¸±à¸šà¸—à¸¸à¸à¸‚à¸™à¸²à¸”à¸«à¸™à¹‰à¸²à¸ˆà¸­
- **TypeScript Type Safety** - à¸„à¸§à¸²à¸¡à¸›à¸¥à¸­à¸”à¸ à¸±à¸¢à¹ƒà¸™à¸à¸²à¸£à¹€à¸‚à¸µà¸¢à¸™à¹‚à¸„à¹‰à¸”
- **Real-time Capabilities** - à¸„à¸§à¸²à¸¡à¸ªà¸²à¸¡à¸²à¸£à¸–à¹ƒà¸™à¸à¸²à¸£à¸—à¸³à¸‡à¸²à¸™à¹à¸šà¸šà¹€à¸£à¸µà¸¢à¸¥à¹„à¸—à¸¡à¹Œ
- **Multi-device Support** - à¸£à¸­à¸‡à¸£à¸±à¸šà¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™à¸‚à¹‰à¸²à¸¡à¸­à¸¸à¸›à¸à¸£à¸“à¹Œ
- **Auto-failover** - à¸£à¸°à¸šà¸šà¸ªà¸³à¸£à¸­à¸‡à¹€à¸¡à¸·à¹ˆà¸­à¹€à¸à¸´à¸”à¸›à¸±à¸à¸«à¸²
- **Production Build** - à¸à¸£à¹‰à¸­à¸¡ Deploy à¹„à¸›à¸¢à¸±à¸‡ Production

### ğŸ”® Technology Highlights
- **Next.js 15.4.4** with App Router à¹à¸¥à¸° Turbopack
- **React 19.1.0** with Server Components
- **TypeScript 5.8+** à¸ªà¸³à¸«à¸£à¸±à¸š Type Safety
- **WebSocket Real-time** à¸ªà¸³à¸«à¸£à¸±à¸šà¸à¸²à¸£à¸ªà¸·à¹ˆà¸­à¸ªà¸²à¸£à¹à¸šà¸šà¸—à¸±à¸™à¸—à¸µ
- **MQTT Integration** à¸ªà¸³à¸«à¸£à¸±à¸šà¸à¸²à¸£à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­ IoT
- **PostgreSQL** à¸ªà¸³à¸«à¸£à¸±à¸šà¸ˆà¸±à¸”à¹€à¸à¹‡à¸šà¸‚à¹‰à¸­à¸¡à¸¹à¸¥
- **JWT Authentication** à¸ªà¸³à¸«à¸£à¸±à¸šà¸„à¸§à¸²à¸¡à¸›à¸¥à¸­à¸”à¸ à¸±à¸¢
- **Tailwind CSS** à¸ªà¸³à¸«à¸£à¸±à¸š Styling
- **Responsive Design** à¸ªà¸³à¸«à¸£à¸±à¸šà¸—à¸¸à¸à¸‚à¸™à¸²à¸”à¸«à¸™à¹‰à¸²à¸ˆà¸­

---

<div align="center">

**ğŸŒŸ à¸‚à¸­à¸šà¸„à¸¸à¸“à¸—à¸µà¹ˆà¹ƒà¸Šà¹‰à¸‡à¸²à¸™ IoT Electric Energy Management System!**

*Developed with â¤ï¸ using cutting-edge technologies*

[![Made with Next.js](https://img.shields.io/badge/Made%20with-Next.js-000000?style=for-the-badge&logo=next.js)](https://nextjs.org/)
[![Powered by TypeScript](https://img.shields.io/badge/Powered%20by-TypeScript-3178C6?style=for-the-badge&logo=typescript)](https://www.typescriptlang.org/)
[![WebSocket Enabled](https://img.shields.io/badge/WebSocket-Enabled-orange?style=for-the-badge)](https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API)

**ğŸ“§ à¸ªà¸³à¸«à¸£à¸±à¸šà¸„à¸³à¸–à¸²à¸¡à¹à¸¥à¸°à¸à¸²à¸£à¸ªà¸™à¸±à¸šà¸ªà¸™à¸¸à¸™ à¸à¸£à¸¸à¸“à¸²à¸•à¸´à¸”à¸•à¹ˆà¸­à¸—à¸µà¸¡à¸à¸±à¸’à¸™à¸²**

**ğŸš€ System Status: Production Ready âœ…**

</div>

---

## ğŸ“‹ à¸ªà¸²à¸£à¸šà¸±à¸

- [ğŸš€ à¹€à¸à¸µà¹ˆà¸¢à¸§à¸à¸±à¸šà¹‚à¸›à¸£à¹€à¸ˆà¸„](#-à¹€à¸à¸µà¹ˆà¸¢à¸§à¸à¸±à¸šà¹‚à¸›à¸£à¹€à¸ˆà¸„)
- [âš¡ à¸„à¸¸à¸“à¸ªà¸¡à¸šà¸±à¸•à¸´à¸«à¸¥à¸±à¸](#-à¸„à¸¸à¸“à¸ªà¸¡à¸šà¸±à¸•à¸´à¸«à¸¥à¸±à¸)
- [ğŸ› ï¸ à¹€à¸—à¸„à¹‚à¸™à¹‚à¸¥à¸¢à¸µà¸—à¸µà¹ˆà¹ƒà¸Šà¹‰](#ï¸-à¹€à¸—à¸„à¹‚à¸™à¹‚à¸¥à¸¢à¸µà¸—à¸µà¹ˆà¹ƒà¸Šà¹‰)
- [ğŸ—ï¸ à¸ªà¸–à¸²à¸›à¸±à¸•à¸¢à¸à¸£à¸£à¸¡à¸£à¸°à¸šà¸š](#ï¸-à¸ªà¸–à¸²à¸›à¸±à¸•à¸¢à¸à¸£à¸£à¸¡à¸£à¸°à¸šà¸š)
- [ğŸ”§ à¸à¸²à¸£à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡](#-à¸à¸²à¸£à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡)
- [ğŸ“– à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™](#-à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™)
- [ğŸ” à¸£à¸°à¸šà¸š Authentication](#-à¸£à¸°à¸šà¸š-authentication)
- [ğŸ“± API Documentation](#-api-documentation)
- [ğŸ—‚ï¸ à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡à¹‚à¸›à¸£à¹€à¸ˆà¸„](#ï¸-à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡à¹‚à¸›à¸£à¹€à¸ˆà¸„)
- [ğŸ§ª à¸à¸²à¸£à¸—à¸”à¸ªà¸­à¸š](#-à¸à¸²à¸£à¸—à¸”à¸ªà¸­à¸š)
- [ğŸš€ à¸à¸²à¸£ Deploy](#-à¸à¸²à¸£-deploy)
- [ğŸ“ à¸à¸²à¸£à¸ªà¸™à¸±à¸šà¸ªà¸™à¸¸à¸™](#-à¸à¸²à¸£à¸ªà¸™à¸±à¸šà¸ªà¸™à¸¸à¸™)

---

## ğŸš€ à¹€à¸à¸µà¹ˆà¸¢à¸§à¸à¸±à¸šà¹‚à¸›à¸£à¹€à¸ˆà¸„

**IoT Electric Energy Management System** à¹€à¸›à¹‡à¸™à¸£à¸°à¸šà¸šà¸ˆà¸±à¸”à¸à¸²à¸£à¸à¸¥à¸±à¸‡à¸‡à¸²à¸™à¹„à¸Ÿà¸Ÿà¹‰à¸²à¹à¸šà¸šà¸„à¸£à¸šà¸§à¸‡à¸ˆà¸£ à¸—à¸µà¹ˆà¸à¸±à¸’à¸™à¸²à¸”à¹‰à¸§à¸¢à¹€à¸—à¸„à¹‚à¸™à¹‚à¸¥à¸¢à¸µà¸—à¸µà¹ˆà¸—à¸±à¸™à¸ªà¸¡à¸±à¸¢à¸—à¸µà¹ˆà¸ªà¸¸à¸” à¹€à¸à¸·à¹ˆà¸­à¸•à¸­à¸šà¸ªà¸™à¸­à¸‡à¸„à¸§à¸²à¸¡à¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¹ƒà¸™à¸à¸²à¸£à¸•à¸´à¸”à¸•à¸²à¸¡à¹à¸¥à¸°à¸ˆà¸±à¸”à¸à¸²à¸£à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸à¸¥à¸±à¸‡à¸‡à¸²à¸™à¹„à¸Ÿà¸Ÿà¹‰à¸²à¹ƒà¸™à¸­à¸‡à¸„à¹Œà¸à¸£à¸‚à¸™à¸²à¸”à¹ƒà¸«à¸à¹ˆ

### ğŸ¯ à¸§à¸±à¸•à¸–à¸¸à¸›à¸£à¸°à¸ªà¸‡à¸„à¹Œ
- âœ… **à¸ˆà¸±à¸”à¸à¸²à¸£à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰** - à¸£à¸°à¸šà¸š CRUD à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¹à¸šà¸šà¸„à¸£à¸šà¸–à¹‰à¸§à¸™ à¸à¸£à¹‰à¸­à¸¡ Role-based Access Control
- âœ… **à¸•à¸´à¸”à¸•à¸²à¸¡à¸­à¸¸à¸›à¸à¸£à¸“à¹Œ IoT** - à¸ˆà¸±à¸”à¸à¸²à¸£à¹à¸¥à¸°à¸•à¸´à¸”à¸•à¸²à¸¡ Smart Meter à¹à¸¥à¸°à¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¸§à¸±à¸”à¸à¸¥à¸±à¸‡à¸‡à¸²à¸™
- âœ… **Dashboard à¹à¸šà¸š Real-time** - à¹à¸ªà¸”à¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸à¸¥à¸±à¸‡à¸‡à¸²à¸™à¹à¸šà¸šà¹€à¸£à¸µà¸¢à¸¥à¹„à¸—à¸¡à¹Œ
- âœ… **à¸£à¸°à¸šà¸šà¸£à¸±à¸à¸©à¸²à¸„à¸§à¸²à¸¡à¸›à¸¥à¸­à¸”à¸ à¸±à¸¢** - Authentication à¹à¸¥à¸° Authorization à¸£à¸°à¸”à¸±à¸š Enterprise
- âœ… **à¸£à¸­à¸‡à¸£à¸±à¸š Multi-Faculty** - à¸ˆà¸±à¸”à¸à¸²à¸£à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹à¸šà¸šà¹à¸¢à¸à¸•à¸²à¸¡à¸«à¸™à¹ˆà¸§à¸¢à¸‡à¸²à¸™/à¸„à¸“à¸°

### ğŸ›ï¸ à¸à¸£à¸“à¸µà¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™
- **à¸¡à¸«à¸²à¸§à¸´à¸—à¸¢à¸²à¸¥à¸±à¸¢** - à¸ˆà¸±à¸”à¸à¸²à¸£à¸à¸¥à¸±à¸‡à¸‡à¸²à¸™à¹„à¸Ÿà¸Ÿà¹‰à¸²à¸‚à¸­à¸‡à¸«à¸¥à¸²à¸¢à¸„à¸“à¸°/à¸­à¸²à¸„à¸²à¸£
- **à¹‚à¸£à¸‡à¸‡à¸²à¸™à¸­à¸¸à¸•à¸ªà¸²à¸«à¸à¸£à¸£à¸¡** - à¸•à¸´à¸”à¸•à¸²à¸¡à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸à¸¥à¸±à¸‡à¸‡à¸²à¸™à¸‚à¸­à¸‡à¸«à¸¥à¸²à¸¢à¸«à¸™à¹ˆà¸§à¸¢à¸œà¸¥à¸´à¸•
- **à¸­à¸²à¸„à¸²à¸£à¸ªà¸³à¸™à¸±à¸à¸‡à¸²à¸™** - à¸ˆà¸±à¸”à¸à¸²à¸£à¸à¸¥à¸±à¸‡à¸‡à¸²à¸™à¸‚à¸­à¸‡à¸«à¸¥à¸²à¸¢à¸Šà¸±à¹‰à¸™/à¸à¹ˆà¸²à¸¢
- **Smart City** - à¸£à¸°à¸šà¸šà¸ˆà¸±à¸”à¸à¸²à¸£à¸à¸¥à¸±à¸‡à¸‡à¸²à¸™à¹ƒà¸™à¸Šà¸¸à¸¡à¸Šà¸™

---

## âš¡ à¸„à¸¸à¸“à¸ªà¸¡à¸šà¸±à¸•à¸´à¸«à¸¥à¸±à¸

### ğŸ” à¸£à¸°à¸šà¸šà¸£à¸±à¸à¸©à¸²à¸„à¸§à¸²à¸¡à¸›à¸¥à¸­à¸”à¸ à¸±à¸¢
- **JWT Bearer Token Authentication** - à¸£à¸°à¸šà¸šà¸¢à¸·à¸™à¸¢à¸±à¸™à¸•à¸±à¸§à¸•à¸™à¸—à¸µà¹ˆà¸›à¸¥à¸­à¸”à¸ à¸±à¸¢
- **Role-based Access Control** - à¸ˆà¸±à¸”à¸à¸²à¸£à¸ªà¸´à¸—à¸˜à¸´à¹Œà¸•à¸²à¸¡ Role (Admin, Manager, User)
- **Password Hashing** - à¹€à¸‚à¹‰à¸²à¸£à¸«à¸±à¸ªà¸£à¸«à¸±à¸ªà¸œà¹ˆà¸²à¸™à¸”à¹‰à¸§à¸¢ bcrypt
- **Session Management** - à¸ˆà¸±à¸”à¸à¸²à¸£ Session à¸”à¹‰à¸§à¸¢ HttpOnly Cookies
- **Route Protection** - à¸›à¹‰à¸­à¸‡à¸à¸±à¸™à¸à¸²à¸£à¹€à¸‚à¹‰à¸²à¸–à¸¶à¸‡à¸«à¸™à¹‰à¸²à¸—à¸µà¹ˆà¸•à¹‰à¸­à¸‡à¸¢à¸·à¸™à¸¢à¸±à¸™à¸•à¸±à¸§à¸•à¸™

### ğŸ‘¥ à¸à¸²à¸£à¸ˆà¸±à¸”à¸à¸²à¸£à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰
- **CRUD Operations** - à¹€à¸à¸´à¹ˆà¸¡ à¹à¸à¹‰à¹„à¸‚ à¸¥à¸š à¹à¸¥à¸°à¸”à¸¹à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰
- **User Roles** - Admin, Manager, User à¸à¸£à¹‰à¸­à¸¡à¸ªà¸´à¸—à¸˜à¸´à¹Œà¸—à¸µà¹ˆà¹à¸•à¸à¸•à¹ˆà¸²à¸‡à¸à¸±à¸™
- **Profile Management** - à¹à¸à¹‰à¹„à¸‚à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸ªà¹ˆà¸§à¸™à¸•à¸±à¸§
- **Login Tracking** - à¸•à¸´à¸”à¸•à¸²à¸¡à¸à¸²à¸£à¹€à¸‚à¹‰à¸²à¹ƒà¸Šà¹‰à¸‡à¸²à¸™à¸¥à¹ˆà¸²à¸ªà¸¸à¸”
- **Self-deletion Prevention** - à¸›à¹‰à¸­à¸‡à¸à¸±à¸™à¸à¸²à¸£à¸¥à¸šà¸šà¸±à¸à¸Šà¸µà¸•à¸±à¸§à¹€à¸­à¸‡

### ğŸ“Š Dashboard à¹à¸¥à¸°à¸à¸²à¸£à¹à¸ªà¸”à¸‡à¸œà¸¥
- **Multi-section Dashboard** - à¹à¸šà¹ˆà¸‡à¸ªà¹ˆà¸§à¸™à¹à¸ªà¸”à¸‡à¸œà¸¥à¸•à¸²à¸¡ Role
- **Real-time Data** - à¹à¸ªà¸”à¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹à¸šà¸šà¹€à¸£à¸µà¸¢à¸¥à¹„à¸—à¸¡à¹Œ
- **Responsive Design** - à¸£à¸­à¸‡à¸£à¸±à¸šà¸—à¸¸à¸à¸‚à¸™à¸²à¸”à¸«à¸™à¹‰à¸²à¸ˆà¸­ (Mobile-First)
- **Interactive Navigation** - à¹€à¸¡à¸™à¸¹à¹à¸šà¸š Slide Navigation
- **Statistics Cards** - à¹à¸ªà¸”à¸‡à¸ªà¸–à¸´à¸•à¸´à¹à¸šà¸š Visual

### ğŸ­ à¸à¸²à¸£à¸ˆà¸±à¸”à¸à¸²à¸£à¸­à¸¸à¸›à¸à¸£à¸“à¹Œ IoT
- **Device Registration** - à¸¥à¸‡à¸—à¸°à¹€à¸šà¸µà¸¢à¸™à¸­à¸¸à¸›à¸à¸£à¸“à¹Œ Smart Meter
- **Faculty-based Organization** - à¸ˆà¸±à¸”à¸à¸¥à¸¸à¹ˆà¸¡à¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¸•à¸²à¸¡à¸«à¸™à¹ˆà¸§à¸¢à¸‡à¸²à¸™
- **Status Monitoring** - à¸•à¸´à¸”à¸•à¸²à¸¡à¸ªà¸–à¸²à¸™à¸° Online/Offline
- **Meter Type Support** - à¸£à¸­à¸‡à¸£à¸±à¸š Digital à¹à¸¥à¸° Analog Meter
- **Location Tracking** - à¸ˆà¸±à¸”à¹€à¸à¹‡à¸šà¸•à¸³à¹à¸«à¸™à¹ˆà¸‡à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡à¸­à¸¸à¸›à¸à¸£à¸“à¹Œ

### ğŸ“¡ à¸£à¸°à¸šà¸š Real-time Communication
- **WebSocket Integration** - à¸à¸²à¸£à¸ªà¸·à¹ˆà¸­à¸ªà¸²à¸£à¹à¸šà¸š Real-time
- **MQTT Support** - à¸£à¸­à¸‡à¸£à¸±à¸šà¹‚à¸›à¸£à¹‚à¸•à¸„à¸­à¸¥ MQTT à¸ªà¸³à¸«à¸£à¸±à¸š IoT
- **Auto-reconnection** - à¸£à¸°à¸šà¸šà¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­à¹ƒà¸«à¸¡à¹ˆà¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´
- **Error Handling** - à¸ˆà¸±à¸”à¸à¸²à¸£à¸‚à¹‰à¸­à¸œà¸´à¸”à¸à¸¥à¸²à¸”à¸­à¸¢à¹ˆà¸²à¸‡à¹€à¸«à¸¡à¸²à¸°à¸ªà¸¡

---

## ğŸ› ï¸ à¹€à¸—à¸„à¹‚à¸™à¹‚à¸¥à¸¢à¸µà¸—à¸µà¹ˆà¹ƒà¸Šà¹‰

### ğŸ–¥ï¸ Frontend
```json
{
  "framework": "Next.js 15.4.4",
  "ui_library": "React 19.1.0", 
  "language": "TypeScript 5.8+",
  "styling": "Tailwind CSS 4.0",
  "state_management": "Zustand 5.0.6",
  "features": ["App Router", "Turbopack", "Server Components"]
}
```

### âš™ï¸ Backend
```json
{
  "runtime": "Node.js",
  "api": "Next.js API Routes",
  "database": "PostgreSQL 16+",
  "orm": "Raw SQL with pg",
  "authentication": "JWT + bcrypt",
  "realtime": ["WebSocket", "MQTT"]
}
```

### ğŸ› ï¸ Development Tools
```json
{
  "typescript": "5.8.3",
  "linting": "ESLint 9",
  "bundler": "Turbopack",
  "package_manager": "npm",
  "environment": "dotenv"
}
```

### ğŸ”§ Infrastructure
```json
{
  "hosting": "Vercel / Self-hosted",
  "database": "PostgreSQL Cloud / Local",
  "cdn": "Next.js Built-in",
  "monitoring": "Console Logging"
}
```

---

## ğŸ—ï¸ à¸ªà¸–à¸²à¸›à¸±à¸•à¸¢à¸à¸£à¸£à¸¡à¸£à¸°à¸šà¸š

```mermaid
graph TB
    A[Client Browser] --> B[Next.js Frontend]
    B --> C[API Routes]
    C --> D[Authentication Middleware]
    D --> E[PostgreSQL Database]
    
    F[IoT Devices] --> G[MQTT Broker]
    G --> H[WebSocket Server]
    H --> B
    
    I[Admin Panel] --> C
    J[User Dashboard] --> C
    K[Device Monitor] --> C
```

### ğŸ“ Architecture Patterns
- **MVC Pattern** - Model-View-Controller à¸ªà¸³à¸«à¸£à¸±à¸š API
- **Component-based Architecture** - React Components à¹à¸šà¸š Modular
- **State Management** - Zustand à¸ªà¸³à¸«à¸£à¸±à¸š Global State
- **Database Layer** - Raw SQL Queries à¸à¸£à¹‰à¸­à¸¡ Connection Pooling
- **Authentication Flow** - JWT Token + Cookie Session

---

## ğŸ”§ à¸à¸²à¸£à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡

### ğŸ“‹ System Requirements
- **Node.js** 18.0+ ([Download](https://nodejs.org/))
- **PostgreSQL** 12.0+ ([Download](https://www.postgresql.org/download/))
- **Git** ([Download](https://git-scm.com/downloads))

### ğŸš€ Quick Start

#### 1. Clone Repository
```bash
git clone https://github.com/yourusername/iot-electric-energy.git
cd iot-electric-energy
```

#### 2. Install Dependencies
```bash
# à¸•à¸´à¸”à¸•à¸±à¹‰à¸‡ dependencies à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”
npm install

# à¸«à¸£à¸·à¸­à¹ƒà¸Šà¹‰ script à¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´
node install-all.js
```

#### 3. Environment Setup
à¸ªà¸£à¹‰à¸²à¸‡à¹„à¸Ÿà¸¥à¹Œ `.env` à¹ƒà¸™à¹‚à¸Ÿà¸¥à¹€à¸”à¸­à¸£à¹Œà¸«à¸¥à¸±à¸:
```env
# Database Configuration
DATABASE_URL="postgresql://username:password@hostname:5432/database_name"

# JWT Secrets (à¸•à¹‰à¸­à¸‡à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¹ƒà¸«à¹‰à¸›à¸¥à¸­à¸”à¸ à¸±à¸¢à¹ƒà¸™ production)
JWT_SECRET="your-super-secret-jwt-key-minimum-32-characters-change-this"
NEXTAUTH_SECRET="your-nextauth-secret-key"
NEXTAUTH_URL="http://localhost:3000"

# App Configuration
NODE_ENV="development"
NEXT_PUBLIC_API_URL="http://localhost:3000"

# WebSocket & MQTT (Optional)
WEBSOCKET_PORT=8080
MQTT_BROKER_URL="mqtt://localhost:1883"
```

#### 4. Database Setup
```bash
# à¸ªà¸£à¹‰à¸²à¸‡à¸à¸²à¸™à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹à¸¥à¸°à¸•à¸²à¸£à¸²à¸‡
npm run setup-db

# à¹€à¸à¸´à¹ˆà¸¡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡
npm run seed

# à¸«à¸£à¸·à¸­à¸£à¸µà¹€à¸‹à¹‡à¸•à¸à¸²à¸™à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”
npm run db:fresh
```

#### 5. Start Development Server
```bash
npm run dev
```

ğŸ‰ **à¹€à¸›à¸´à¸”à¹€à¸šà¸£à¸²à¸§à¹Œà¹€à¸‹à¸­à¸£à¹Œ** à¹„à¸›à¸—à¸µà¹ˆ `http://localhost:3000`

---

## ğŸ“– à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™

### ğŸ‘¤ Default Users

| Role | Email | Password | à¸ªà¸´à¸—à¸˜à¸´à¹Œà¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™ |
|------|-------|----------|----------------|
| **Admin** | admin@iot-energy.com | Admin123! | à¸ˆà¸±à¸”à¸à¸²à¸£à¸£à¸°à¸šà¸šà¸—à¸±à¹‰à¸‡à¸«à¸¡à¸” |
| **Manager** | manager@iot-energy.com | Manager123! | à¸ˆà¸±à¸”à¸à¸²à¸£à¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¹à¸¥à¸°à¸”à¸¹ Dashboard |
| **User** | user@iot-energy.com | User123! | à¸”à¸¹ Dashboard à¹€à¸šà¸·à¹‰à¸­à¸‡à¸•à¹‰à¸™ |

### ğŸ–±ï¸ à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™à¸à¸·à¹‰à¸™à¸à¸²à¸™

#### 1. à¹€à¸‚à¹‰à¸²à¸ªà¸¹à¹ˆà¸£à¸°à¸šà¸š
- à¹€à¸›à¸´à¸” `http://localhost:3000`
- à¸à¸£à¸­à¸ Email à¹à¸¥à¸° Password
- à¸£à¸°à¸šà¸šà¸ˆà¸° redirect à¹„à¸› Dashboard à¸•à¸²à¸¡ Role

#### 2. Dashboard
- **Admin**: à¹€à¸‚à¹‰à¸²à¸–à¸¶à¸‡à¹„à¸”à¹‰à¸—à¸¸à¸à¸ªà¹ˆà¸§à¸™ (Users, Devices, Settings)
- **Manager**: à¸ˆà¸±à¸”à¸à¸²à¸£ Devices à¹à¸¥à¸° Energy Monitoring
- **User**: à¸”à¸¹ Dashboard à¹à¸¥à¸° Energy Statistics

#### 3. User Management (Admin à¹€à¸—à¹ˆà¸²à¸™à¸±à¹‰à¸™)
- à¹€à¸à¸´à¹ˆà¸¡à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¹ƒà¸«à¸¡à¹ˆà¸œà¹ˆà¸²à¸™ Modal
- à¹à¸à¹‰à¹„à¸‚à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰
- à¸¥à¸šà¸œà¸¹à¹‰à¹ƒà¸Šà¹‰ (à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¸¥à¸šà¸•à¸±à¸§à¹€à¸­à¸‡à¹„à¸”à¹‰)
- à¸”à¸¹à¸ªà¸–à¸´à¸•à¸´à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™

#### 4. Device Management
- à¸¥à¸‡à¸—à¸°à¹€à¸šà¸µà¸¢à¸™à¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¹ƒà¸«à¸¡à¹ˆ
- à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸²à¸•à¸³à¹à¸«à¸™à¹ˆà¸‡à¹à¸¥à¸°à¸›à¸£à¸°à¹€à¸ à¸—à¸¡à¸´à¹€à¸•à¸­à¸£à¹Œ
- à¸•à¸´à¸”à¸•à¸²à¸¡à¸ªà¸–à¸²à¸™à¸°à¸à¸²à¸£à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­
- à¸à¸£à¸­à¸‡à¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¸•à¸²à¸¡à¸„à¸“à¸°/à¸«à¸™à¹ˆà¸§à¸¢à¸‡à¸²à¸™

---

## ğŸ” à¸£à¸°à¸šà¸š Authentication

### ğŸ”„ Authentication Flow
```
User Login â†’ Credential Validation â†’ JWT Generation â†’ Cookie Storage â†’ Dashboard Access
```

### ğŸ›¡ï¸ Security Features
- **JWT Tokens** - à¸£à¸°à¸šà¸š Token à¸—à¸µà¹ˆà¸›à¸¥à¸­à¸”à¸ à¸±à¸¢à¹à¸¥à¸° Stateless
- **Password Hashing** - bcrypt à¸à¸±à¸š Salt Rounds 12
- **HttpOnly Cookies** - à¸›à¹‰à¸­à¸‡à¸à¸±à¸™ XSS Attacks
- **Route Protection** - Middleware à¸›à¹‰à¸­à¸‡à¸à¸±à¸™à¸à¸²à¸£à¹€à¸‚à¹‰à¸²à¸–à¸¶à¸‡à¹à¸šà¸šà¹„à¸¡à¹ˆà¹„à¸”à¹‰à¸£à¸±à¸šà¸­à¸™à¸¸à¸à¸²à¸•
- **Role-based Authorization** - à¸ªà¸´à¸—à¸˜à¸´à¹Œà¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™à¸•à¸²à¸¡ Role

### ğŸ§ª Testing Authentication
```bash
# à¸—à¸”à¸ªà¸­à¸šà¸à¸²à¸£à¹€à¸‚à¹‰à¸²à¸ªà¸¹à¹ˆà¸£à¸°à¸šà¸š
curl -X POST http://localhost:3000/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"email":"admin@iot-energy.com","password":"Admin123!"}'

# à¸—à¸”à¸ªà¸­à¸š Protected Route
curl -X GET http://localhost:3000/api/auth/me \
  -H "Authorization: Bearer YOUR_JWT_TOKEN"
```

---

## ğŸ“± API Documentation

### ğŸ” Authentication APIs

| Method | Endpoint | Description | Auth Required |
|--------|----------|-------------|---------------|
| POST | `/api/auth/login` | à¹€à¸‚à¹‰à¸²à¸ªà¸¹à¹ˆà¸£à¸°à¸šà¸š | âŒ |
| POST | `/api/auth/logout` | à¸­à¸­à¸à¸ˆà¸²à¸à¸£à¸°à¸šà¸š | âœ… |
| GET | `/api/auth/me` | à¸”à¸¹à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¸›à¸±à¸ˆà¸ˆà¸¸à¸šà¸±à¸™ | âœ… |
| POST | `/api/auth/register` | à¸¥à¸‡à¸—à¸°à¹€à¸šà¸µà¸¢à¸™ (Admin à¹€à¸—à¹ˆà¸²à¸™à¸±à¹‰à¸™) | âœ… Admin |

### ğŸ‘¥ User Management APIs

| Method | Endpoint | Description | Auth Required |
|--------|----------|-------------|---------------|
| GET | `/api/users` | à¸”à¸¹à¸£à¸²à¸¢à¸à¸²à¸£à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸” | âœ… Admin |
| POST | `/api/users` | à¹€à¸à¸´à¹ˆà¸¡à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¹ƒà¸«à¸¡à¹ˆ | âœ… Admin |
| GET | `/api/users/[id]` | à¸”à¸¹à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¸•à¸²à¸¡ ID | âœ… Admin |
| PUT | `/api/users/[id]` | à¹à¸à¹‰à¹„à¸‚à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰ | âœ… Admin |
| DELETE | `/api/users/[id]` | à¸¥à¸šà¸œà¸¹à¹‰à¹ƒà¸Šà¹‰ | âœ… Admin |

### ğŸ­ Device Management APIs

| Method | Endpoint | Description | Auth Required |
|--------|----------|-------------|---------------|
| GET | `/api/devices` | à¸”à¸¹à¸£à¸²à¸¢à¸à¸²à¸£à¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¸—à¸±à¹‰à¸‡à¸«à¸¡à¸” | âœ… |
| POST | `/api/devices` | à¹€à¸à¸´à¹ˆà¸¡à¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¹ƒà¸«à¸¡à¹ˆ | âœ… Admin/Manager |
| GET | `/api/devices/[id]` | à¸”à¸¹à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¸•à¸²à¸¡ ID | âœ… |
| PUT | `/api/devices/[id]` | à¹à¸à¹‰à¹„à¸‚à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸­à¸¸à¸›à¸à¸£à¸“à¹Œ | âœ… Admin/Manager |
| DELETE | `/api/devices/[id]` | à¸¥à¸šà¸­à¸¸à¸›à¸à¸£à¸“à¹Œ | âœ… Admin |

### ğŸ“Š Admin APIs

| Method | Endpoint | Description | Auth Required |
|--------|----------|-------------|---------------|
| GET | `/api/admin/dashboard` | à¸ªà¸–à¸´à¸•à¸´ Dashboard à¸ªà¸³à¸«à¸£à¸±à¸š Admin | âœ… Admin |
| GET | `/api/admin/login-stats` | à¸ªà¸–à¸´à¸•à¸´à¸à¸²à¸£ Login | âœ… Admin |
| GET | `/api/profile` | à¸”à¸¹à¸‚à¹‰à¸­à¸¡à¸¹à¸¥ Profile | âœ… |
| PUT | `/api/profile` | à¹à¸à¹‰à¹„à¸‚ Profile | âœ… |

### ğŸ”‘ API Authentication
à¸—à¸¸à¸ Protected API à¸•à¹‰à¸­à¸‡à¸ªà¹ˆà¸‡ Authorization Header:
```bash
Authorization: Bearer <your_jwt_token>
```

à¸«à¸£à¸·à¸­à¹ƒà¸Šà¹‰ Cookie (à¹à¸™à¸°à¸™à¸³):
```bash
Cookie: auth-token=<your_jwt_token>
```

---

## ğŸ—‚ï¸ à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡à¹‚à¸›à¸£à¹€à¸ˆà¸„

```
iot-electric-energy/
â”œâ”€â”€ ğŸ“ src/
â”‚   â”œâ”€â”€ ğŸ“ app/                     # Next.js 15 App Router
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ page.tsx             # à¸«à¸™à¹‰à¸²à¹à¸£à¸ (redirect)
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ layout.tsx           # Layout à¸«à¸¥à¸±à¸
â”‚   â”‚   â”œâ”€â”€ ğŸ“ login/               # Login page
â”‚   â”‚   â”œâ”€â”€ ğŸ“ dashboard/           # Dashboard pages
â”‚   â”‚   â””â”€â”€ ğŸ“ api/                 # API Routes
â”‚   â”‚       â”œâ”€â”€ ğŸ“ auth/            # Authentication APIs
â”‚   â”‚       â”œâ”€â”€ ğŸ“ users/           # User management APIs
â”‚   â”‚       â”œâ”€â”€ ğŸ“ devices/         # Device management APIs
â”‚   â”‚       â””â”€â”€ ğŸ“ admin/           # Admin-only APIs
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ components/              # React Components
â”‚   â”‚   â”œâ”€â”€ ğŸ“ ui/                  # Reusable UI components
â”‚   â”‚   â”œâ”€â”€ ğŸ“ layout/              # Layout components
â”‚   â”‚   â”œâ”€â”€ ğŸ“ forms/               # Form components
â”‚   â”‚   â””â”€â”€ ğŸ“ dashboard/           # Dashboard specific
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ lib/                     # Core libraries
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ database.ts          # PostgreSQL connection
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ auth.ts              # Authentication utilities
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ jwt.ts               # JWT utilities
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ userAPI.ts           # User API client
â”‚   â”‚   â””â”€â”€ ğŸ“„ deviceAPI.ts         # Device API client
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ store/                   # State management
â”‚   â”‚   â””â”€â”€ ğŸ“„ authStore.ts         # Zustand auth store
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ hooks/                   # Custom React hooks
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ useUsers.ts          # User management hook
â”‚   â”‚   â””â”€â”€ ğŸ“„ useDevices.ts        # Device management hook
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ types/                   # TypeScript definitions
â”‚   â”œâ”€â”€ ğŸ“ utils/                   # Utility functions
â”‚   â””â”€â”€ ğŸ“ models/                  # Data models
â”‚
â”œâ”€â”€ ğŸ“ public/                      # Static assets
â”œâ”€â”€ ğŸ“ docs/                        # Documentation
â”œâ”€â”€ ğŸ“ scripts/                     # Database scripts
â”œâ”€â”€ ğŸ“„ package.json                 # Dependencies
â”œâ”€â”€ ğŸ“„ tsconfig.json                # TypeScript config
â”œâ”€â”€ ğŸ“„ tailwind.config.ts           # Tailwind config
â”œâ”€â”€ ğŸ“„ middleware.ts                # Next.js middleware
â””â”€â”€ ğŸ“„ README.md                    # Documentation
```

---

## ğŸ§ª à¸à¸²à¸£à¸—à¸”à¸ªà¸­à¸š

### ğŸ”§ Available Scripts

| Script | Command | Description |
|--------|---------|-------------|
| **Development** | `npm run dev` | à¹€à¸£à¸´à¹ˆà¸¡ development server |
| **Build** | `npm run build` | Build production |
| **Start** | `npm run start` | à¹€à¸£à¸´à¹ˆà¸¡ production server |
| **Lint** | `npm run lint` | à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š code style |
| **Database** | `npm run db:check` | à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š database connection |
| **Reset DB** | `npm run db:fresh` | à¸£à¸µà¹€à¸‹à¹‡à¸• database à¹ƒà¸«à¸¡à¹ˆ |
| **List Users** | `npm run db:list-users` | à¹à¸ªà¸”à¸‡à¸£à¸²à¸¢à¸à¸²à¸£à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰ |

### âœ… Manual Testing Checklist

#### Authentication Testing
- [ ] Login à¸”à¹‰à¸§à¸¢ admin credentials
- [ ] Login à¸”à¹‰à¸§à¸¢ user credentials
- [ ] Login à¸”à¹‰à¸§à¸¢ credentials à¸œà¸´à¸” (à¸•à¹‰à¸­à¸‡ error)
- [ ] Logout à¹à¸¥à¸°à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š redirect
- [ ] Refresh à¸«à¸™à¹‰à¸²à¸«à¸¥à¸±à¸‡ login (à¸•à¹‰à¸­à¸‡à¸¢à¸±à¸‡à¸„à¸‡ login à¸­à¸¢à¸¹à¹ˆ)
- [ ] à¹€à¸‚à¹‰à¸² `/dashboard` à¹‚à¸”à¸¢à¹„à¸¡à¹ˆ login (à¸•à¹‰à¸­à¸‡ redirect à¹„à¸› login)

#### User Management Testing
- [ ] à¹à¸ªà¸”à¸‡à¸£à¸²à¸¢à¸à¸²à¸£à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸” (Admin)
- [ ] à¹€à¸à¸´à¹ˆà¸¡à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¹ƒà¸«à¸¡à¹ˆà¸œà¹ˆà¸²à¸™ modal
- [ ] à¹à¸à¹‰à¹„à¸‚à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰
- [ ] à¸¥à¸šà¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¸„à¸™à¸­à¸·à¹ˆà¸™
- [ ] à¸à¸¢à¸²à¸¢à¸²à¸¡à¸¥à¸šà¸•à¸±à¸§à¹€à¸­à¸‡ (à¸•à¹‰à¸­à¸‡à¸–à¸¹à¸à¸›à¹‰à¸­à¸‡à¸à¸±à¸™)

#### Dashboard Testing
- [ ] Dashboard à¸«à¸¥à¸±à¸à¹à¸ªà¸”à¸‡à¸ªà¸–à¸´à¸•à¸´à¸–à¸¹à¸à¸•à¹‰à¸­à¸‡
- [ ] à¹€à¸¡à¸™à¸¹ Sidebar à¸—à¸³à¸‡à¸²à¸™à¸›à¸à¸•à¸´
- [ ] à¸«à¸™à¹‰à¸² Energy à¹à¸ªà¸”à¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥
- [ ] à¸«à¸™à¹‰à¸² Devices à¹à¸ªà¸”à¸‡à¸£à¸²à¸¢à¸à¸²à¸£à¸­à¸¸à¸›à¸à¸£à¸“à¹Œ
- [ ] Responsive design à¸šà¸™à¸¡à¸·à¸­à¸–à¸·à¸­

### ğŸ› Debug Mode
```bash
# à¹€à¸›à¸´à¸” debug logs
DEBUG=* npm run dev

# à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¹ƒà¸™ Browser DevTools:
# - Console: Error messages
# - Network: API requests
# - Application: Cookies & LocalStorage
```

---

## ğŸš€ à¸à¸²à¸£ Deploy

### ğŸŒ Vercel Deployment (à¹à¸™à¸°à¸™à¸³)

#### 1. Prepare for Production
```bash
# Build production
npm run build

# Test production build
npm run start
```

#### 2. Deploy to Vercel
```bash
# Install Vercel CLI
npm install -g vercel

# Deploy
vercel

# Set environment variables
vercel env add DATABASE_URL
vercel env add JWT_SECRET
vercel env add NEXTAUTH_SECRET
```

#### 3. Database Setup
- à¸ªà¸£à¹‰à¸²à¸‡ PostgreSQL database à¸šà¸™ cloud (à¹€à¸Šà¹ˆà¸™ Neon, Supabase)
- à¸­à¸±à¸›à¹€à¸”à¸• `DATABASE_URL` à¹ƒà¸™ Vercel environment
- à¸£à¸±à¸™ migration scripts

### ğŸ³ Docker Deployment

#### 1. Create Dockerfile
```dockerfile
FROM node:18-alpine

WORKDIR /app
COPY package*.json ./
RUN npm ci --only=production

COPY . .
RUN npm run build

EXPOSE 3000
CMD ["npm", "start"]
```

#### 2. Build à¹à¸¥à¸° Run
```bash
# Build image
docker build -t iot-energy-app .

# Run container
docker run -p 3000:3000 \
  -e DATABASE_URL="your_db_url" \
  -e JWT_SECRET="your_secret" \
  iot-energy-app
```

### ğŸ”§ Environment Variables for Production

```env
# Database
DATABASE_URL="postgresql://user:pass@host:5432/db_prod"

# Security
JWT_SECRET="your-production-secret-minimum-32-characters"
NEXTAUTH_SECRET="your-nextauth-production-secret"
NEXTAUTH_URL="https://yourdomain.com"

# App
NODE_ENV="production"
NEXT_PUBLIC_API_URL="https://yourdomain.com"
```

---

## ğŸ“ à¸à¸²à¸£à¸ªà¸™à¸±à¸šà¸ªà¸™à¸¸à¸™

### ğŸ“š à¹€à¸­à¸à¸ªà¸²à¸£à¹€à¸à¸´à¹ˆà¸¡à¹€à¸•à¸´à¸¡
- ğŸ“– **API Documentation** - à¸£à¸²à¸¢à¸¥à¸°à¹€à¸­à¸µà¸¢à¸” API à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”
- ğŸ” **Authentication Guide** - à¸„à¸¹à¹ˆà¸¡à¸·à¸­à¸£à¸°à¸šà¸š Authentication
- ğŸ—„ï¸ **Database Schema** - à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡à¸à¸²à¸™à¸‚à¹‰à¸­à¸¡à¸¹à¸¥
- ğŸ¨ **UI Components** - à¸„à¸¹à¹ˆà¸¡à¸·à¸­à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™ Components

### ğŸ› ï¸ à¸à¸²à¸£à¹à¸à¹‰à¸›à¸±à¸à¸«à¸²

#### à¸›à¸±à¸à¸«à¸²à¸—à¸µà¹ˆà¸à¸šà¸šà¹ˆà¸­à¸¢
1. **Database Connection Error**
   ```bash
   # à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š connection
   npm run db:check
   
   # à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š .env file
   cat .env
   ```

2. **Authentication à¹„à¸¡à¹ˆà¸—à¸³à¸‡à¸²à¸™**
   ```bash
   # à¸¥à¹‰à¸²à¸‡ cookies à¹à¸¥à¸° localStorage
   # à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š JWT_SECRET à¹ƒà¸™ .env
   # à¸”à¸¹ Console errors à¹ƒà¸™ browser
   ```

3. **Build Error**
   ```bash
   # à¸¥à¹‰à¸²à¸‡ cache
   rm -rf .next
   npm run build
   ```

### ğŸ’¡ à¸à¸²à¸£à¸à¸±à¸’à¸™à¸²à¸•à¹ˆà¸­

#### ğŸ¯ Roadmap
- [ ] **Real-time Charts** - à¸à¸£à¸²à¸Ÿà¹à¸ªà¸”à¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹€à¸£à¸µà¸¢à¸¥à¹„à¸—à¸¡à¹Œ
- [ ] **Mobile App** - à¹à¸­à¸à¸¡à¸·à¸­à¸–à¸·à¸­ React Native
- [ ] **IoT Device Integration** - à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­à¸à¸±à¸šà¸­à¸¸à¸›à¸à¸£à¸“à¹Œà¸ˆà¸£à¸´à¸‡
- [ ] **Advanced Analytics** - à¸à¸²à¸£à¸§à¸´à¹€à¸„à¸£à¸²à¸°à¸«à¹Œà¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸‚à¸±à¹‰à¸™à¸ªà¸¹à¸‡
- [ ] **Notification System** - à¸£à¸°à¸šà¸šà¹à¸ˆà¹‰à¸‡à¹€à¸•à¸·à¸­à¸™
- [ ] **Multi-tenant Support** - à¸£à¸­à¸‡à¸£à¸±à¸šà¸«à¸¥à¸²à¸¢à¸­à¸‡à¸„à¹Œà¸à¸£

#### ğŸ¤ Contributing
1. Fork repository
2. à¸ªà¸£à¹‰à¸²à¸‡ feature branch (`git checkout -b feature/amazing-feature`)
3. Commit changes (`git commit -m 'Add amazing feature'`)
4. Push to branch (`git push origin feature/amazing-feature`)
5. à¹€à¸›à¸´à¸” Pull Request

---

## ğŸ“„ License

à¹‚à¸›à¸£à¹€à¸ˆà¸„à¸™à¸µà¹‰à¸à¸±à¸’à¸™à¸²à¹€à¸à¸·à¹ˆà¸­à¸à¸²à¸£à¸¨à¸¶à¸à¸©à¸²à¹à¸¥à¸°à¹ƒà¸Šà¹‰à¸‡à¸²à¸™à¸ à¸²à¸¢à¹ƒà¸™à¸­à¸‡à¸„à¹Œà¸à¸£

---

## ğŸ† à¸ªà¸£à¸¸à¸›

### âœ¨ à¸„à¸§à¸²à¸¡à¸ªà¸³à¹€à¸£à¹‡à¸ˆà¸—à¸µà¹ˆà¹„à¸”à¹‰à¸£à¸±à¸š
- âœ… **Authentication System** - à¸£à¸°à¸šà¸šà¸¢à¸·à¸™à¸¢à¸±à¸™à¸•à¸±à¸§à¸•à¸™à¹à¸šà¸šà¸„à¸£à¸šà¸–à¹‰à¸§à¸™
- âœ… **User Management** - CRUD à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¸à¸£à¹‰à¸­à¸¡ Role-based Access
- âœ… **Modern UI/UX** - Interface à¸—à¸µà¹ˆà¸—à¸±à¸™à¸ªà¸¡à¸±à¸¢à¹à¸¥à¸° Responsive
- âœ… **Database Integration** - PostgreSQL à¸à¸£à¹‰à¸­à¸¡ Optimization
- âœ… **API Architecture** - RESTful APIs à¸—à¸µà¹ˆà¸¡à¸µà¸¡à¸²à¸•à¸£à¸à¸²à¸™
- âœ… **Security Implementation** - à¸„à¸§à¸²à¸¡à¸›à¸¥à¸­à¸”à¸ à¸±à¸¢à¸£à¸°à¸”à¸±à¸š Production
- âœ… **TypeScript Integration** - Type Safety à¸—à¸±à¹‰à¸‡à¸£à¸°à¸šà¸š

### ğŸ“Š à¸ªà¸–à¸´à¸•à¸´à¹‚à¸›à¸£à¹€à¸ˆà¸„
- **ğŸ“ Total Files**: 50+ files
- **ğŸ’» Lines of Code**: 4,000+ lines
- **ğŸ§© Components**: 20+ React components
- **ğŸ”Œ API Endpoints**: 15+ REST APIs
- **ğŸ—„ï¸ Database Tables**: 3+ tables with relationships
- **ğŸ” Security Features**: JWT + bcrypt + RBAC

### ğŸš€ Production Ready
à¸£à¸°à¸šà¸šà¸à¸£à¹‰à¸­à¸¡à¹ƒà¸Šà¹‰à¸‡à¸²à¸™à¸ˆà¸£à¸´à¸‡à¹ƒà¸™ Production Environment à¸à¸£à¹‰à¸­à¸¡à¸”à¹‰à¸§à¸¢:
- Scalable Architecture
- Security Best Practices  
- Performance Optimization
- Comprehensive Error Handling
- Responsive Design
- TypeScript Type Safety

---

<div align="center">

**ğŸŒŸ à¸‚à¸­à¸šà¸„à¸¸à¸“à¸—à¸µà¹ˆà¹ƒà¸Šà¹‰à¸‡à¸²à¸™ IoT Electric Energy Management System!**

*Developed with â¤ï¸ using cutting-edge technologies*

[![Made with Next.js](https://img.shields.io/badge/Made%20with-Next.js-000000?style=for-the-badge&logo=next.js)](https://nextjs.org/)
[![Powered by TypeScript](https://img.shields.io/badge/Powered%20by-TypeScript-3178C6?style=for-the-badge&logo=typescript)](https://www.typescriptlang.org/)

**ğŸ“§ à¸ªà¸³à¸«à¸£à¸±à¸šà¸„à¸³à¸–à¸²à¸¡à¹à¸¥à¸°à¸à¸²à¸£à¸ªà¸™à¸±à¸šà¸ªà¸™à¸¸à¸™ à¸à¸£à¸¸à¸“à¸²à¸•à¸´à¸”à¸•à¹ˆà¸­à¸—à¸µà¸¡à¸à¸±à¸’à¸™à¸²**

</div>
